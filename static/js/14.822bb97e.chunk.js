(this["webpackJsonpmtg-collection"]=this["webpackJsonpmtg-collection"]||[]).push([[14],{328:function(e,t,n){"use strict";var a=n(28),r=n(110),c=n(0),o=n.n(c),u=n(39),i=n(7),l=n(8),s=n(6);function f(){var e=Object(i.a)(["\n            .MuiTypography-"," & {\n                height: ","px;\n                width: ","px;\n            }\n        "]);return f=function(){return e},e}function b(){var e=Object(i.a)(["\n    display: inline-block;\n    height: 16px;\n    width: 16px;\n    margin: 1px 1px -2px 1px;\n\n    ","\n"]);return b=function(){return e},e}var m=s.c.svg(b(),[["h1",80],["h2",51],["h3",42],["h4",30],["h5",25],["h6",20],["subtitle1",16],["subtitle2",14],["body1",16],["body2",14],["caption",12],["button",16],["overline",14]].map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(s.b)(f(),n,r,r)}))),p=function(e){var t=e.symbol,n=o.a.useContext(l.a),r=Object(a.a)(n,1)[0],c=o.a.useState(),u=Object(a.a)(c,2),i=u[0],s=u[1];return o.a.useEffect((function(){var e;s(null!==(e=r.symbolList[t])&&void 0!==e?e:Object.values(r.symbolList).find((function(e){return e.loose_variant===t})))}),[t,r.symbolList]),i?o.a.createElement(m,{dangerouslySetInnerHTML:{__html:i.svg}}):o.a.createElement(o.a.Fragment,null,t)};t.a=function(e){var t=e.text,n=Object(r.a)(e,["text"]),c=o.a.useState([]),i=Object(a.a)(c,2),l=i[0],s=i[1];return o.a.useEffect((function(){var e;s((null!==(e=t.match(/({.*?})|([^{]+)/g))&&void 0!==e?e:[]).map((function(e,t){return"{"===e[0]?o.a.createElement(p,{key:t,symbol:e}):o.a.createElement("span",{key:t},e)})))}),[t]),o.a.createElement(u.a,n,l)}},454:function(e,t,n){"use strict";n.r(t);var a=n(28),r=n(7),c=n(39),o=n(460),u=n(0),i=n.n(u),l=n(336),s=n(31),f=function(e){return Array.from(Array(e),(function(e,t){return{name:"Player ".concat(t+1),life:20,counters:{}}}))},b=Object(s.c)("{W}","{U}","{B}","{R}","{G}","{C}","{S}","{E}","{B/P}"),m={players:f(2),startingLife:20,startingPlayer:null},p=i.a.createContext([m,void 0]),y=n(13),d=n(10),v=n(66),x=n(384),j=n(452),g=Object(s.f)({players:function(e,t){switch(t.type){case"SetPlayers":return e.length<t.count?[].concat(Object(v.a)(e),Object(v.a)(f(t.count).slice(e.length))):e.slice(0,t.count);case"SetName":return e.map((function(e,n){return n===t.player?Object(d.a)({},e,{name:t.name}):e}));case"ToggleCounter":return e.map((function(e,n){return n===t.player?Object(d.a)({},e,{counters:void 0===e.counters[t.counter]?Object(d.a)({},e.counters,Object(y.a)({},t.counter,0)):Object(x.a)(e.counters,t.counter)}):e}));case"SetPlayerCounter":return e.map((function(e,n){return n===t.player?t.counter?Object(d.a)({},e,{counters:Object(d.a)({},e.counters,Object(y.a)({},t.counter,e.counters[t.counter]+t.value))}):Object(d.a)({},e,{life:e.life+t.value}):e}));case"SetStartingLife":return e.map((function(e){return Object(d.a)({},e,{life:t.value})}))}return e},startingLife:function(e,t){switch(t.type){case"SetStartingLife":return t.value}return e},startingPlayer:function(e,t){switch(t.type){case"SetStartingPlayer":return t.player}return e}}),h=Object(s.e)(g,(function(e,t){switch(t.type){case"Restart":return Object(d.a)({},e,{players:e.players.map((function(t){return Object(d.a)({},t,{life:e.startingLife,counters:Object(j.a)(t.counters,(function(){return 0}))})})),startingPlayer:null})}return e})),O=n(30),E=n(6),C=n(289),k=n(319),S=n(398),w=n(401),B=n.n(w),P=n(141),L=n.n(P),F=n(397),I=n.n(F),M=n(400),W=n.n(M),G=n(399),R=n.n(G),D=n(393),T=n.n(D),_=n(109),A=n(288),H=n(292),J=n(422),N=function(){var e=i.a.useRef(null),t=i.a.useState(0),n=Object(a.a)(t,2),r=n[0],c=n[1],o=i.a.useState(0),u=Object(a.a)(o,2),l=u[0],s=u[1];return i.a.useEffect((function(){var t,n,a,r;c(null!==(t=null===(n=e.current)||void 0===n?void 0:n.clientWidth)&&void 0!==t?t:0),s(null!==(a=null===(r=e.current)||void 0===r?void 0:r.clientHeight)&&void 0!==a?a:0)}),[]),[e,r,l]},z=n(328);function U(){var e=Object(r.a)(["\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: rgba(0, 0, 0, 0.25);\n    z-index: 1;\n"]);return U=function(){return e},e}function q(){var e=Object(r.a)(["\n            padding: 4px;\n        "]);return q=function(){return e},e}function K(){var e=Object(r.a)(["\n            filter: grayscale(1);\n            opacity: 0.25;\n        "]);return K=function(){return e},e}function Q(){var e=Object(r.a)(["\n    min-width: unset;\n    ","\n    ","\n"]);return Q=function(){return e},e}function V(){var e=Object(r.a)(["\n    position: absolute;\n    top: 0;\n"]);return V=function(){return e},e}function X(){var e=Object(r.a)(["\n    position: absolute;\n    opacity: 0.1;\n    transform: scale(2);\n    line-height: 0;\n"]);return X=function(){return e},e}function Y(){var e=Object(r.a)(["\n    position: absolute;\n    ",": 0;\n    ",": 10%;\n    justify-content: ",";\n    top: 0;\n    bottom: 0;\n    width: 50%;\n"]);return Y=function(){return e},e}function Z(){var e=Object(r.a)(["\n    position: relative;\n"]);return Z=function(){return e},e}function $(){var e=Object(r.a)(["\n                  width: ","px;\n                  height: ","px;\n              "]);return $=function(){return e},e}function ee(){var e=Object(r.a)(["\n                  width: ","px;\n                  height: ","px;\n              "]);return ee=function(){return e},e}function te(){var e=Object(r.a)(["\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    background: radial-gradient(circle, "," 0%, "," 75%);\n    border: 2px dashed ",";\n    transform: rotate(","deg) translate(-50%, -50%);\n    transform-origin: top left;\n    ","\n"]);return te=function(){return e},e}function ne(){var e=Object(r.a)(["\n    position: relative;\n    height: ","%;\n    flex-basis: ",";\n"]);return ne=function(){return e},e}var ae=E.c.div(ne(),(function(e){return e.players>4?100/3:50}),(function(e){return e.flexBasis})),re=Object(E.c)(l.Flex)(te(),(function(e){return e.theme.palette.background.paper}),(function(e){return e.theme.palette.background.default}),(function(e){return e.theme.palette.background.paper}),(function(e){return e.rotate}),(function(e){return 90===Math.abs(e.rotate)?Object(E.b)(ee(),e.h,e.w):Object(E.b)($(),e.w,e.h)})),ce=Object(E.c)(l.Flex)(Z()),oe=Object(E.c)(A.a)(Y(),(function(e){return e.position}),(function(e){return"padding-".concat(e.position)}),(function(e){return"flex-".concat("left"===e.position?"start":"end")})),ue=Object(E.c)(z.a)(X()),ie=Object(E.c)(c.a)(V()),le=Object(E.c)(A.a)(Q(),(function(e){return!e.styled.selected&&Object(E.b)(K())}),(function(e){return e.styled.tight&&Object(E.b)(q())})),se=E.c.div(U()),fe={2:[{rotate:180,flexBasis:"100%"},{rotate:0,flexBasis:"100%"}],3:[{rotate:90,flexBasis:"50%",counter:"body1"},{rotate:-90,flexBasis:"50%",counter:"body1"},{rotate:0,flexBasis:"100%"}],4:[{rotate:90,flexBasis:"50%",counter:"body1"},{rotate:-90,flexBasis:"50%",counter:"body1"},{rotate:90,flexBasis:"50%",counter:"body1"},{rotate:-90,flexBasis:"50%",counter:"body1"}],5:[{rotate:180,flexBasis:"100%"},{rotate:90,flexBasis:"50%",counter:"body2"},{rotate:-90,flexBasis:"50%",counter:"body2"},{rotate:90,flexBasis:"50%",counter:"body2"},{rotate:-90,flexBasis:"50%",counter:"body2"}],6:[{rotate:90,flexBasis:"50%",counter:"body2"},{rotate:-90,flexBasis:"50%",counter:"body2"},{rotate:90,flexBasis:"50%",counter:"body2"},{rotate:-90,flexBasis:"50%",counter:"body2"},{rotate:90,flexBasis:"50%",counter:"body2"},{rotate:-90,flexBasis:"50%",counter:"body2"}]},be=function(e){var t,n=e.player,r=i.a.useContext(p),o=Object(a.a)(r,2),u=o[0],s=o[1],f=N(),b=Object(a.a)(f,3),m=b[0],y=b[1],d=b[2],v=i.a.useState(),x=Object(a.a)(v,2),j=x[0],g=x[1],h=i.a.useState(0),O=Object(a.a)(h,2),C=O[0],S=O[1],w=u.players[n],B=w.name,P=w.life,L=w.counters,F=u.startingPlayer,I=j?L[j]:P,M=I-C;i.a.useEffect((function(){return S(I)}),[j]),i.a.useEffect((function(){S(I),g(void 0)}),[F]);var W=i.a.useCallback(Object(J.a)(S,1e3),[]),G=function(e){W(I+e),s({type:"SetPlayerCounter",player:n,value:e,counter:j})},R=Object(k.a)(E.a.breakpoints.down("xs")),D=i.a.useMemo((function(){return R?"h2":"h1"}),[R]),T=fe[u.players.length][n],_=T.rotate,A=T.flexBasis,U=T.counter;return i.a.createElement(ae,{ref:m,flexBasis:A,players:u.players.length},i.a.createElement(re,{rotate:_,w:y,h:d,flexGrow:1,flexDirection:"column",justifyContent:"center"},i.a.createElement(H.a,{in:n===F},i.a.createElement(se,{onClick:function(){return s({type:"SetStartingPlayer",player:null})}})),i.a.createElement(l.Flex,{py:3,height:"20%",justifyContent:"center",alignItems:"center"},i.a.createElement(c.a,{variant:"caption",align:"center"},B)),i.a.createElement(ce,{flexGrow:1,justifyContent:"center",alignItems:"center"},i.a.createElement(ue,{variant:D,text:null!==(t=j)&&void 0!==t?t:"{PW}"}),0!==M&&i.a.createElement(ie,{color:"primary",variant:"h6"},M>0?"+":"",M),i.a.createElement(oe,{position:"left",onClick:function(){return G(-1)}},i.a.createElement(c.a,{variant:"h6"},"-")),i.a.createElement(c.a,{variant:D,align:"center"},I),i.a.createElement(oe,{position:"right",onClick:function(){return G(1)}},i.a.createElement(c.a,{variant:"h6"},"+"))),i.a.createElement(l.Flex,{mx:3,height:"20%",justifyContent:"space-evenly",alignItems:"center"},Object.keys(L).map((function(e){var t;return i.a.createElement(l.Flex,{key:e,justifyContent:"center",alignItems:"center"},i.a.createElement(le,{styled:{selected:j===e,tight:"body2"===U},onClick:function(){return g(j===e?void 0:e)}},i.a.createElement(z.a,{variant:null!==(t=U)&&void 0!==t?t:"h6",text:"".concat(L[e]," ").concat(e)})))})))))};function me(){var e=Object(r.a)(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]);return me=function(){return e},e}var pe=Object(E.c)(C.a)(me()),ye=function(){var e=Object(k.a)(E.a.breakpoints.down("xs")),t=i.a.useState(!1),n=Object(a.a)(t,2),r=n[0],c=n[1],o=i.a.useState(!1),u=Object(a.a)(o,2),s=u[0],f=u[1],b=i.a.useContext(p),m=Object(a.a)(b,2),y=m[0],d=m[1],v=i.a.useMemo((function(){return new T.a}),[]);i.a.useEffect((function(){return function(){return v.disable()}}),[v]);var x=function(){v.disable(),c(!1),f(!1)},j=function(){f(!1)},g=function(){d({type:"SetStartingPlayer",player:Math.round(Math.random()*(y.players.length-1))}),j()},h=function(){d({type:"Restart"}),g()};return i.a.createElement(i.a.Fragment,null,i.a.createElement(O.a,null,i.a.createElement(_.a,{title:"Start match",onClick:function(){v.enable(),h(),c(!0)},background:"primary"},i.a.createElement(I.a,null))),i.a.createElement(S.a,{fullScreen:e,open:r,onClose:x},i.a.createElement(l.Flex,{flexWrap:"wrap",width:e?"100%":"550px",height:e?"100%":"900px"},y.players.map((function(e,t){return i.a.createElement(be,{key:t,player:t})}))),i.a.createElement(pe,{onClick:function(){f(!0)}},i.a.createElement(R.a,null)),i.a.createElement(S.a,{open:s,onClose:j},i.a.createElement(C.a,{onClick:h},i.a.createElement(W.a,null)),i.a.createElement(C.a,{onClick:x},i.a.createElement(L.a,null)),i.a.createElement(C.a,{onClick:g},i.a.createElement(B.a,null)))))},de=n(430),ve=n(404);function xe(){var e=Object(r.a)(["\n    & .MuiInputBase-input {\n        text-align: center;\n    }\n"]);return xe=function(){return e},e}function je(){var e=Object(r.a)(["\n    padding: 7px;\n    padding-bottom: 3px;\n    min-width: 0;\n"]);return je=function(){return e},e}var ge=Object(E.c)(A.a)(je()),he=Object(E.c)(de.a)(xe()),Oe=function(e){var t=e.player,n=i.a.useContext(p),r=Object(a.a)(n,2),c=r[0],o=r[1],u=c.players[t],s=u.name,f=u.counters,m=function(e){return o({type:"ToggleCounter",player:t,counter:e})};return i.a.createElement(l.Flex,{width:["100%","50%","50%","33%"],flexDirection:"column",alignItems:"center",my:2},i.a.createElement(l.Box,{width:180,pb:2},i.a.createElement(he,{value:s,onChange:function(e){return o({type:"SetName",player:t,name:e.target.value})},fullWidth:!0})),i.a.createElement(ve.a,null,b.slice(0,5).map((function(e){return i.a.createElement(ge,{key:e,onClick:function(){return m(e)},variant:void 0!==f[e]?"contained":void 0},i.a.createElement(z.a,{text:e,variant:"h5"}))}))),i.a.createElement(ve.a,null,b.slice(5).map((function(e){return i.a.createElement(ge,{key:e,onClick:function(){return m(e)},variant:void 0!==f[e]?"contained":void 0},i.a.createElement(z.a,{text:e,variant:"h5"}))}))))};function Ee(){var e=Object(r.a)(["\n    flex-basis: 20px;\n    text-align: right;\n"]);return Ee=function(){return e},e}function Ce(){var e=Object(r.a)(["\n    flex-basis: 20%;\n"]);return Ce=function(){return e},e}var ke=Object(E.c)(c.a)(Ce()),Se=Object(E.c)(c.a)(Ee());t.default=function(){var e=i.a.useReducer(h,m),t=Object(a.a)(e,2),n=t[0],r=t[1],c=i.a.useState(n.players.length),u=Object(a.a)(c,2),s=u[0],f=u[1];return i.a.createElement(p.Provider,{value:[n,r]},i.a.createElement(O.b,null,i.a.createElement(O.e,null,"Lifecounter"),i.a.createElement(l.Flex,{alignItems:"center",justifyContent:"space-between"},i.a.createElement(ke,null,"Players"),i.a.createElement(l.Box,{mx:3,flexGrow:1},i.a.createElement(o.a,{value:s,onChange:function(e,t){return f(t)},onChangeCommitted:function(){return r({type:"SetPlayers",count:s})},step:1,min:2,max:6,marks:!0,valueLabelDisplay:"off"})),i.a.createElement(Se,null,s)),i.a.createElement(l.Flex,{alignItems:"center",justifyContent:"space-between"},i.a.createElement(ke,null,"Starting life"),i.a.createElement(l.Box,{mx:3,flexGrow:1},i.a.createElement(o.a,{value:n.startingLife,onChange:function(e,t){return r({type:"SetStartingLife",value:t})},step:5,min:10,max:50,marks:!0,valueLabelDisplay:"off"})),i.a.createElement(Se,null,n.startingLife)),i.a.createElement(l.Flex,{justifyContent:"center",flexWrap:"wrap"},n.players.map((function(e,t){return i.a.createElement(Oe,{key:t,player:t})}))),i.a.createElement(ye,null)))}}}]);
//# sourceMappingURL=14.822bb97e.chunk.js.map