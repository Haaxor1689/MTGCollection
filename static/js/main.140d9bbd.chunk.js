(this["webpackJsonpmtg-collection"]=this["webpackJsonpmtg-collection"]||[]).push([[0],{308:function(e,n,t){e.exports=t.p+"static/media/logo.81aa9e7e.png"},320:function(e,n,t){e.exports=t(356)},356:function(e,n,t){"use strict";t.r(n);var a,r,c,o=t(432),i=t(427),l=t(425),u=t(0),s=t.n(u),m=t(15),f=t.n(m),d=t(41),p=t(110),h=t(10),b=t(19),g=t.n(b),v=t(7),E=t(5),y=t(421),O=t(393),j=t(422),x=t(423),k=t(424),w=t(414),C=t(66),S=t(407),D=t(404),N=t(434),W=t(418),I=t(310),P=t.n(I),z=t(103),A=t.n(z),B=t(309),L=t.n(B),T=t(94),M=t.n(T),U=t(117),R=t.n(U),F=t(22),_=t(45),G=function(){return s.a.createElement("div",null,"Not found")},H=t(394),$=t(396),q=t(370),J=t(397),Q=t(398),K=t(399),X=t(400),V=t(401),Y=t(91),Z=t.n(Y),ee=t(9);!function(e){e.Collection="_collection",e.Wishlist="_wishlist"}(c||(c={}));var ne,te=function(e){return e===c.Collection?"Collection":e===c.Wishlist?"Wishlist":e};!function(e){e.Default="_default",e.Sideboard="Sideboard",e.Maybeboard="Maybeboard"}(ne||(ne={}));var ae=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.reduce((function(e,n){return Object(h.a)({},e,Object(ee.a)({},n,{}))}),Object(ee.a)({},ne.Default,{}))},re={files:(a={},Object(ee.a)(a,c.Collection,""),Object(ee.a)(a,c.Wishlist,""),a),decks:(r={},Object(ee.a)(r,c.Collection,{name:c.Collection,cards:ae()}),Object(ee.a)(r,c.Wishlist,{name:c.Wishlist,cards:ae()}),r),cardList:{},symbolList:{},setList:{},selectedDeck:c.Collection},ce=s.a.createContext([re,void 0]),oe=s.a.createContext({signOut:function(){}}),ie=t(2),le=t(17),ue=function(e,n,t){return t.indexOf(e)===n},se=function(e){return null!==e&&void 0!==e},me=function(e){return function(n,t){var a={};for(var r in e)a[r]=e[r](n[r],t);return a}},fe=function(e){switch(e){case"chip":return 9;case"inline":return 12;case void 0:return 24}},de=function(){var e=R.a.create({baseURL:"https://api.scryfall.com",responseType:"json",headers:{"Content-Type":"application/json"}});return{endpoint:e,Symbology:{All:function(){return e.get("/symbology").then((function(e){return e.data.data}))},ParseMana:function(n){return e.get("/symbology/parse-mana",{params:{cost:n}}).then((function(e){return e.data}))}},Cards:{Autocomplete:function(n){return e.get("/cards/autocomplete",{params:{q:n,include_extras:!0}}).then((function(e){return e.data.data}))},Named:function(n){return e.get("/cards/named",{params:{fuzzy:n}}).then((function(e){return e.data}))},Collection:function(n){var t;return(null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0)<=0?Promise.resolve([]):Promise.all(function e(n,t){return n.length<=t?[n]:[n.slice(0,t)].concat(e(n.slice(t),t))}(n,75).map((function(n){return e.post("/cards/collection",{identifiers:n})}))).then((function(e){return e.flatMap((function(e){return e.data.data}))}))}},Sets:{All:function(){return e.get("/sets").then((function(e){return e.data.data}))}}}}(),pe=Object(h.a)({},de,{getImage:function(e,n){var t,a,r;switch(e.layout){case"transform":case"double_faced_token":r=e.card_faces[0].image_uris;break;default:r=e.image_uris}return null!==(t=null===(a=r)||void 0===a?void 0:a[n])&&void 0!==t?t:null},getPlaceholder:function(e){return"https://via.placeholder.com/146x204?text=".concat(e.replace(/\s/,"+"))},getColorIdentity:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(se).flatMap((function(e){return e.color_identity})).filter(ue).map((function(e){return"{".concat(e,"}")})).join("")}}),he=function(e,n){return function(t){var a,r=Object.values(null!==(a=null===t||void 0===t?void 0:t.cards)&&void 0!==a?a:{}).reduce((function(e,n){return[].concat(Object(le.a)(e),Object(le.a)(Object.values(n)))}),[]).filter((function(e){return!n.cardList[e.name]}));pe.Cards.Collection(r.map((function(e){return{name:e.name}}))).then((function(n){return e({type:"AddCards",cards:n})}))}},be=t(277),ge=t(55),ve={serialize:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];return e&&""!==e?e.split("##").map((function(e,n){var t,a;if(0===n)t=ne.Default,a=e.split(/\r?\n/);else{var r=e.split(/\r?\n/),c=Object(be.a)(r);t=c[0],a=c.slice(1)}return[t,a.map((function(e){return e.match(/^(\d*) +(.*?)(?: # (.*))?$/)})).filter((function(e){return!Object(ge.isNull)(e)})).map((function(e){return{amount:parseInt(e[1]),name:e[2],comment:e[3]}}))]})).reduce((function(e,n){return Object(h.a)({},e,Object(ee.a)({},n[0],n[1].reduce((function(e,n){return Object(h.a)({},e,Object(ee.a)({},n.name,n))}),{})))}),ae.apply(void 0,t)):ae.apply(void 0,t)},deserialize:function(e){return Object.entries(e).reduce((function(e,n){return"".concat(e).concat(n[0]!==ne.Default?"#".concat(n[0],"\n"):"").concat(Object.values(n[1]).reduce((function(e,n){return"".concat(e).concat(n.amount," ").concat(n.name).concat(n.comment?" # ".concat(n.comment):"","\n")}),""),"\n")}),"")}},Ee={apiKey:"AIzaSyBcke75SLGGCMiId3EcThDcLnbmnKasWyE",clientId:"213841300532-aqinavnoi53if8cbk6re0aa6gkf965q3.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],scope:"profile https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/drive.file"},ye=function(e){var n,t,a,r,c,o,i,l,u,s,m,f,d;return g.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return r=e.name,c=e.props,o=e.fileContent,i=e.folder,l=new Blob([null!==(n=o)&&void 0!==n?n:""],{type:"text/plain"}),u={name:r,mimeType:"text/plain",appProperties:null!==(t=c)&&void 0!==t?t:{},parents:["appDataFolder"].concat(Object(le.a)(null!==(a=i)&&void 0!==a?a:[]))},s=gapi.auth.getToken().access_token,(m=new FormData).append("metadata",new Blob([JSON.stringify(u)],{type:"application/json"})),m.append("file",l),p.next=9,g.a.awrap(fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",{method:"POST",headers:new Headers({Authorization:"Bearer "+s}),body:m}));case 9:return f=p.sent,p.next=12,g.a.awrap(f.json());case 12:return d=p.sent,p.abrupt("return",d.id);case 14:case"end":return p.stop()}}))},Oe=function(e){var n;return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,t.abrupt("return",gapi.client.drive.files.delete({fileId:n}));case 2:case"end":return t.stop()}}))},je=function(e,n){return function(t){var a,r,c,o;return g.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.name,r=t.fileContent,c=Object(ie.a)(t,["name","fileContent"]),o=Object(h.a)({name:a,cards:ve.serialize(r,ne.Sideboard,ne.Maybeboard),isDirty:!1},c),i.t0=e,i.t1=h.a,i.next=6,g.a.awrap(ye({name:"".concat(a,".txt"),props:Object(h.a)({name:a},c),fileContent:r}));case 6:i.t2=i.sent,i.t3={type:"CreateDeck",link:i.t2},i.t4=o,i.t5=(0,i.t1)(i.t3,i.t4),(0,i.t0)(i.t5),he(e,n)(o);case 12:case"end":return i.stop()}}))}},xe=function(e,n){return function(t,a){var r,c;return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=t,o.t1=ve,o.next=4,g.a.awrap(ke.getFileContents({id:a.id}));case 4:o.t2=o.sent,o.t3=ne.Sideboard,o.t4=ne.Maybeboard,o.t5=o.t1.serialize.call(o.t1,o.t2,o.t3,o.t4),o.t6=null===(r=a.appProperties)||void 0===r?void 0:r.previewUrl,c={name:o.t0,cards:o.t5,isDirty:!1,previewUrl:o.t6},e(Object(h.a)({type:"CreateDeck",link:a.id},c)),he(e,n)(c);case 12:case"end":return o.stop()}}))}},ke={initClient:function(e){gapi.load("client:auth2",(function(){gapi.client.init(Ee).then((function(){gapi.auth2.getAuthInstance().isSignedIn.listen(e),e(gapi.auth2.getAuthInstance().isSignedIn.get())}),console.error)}))},getProfile:function(){return gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile()},signIn:function(){return gapi.auth2.getAuthInstance().signIn()},signOut:function(){return gapi.auth2.getAuthInstance().signOut()},prepareAppData:function(e,n){return function(){var t,a,r,o,i,l,u,s,m,f,d,p,h,b,v,E,y,O;return g.a.async((function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,g.a.awrap(gapi.client.drive.files.list({spaces:"appDataFolder",fields:"nextPageToken, files(id, name, appProperties)"}));case 2:if(u=j.sent,s=null===(t=u.result)||void 0===t?void 0:null===(a=t.files)||void 0===a?void 0:a.find((function(e){var n;return(null===(n=e.appProperties)||void 0===n?void 0:n.name)===c.Collection}))){j.next=10;break}return console.info("Creating collection..."),j.next=8,g.a.awrap(je(e,n)({name:c.Collection}));case 8:j.next=13;break;case 10:return console.info("Loading collection..."),j.next=13,g.a.awrap(xe(e,n)(c.Collection,s));case 13:if(m=null===(r=u.result)||void 0===r?void 0:null===(o=r.files)||void 0===o?void 0:o.find((function(e){var n;return(null===(n=e.appProperties)||void 0===n?void 0:n.name)===c.Wishlist}))){j.next=20;break}return console.info("Creating wishlist..."),j.next=18,g.a.awrap(je(e,n)({name:c.Wishlist}));case 18:j.next=23;break;case 20:return console.info("Loading wishlist..."),j.next=23,g.a.awrap(xe(e,n)(c.Wishlist,m));case 23:for(f=null===(i=u.result)||void 0===i?void 0:null===(l=i.files)||void 0===l?void 0:l.filter((function(e){var n,t;return(null===(n=e.appProperties)||void 0===n?void 0:n.name)!==c.Collection&&(null===(t=e.appProperties)||void 0===t?void 0:t.name)!==c.Wishlist})),d=0;d<f.length;d++)y=f[d],O=null!==(p=null!==(h=null===(b=y.appProperties)||void 0===b?void 0:b.name)&&void 0!==h?h:null===(v=y.name)||void 0===v?void 0:null===(E=v.match(/(.*?)\.txt/))||void 0===E?void 0:E[0])&&void 0!==p?p:"unnamed",xe(e,n)(O,y);case 25:case"end":return j.stop()}}))}},createNewFile:ye,updateFile:function(e){var n,t,a,r,c,o,i;return g.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=e.id,t=e.fileContent,a=new Blob([t],{type:"text/plain"}),r=gapi.auth.getToken().access_token,(c=new FormData).append("file",a),l.next=7,g.a.awrap(fetch("https://www.googleapis.com/upload/drive/v3/files/".concat(n,"?uploadType=media&fields=id"),{method:"PATCH",headers:new Headers({Authorization:"Bearer "+r}),body:c}));case 7:return o=l.sent,l.next=10,g.a.awrap(o.json());case 10:return i=l.sent,l.abrupt("return",i.id);case 12:case"end":return l.stop()}}))},deleteFile:Oe,createNewDeck:je,downloadDeck:xe,deleteDeck:function(e){return function(n){var t,a;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=n.name,a=n.id,r.next=3,g.a.awrap(Oe({id:a}));case 3:e({type:"DeleteDeck",name:t});case 4:case"end":return r.stop()}}))}},getFileContents:function(e){var n,t;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.id,a.next=3,g.a.awrap(gapi.client.drive.files.get({fileId:n,alt:"media"}));case 3:return t=a.sent,a.abrupt("return",t.body);case 5:case"end":return a.stop()}}))}},we=ke,Ce=function(e,n){var t=s.a.useContext(e),a=Object(v.a)(t,2),r=a[0];return n(a[1],r)},Se=t(430),De=t(395),Ne=function(e){var n=e.label,t=e.onNameSelect,a=s.a.useState(""),r=Object(v.a)(a,2),c=r[0],o=r[1],i=s.a.useState(!1),l=Object(v.a)(i,2),u=l[0],m=l[1],f=s.a.useState([]),d=Object(v.a)(f,2),p=d[0],b=d[1],g=s.a.useState(!1),E=Object(v.a)(g,2),y=E[0],O=E[1],j=s.a.useState(void 0),x=Object(v.a)(j,2),k=x[0],w=x[1],C=function(e){o(e),b([]),t&&t(e)};return s.a.useEffect((function(){u||b([])}),[u]),s.a.createElement(Se.a,{style:{width:300},open:u,value:c,onOpen:function(){return m(!0)},onClose:function(){return m(!1)},onChange:function(e,n){return C(n)},onInputChange:function(e,n,t){return function(e,n){c!==e&&"reset"!==n&&(o(e),clearTimeout(k),w(setTimeout((function(){e.length<2||(O(!0),pe.Cards.Autocomplete(e).then((function(n){b(n),O(!1),1===n.length&&n[0].toLowerCase().includes(e.toLowerCase())&&(o(n[0]),C(n[0]),m(!1))})))}),500)))}(n,t)},options:p,loading:y,renderInput:function(e){return s.a.createElement(H.a,Object.assign({},e,{label:n,fullWidth:!0,variant:"outlined",InputProps:Object(h.a)({},e.InputProps,{endAdornment:s.a.createElement(s.a.Fragment,null,y?s.a.createElement(De.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})},We=t(158),Ie=t(311),Pe=t(13),ze=Object(Ie.a)({palette:{type:"dark",primary:{main:Pe.a.deepOrange[700]},secondary:{main:Pe.a.blueGrey[500]}}},{constants:{drawerWidth:"260px",drawerWidthClosed:"72px",appletHeight:"280px"}}),Ae=(p.a,p.b),Be=p.c;function Le(){var e=Object(E.a)(["\n    background-color: ",";\n    color: ",";\n"]);return Le=function(){return e},e}function Te(){var e=Object(E.a)([""]);return Te=function(){return e},e}function Me(){var e=Object(E.a)(["\n    align-self: flex-end;\n"]);return Me=function(){return e},e}function Ue(){var e=Object(E.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    min-height: ",";\n    overflow: hidden;\n    padding: ","px;\n    "," {\n        & {\n            padding: ","px;\n        }\n    }\n"]);return Ue=function(){return e},e}function Re(){var e=Object(E.a)(["\n    flex: 1 1 auto;\n"]);return Re=function(){return e},e}var Fe=Be.div(Re()),_e=Be(We.a)(Ue(),(function(e){return e.theme.constants.appletHeight}),(function(e){return e.theme.spacing(4)}),(function(e){return e.theme.breakpoints.down("xs")}),(function(e){return e.theme.spacing(2)})),Ge=Be.div(Me()),He=Be(C.a).attrs((function(e){return{component:"h2",variant:"h4",color:"primary",gutterBottom:!0}}))(Te()),$e=Be(N.a)(Le(),(function(e){return e.theme.palette.background.paper}),(function(e){return e.theme.palette.text.secondary}));function qe(){var e=Object(E.a)(["\n    display: flex;\n    margin-top: ","px;\n    align-items: center;\n\n    & .MuiAutocomplete-root {\n        flex-grow: 1;\n        margin-right: ","px;\n    }\n"]);return qe=function(){return e},e}var Je=Be.div(qe(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(1)})),Qe=function(){var e=Object(F.f)(),n=s.a.useContext(ce),t=Object(v.a)(n,1)[0],a=Ce(ce,we.createNewDeck),r=s.a.useState(""),c=Object(v.a)(r,2),o=c[0],i=c[1],l=s.a.useState(""),u=Object(v.a)(l,2),m=u[0],f=u[1],d=s.a.useState(!1),p=Object(v.a)(d,2),h=p[0],b=p[1],g=s.a.useState(null),E=Object(v.a)(g,2),y=E[0],O=E[1],j=s.a.useState(""),x=Object(v.a)(j,2),k=x[0],w=x[1],C=function(){return b(!1)},S=function(){a({name:m,fileContent:o,previewUrl:k}),e.push("/decks/".concat(encodeURIComponent(m)))},D=function(e){f(e),""!==e?e.indexOf("%")>=0?O("Deck name can't contain '%'"):t.decks[e]?O("Deck with this name already exists"):O(null):O("Deck name can't be empty")};return s.a.useEffect((function(){return D("")}),[]),s.a.createElement(_e,null,s.a.createElement(He,null,"Add deck"),s.a.createElement(Fe,null,s.a.createElement(H.a,{label:"Deck name",variant:"outlined",error:!!y,helperText:y,value:m,onChange:function(e){return D(e.target.value)},fullWidth:!0}),s.a.createElement(Je,null,s.a.createElement(Ne,{label:"Preview card",onNameSelect:function(e){e?pe.Cards.Named(e).then((function(e){var n;w(null!==(n=pe.getImage(e,"art_crop"))&&void 0!==n?n:"")})):w("")}}),s.a.createElement(N.a,{alt:"Preview icon",src:k},s.a.createElement(Z.a,null)))),s.a.createElement(Ge,null,s.a.createElement($.a,{size:"small"},s.a.createElement(q.a,{disabled:!!y,onClick:function(){return b(!0)}},"Import"),s.a.createElement(q.a,{disabled:!!y,color:"primary",onClick:S},"Create empty"))),s.a.createElement(J.a,{open:h,onClose:C,"aria-labelledby":"import-deck-dialog",fullWidth:!0,maxWidth:"md"},s.a.createElement(Q.a,{id:"import-deck-dialog"},"Import"),s.a.createElement(K.a,null,s.a.createElement(X.a,null,"Paste exported deck below."),s.a.createElement(H.a,{autoFocus:!0,fullWidth:!0,label:"Import",multiline:!0,rows:"15",variant:"outlined",value:o,onChange:function(e){return i(e.target.value)}})),s.a.createElement(V.a,null,s.a.createElement(q.a,{onClick:C,color:"primary"},"Cancel"),s.a.createElement(q.a,{onClick:S,color:"primary"},"Import"))))},Ke=t(403),Xe=t(11),Ve=t(93),Ye=t.n(Ve),Ze=t(298),en=t.n(Ze),nn=t(299),tn=t.n(nn),an=t(284),rn=t.n(an);function cn(){var e=Object(E.a)(["\n    margin-top: ","px;\n"]);return cn=function(){return e},e}function on(){var e=Object(E.a)(["\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n"]);return on=function(){return e},e}var ln=Be(_e)(on()),un=Be(C.a)(cn(),(function(e){return e.theme.spacing(2)})),sn=function(){return s.a.createElement(ln,null,s.a.createElement(De.a,{size:60}),s.a.createElement(un,{variant:"h6"},"Loading..."))},mn=t(154),fn=t(433),dn=t(285);var pn=function(e,n){if(!e)throw new dn.AssertionError({message:n})},hn=function(e){var n,t,a=e.card,r=e.deckName,o=e.sectionName,i=s.a.useContext(ce),l=Object(v.a)(i,2),u=l[0],m=l[1],f=null!==(n=null!==(t=r)&&void 0!==t?t:u.selectedDeck)&&void 0!==n?n:null,d=function(){return void 0!==u.decks[c.Wishlist].cards[ne.Default][a.name]},p=(f?Object.keys(u.decks[f].cards):[]).filter((function(e){return e!==o}));return{updateCardQuantity:function(e){var n;pn(!Object(_.isNullOrUndefined)(r),"DeckName should not be empty if the preview actions are Deck"),m({type:"UpdateDeckCard",deckName:r,sectionName:null!==(n=o)&&void 0!==n?n:ne.Default,card:Object(h.a)({},a,{amount:e})})},openScryfallPage:function(){return a.scryfall_uri&&window.open(a.scryfall_uri,"_blank")},openScryfallSetPage:function(){return a.scryfall_set_uri&&window.open(a.scryfall_set_uri,"_blank")},isOnWishlist:d,toggleWishlist:function(){return d()?m({type:"UpdateDeckCard",deckName:c.Wishlist,sectionName:ne.Default,card:Object(h.a)({},a,{amount:0})}):m({type:"UpdateDeckCard",deckName:c.Wishlist,sectionName:ne.Default,card:Object(h.a)({},a,{amount:1})})},wishlistTooltip:function(){return d()?"Remove from wishlist":"Add to wishlist"},removeCard:function(){var e;pn(!Object(_.isNullOrUndefined)(r),"DeckName should not be empty if the preview actions are Deck"),m({type:"UpdateDeckCard",deckName:r,sectionName:null!==(e=o)&&void 0!==e?e:ne.Default,card:Object(h.a)({},a,{amount:0})})},sections:p,changeSection:function(e){var n;pn(!Object(_.isNullOrUndefined)(r),"DeckName should not be empty if the preview actions are Deck"),m({type:"UpdateDeckCard",deckName:r,sectionName:null!==(n=o)&&void 0!==n?n:ne.Default,card:Object(h.a)({},a,{amount:0})}),m({type:"UpdateDeckCard",deckName:r,sectionName:e,card:Object(h.a)({},a,{amount:a.amount})})},addToDeck:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne.Default;pn(!Object(_.isNullOrUndefined)(f),"TargetDeck should not be empty if the preview actions are SearchDeck"),m({type:"UpdateDeckCard",deckName:f,sectionName:e,card:Object(h.a)({},a,{amount:1})})}}},bn=t(359),gn=t(402),vn=t(287),En=t.n(vn),yn=t(286),On=t.n(yn);function jn(){var e=Object(E.a)(["\n            & .MuiIconButton-label {\n                margin-top: -3px;\n            }\n        "]);return jn=function(){return e},e}function xn(){var e=Object(E.a)(["\n    height: ","px;\n    width: ","px;\n    padding: 0;\n    ","\n    &:first-of-type {\n        border-bottom-left-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n    &:last-of-type {\n        border-top-left-radius: 0;\n        border-top-right-radius: 0;\n    }\n"]);return xn=function(){return e},e}function kn(){var e=Object(E.a)(["\n    display: flex;\n    flex-direction: column;\n    transform: translate(calc(50% + ","px), calc(-100% + ","px));\n    background-color: ",";\n    border-radius: ","px;\n"]);return kn=function(){return e},e}function wn(){var e=Object(E.a)(["\n            width: 48px;\n            height: 48px;\n            font-size: 2rem;\n        "]);return wn=function(){return e},e}function Cn(){var e=Object(E.a)(["\n            width: ","px;\n            height: ","px;\n            font-size: 0.875rem;\n        "]);return Cn=function(){return e},e}function Sn(){var e=Object(E.a)(["\n            background-color: ",";\n        "]);return Sn=function(){return e},e}function Dn(){var e=Object(E.a)(["\n    cursor: pointer;\n    color: ",";\n\n    ","\n\n    ","\n\n    ","\n"]);return Dn=function(){return e},e}var Nn=Be(N.a).attrs((function(e){return{className:"chip"===e.size?e.className+" MuiChip-avatar MuiChip-avatarSmall":e.className}}))(Dn(),(function(e){return e.theme.palette.text.primary}),(function(e){return e.open&&Ae(Sn(),e.theme.palette.grey[500])}),(function(e){return"inline"===e.size&&Ae(Cn(),e.theme.spacing(3),e.theme.spacing(3))}),(function(e){return!e.size&&Ae(wn())})),Wn=Be.div(kn(),(function(e){return fe(e.size)}),(function(e){return fe(e.size)}),(function(e){return e.theme.palette.grey[600]}),(function(e){return fe(e.size)})),In=Be(O.a)(xn(),(function(e){return e.s?"chip"===e.s?18:24:48}),(function(e){return e.s?"chip"===e.s?18:24:48}),(function(e){return"chip"===e.s&&Ae(jn())})),Pn=function(e){var n=e.val,t=e.onChange,a=e.size,r=e.className,c=s.a.useState(null),o=Object(v.a)(c,2),i=o[0],l=o[1],u=!!i,m=function(e){return function(a){a.stopPropagation(),t(n+e)}};return s.a.createElement(s.a.Fragment,null,s.a.createElement(Nn,{className:r,title:"",size:a,onClick:function(e){l(i?null:e.currentTarget),e.stopPropagation()},open:u},n),s.a.createElement(bn.a,{open:u,anchorEl:i},s.a.createElement(gn.a,{onClickAway:function(){return l(null)}},s.a.createElement(Wn,{size:a},s.a.createElement(In,{s:a,onClick:m(1)},s.a.createElement(On.a,null)),s.a.createElement(In,{s:a,onClick:m(-1)},s.a.createElement(En.a,null))))))};function zn(){var e=Object(E.a)(["\n            .MuiTypography-"," & {\n                height: ","px;\n                width: ","px;\n            }\n        "]);return zn=function(){return e},e}function An(){var e=Object(E.a)(["\n    display: inline-block;\n    height: 16px;\n    width: 16px;\n    margin: 1px 1px -2px 1px;\n\n    ","\n"]);return An=function(){return e},e}var Bn=Be.svg(An(),[["h1",80],["h2",51],["h3",42],["h4",30],["h5",25],["h6",20],["subtitle1",16],["subtitle2",14],["body1",16],["body2",14],["caption",12],["button",16],["overline",14]].map((function(e){var n=Object(v.a)(e,2),t=n[0],a=n[1];return Ae(zn(),t,a,a)}))),Ln=function(e){var n=e.symbol,t=s.a.useContext(ce),a=Object(v.a)(t,1)[0],r=s.a.useState(),c=Object(v.a)(r,2),o=c[0],i=c[1];return s.a.useEffect((function(){var e;i(null!==(e=a.symbolList[n])&&void 0!==e?e:Object.values(a.symbolList).find((function(e){return e.loose_variant===n})))}),[n,a.symbolList]),o?s.a.createElement(Bn,{dangerouslySetInnerHTML:{__html:o.svg}}):s.a.createElement(s.a.Fragment,null,n)},Tn=function(e){var n=e.text,t=Object(ie.a)(e,["text"]),a=s.a.useState([]),r=Object(v.a)(a,2),c=r[0],o=r[1];return s.a.useEffect((function(){var e;o((null!==(e=n.match(/({.*?})|([^{]+)/g))&&void 0!==e?e:[]).map((function(e,n){return"{"===e[0]?s.a.createElement(Ln,{key:n,symbol:e}):s.a.createElement("span",{key:n},e)})))}),[n]),s.a.createElement(C.a,t,c)};function Mn(){var e=Object(E.a)(["\n    width: 100%;\n\n    & .MuiChip-label {\n        flex: 1 1 auto;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    & .MuiChip-deleteIcon {\n        width: unset;\n        height: unset;\n        flex-shrink: 0;\n        margin-left: ","px;\n        margin-top: 1px;\n    }\n"]);return Mn=function(){return e},e}var Un=Be(fn.a)(Mn(),(function(e){return e.theme.spacing(1)})),Rn=function(e){var n,t=hn(e),a=t.updateCardQuantity,r=t.openScryfallPage,c=e.card;return s.a.createElement(Un,{size:"small",variant:"outlined",label:c.name,deleteIcon:s.a.createElement(Tn,{text:null!==(n=c.mana_cost)&&void 0!==n?n:"",noWrap:!0}),avatar:s.a.createElement(Pn,{size:"chip",val:c.amount,onChange:a}),onDelete:r,onClick:r,title:"Open on scryfall"})};function Fn(){var e=Object(E.a)(["\n    text-indent: ","px;\n"]);return Fn=function(){return e},e}var _n=Be(C.a)(Fn(),(function(e){return e.theme.spacing(1)})),Gn=function(e){var n=e.cards,t=(e.sortBy,e.sortOrder,e.showGroups,Object(ie.a)(e,["cards","sortBy","sortOrder","showGroups"]));return s.a.createElement(Ke.a,{container:!0,direction:"column"},n.length>=1?n.map((function(e){return s.a.createElement(Ke.a,{item:!0,key:e.name,xs:!0,zeroMinWidth:!0},s.a.createElement(Rn,Object.assign({card:e},t)))})):s.a.createElement(Ke.a,{item:!0,xs:12},s.a.createElement(_n,{color:"textSecondary",variant:"subtitle2"},"Empty")))},Hn=t(92),$n=t.n(Hn),qn=t(288),Jn=t.n(qn);function Qn(){var e=Object(E.a)(["\n                background-color: ",";\n            "]);return Qn=function(){return e},e}function Kn(){var e=Object(E.a)(["\n            background-color: ",";\n            &.Mui-disabled {\n                background-color: ",";\n            }\n        "]);return Kn=function(){return e},e}function Xn(){var e=Object(E.a)(["\n    ",";\n    &:hover {\n        ",";\n    }\n"]);return Xn=function(){return e},e}var Vn=Be(O.a)(Xn(),(function(e){return e.background&&Ae(Kn(),e.theme.palette[e.background].main,Object(Xe.a)(e.theme.palette[e.background].main,.3))}),(function(e){return e.background&&Ae(Qn(),e.theme.palette[e.background].dark)})),Yn=function(e){var n=e.onClick,t=e.title,a=e.size,r=e.background,c=e.disabled,o=e.children;return s.a.createElement(D.a,{title:t},s.a.createElement("span",null,s.a.createElement(Vn,{size:a,background:r,disabled:c,onClick:n,"aria-label":t},o,s.a.createElement(C.a,{variant:"srOnly"},t))))},Zn=function(e){var n=e.actions,t=e.size,a=e.background;return s.a.createElement(Yn,{title:n.wishlistTooltip(),onClick:n.toggleWishlist,background:a,size:t},n.isOnWishlist()?s.a.createElement($n.a,null):s.a.createElement(Jn.a,null))},et=t(289),nt=t.n(et),tt=t(316),at=t(367),rt=t(405),ct=function(e){var n=e.actions,t=e.size,a=e.background,r=s.a.useState(!1),c=Object(v.a)(r,2),o=c[0],i=c[1],l=s.a.useRef(null),u=function(e){l.current&&l.current.contains(e.target)||i(!1)};return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{ref:l},s.a.createElement(Yn,{title:"Change section",onClick:function(){return i((function(e){return!e}))},disabled:n.sections.length<=0,background:a,size:t},s.a.createElement(nt.a,null))),s.a.createElement(bn.a,{open:o,anchorEl:l.current,role:void 0,transition:!0},(function(e){var t=e.TransitionProps,a=e.placement;return s.a.createElement(tt.a,Object.assign({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),s.a.createElement(We.a,{elevation:5},s.a.createElement(gn.a,{onClickAway:u},s.a.createElement(at.a,null,n.sections.map((function(e){return s.a.createElement(rt.a,{key:e,onClick:function(){return n.changeSection(e)}},e===ne.Default?"Default":e)}))))))})))},ot=function(e){var n=e.actions,t=e.size,a=e.background;return s.a.createElement(Yn,{title:"Remove card",onClick:n.removeCard,background:a,size:t},s.a.createElement(Ye.a,null))};function it(){return(it=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function lt(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var ut=s.a.createElement("g",{transform:"translate(-60 -58)",fill:"none",fillRule:"evenodd"},s.a.createElement("circle",{cx:290,cy:288,r:230}),s.a.createElement("path",{d:"M343.058 89.985c-109.36-29.303-221.77 35.597-251.073 144.957-29.303 109.36 35.597 221.77 144.957 251.073 109.36 29.303 221.77-35.597 251.073-144.957 29.303-109.36-35.597-221.77-144.957-251.073zM256.342 451.95l.276.71c1.172 3.187 3.562 5.776 6.644 7.2 3.082 1.422 6.603 1.562 9.788.387l48.355-17.774c3.184-1.175 6.706-1.035 9.787.388 3.082 1.424 5.472 4.013 6.644 7.2l.19.56c2.105 5.852-.304 12.37-5.71 15.448-93.23 22.17-187.912-30.724-217.912-121.736s14.67-189.84 102.81-227.453c5.144.502 9.544 3.91 11.32 8.762 2.578 6.977 10.317 10.55 17.3 7.99l15.73-5.803c3.186-1.176 6.707-1.036 9.79.387 3.08 1.423 5.47 4.012 6.643 7.198l.19.56c1.174 3.185 1.034 6.706-.39 9.788-1.422 3.082-4.01 5.472-7.197 6.644l-109.46 40.366c-3.187 1.172-5.777 3.562-7.2 6.644-1.422 3.082-1.562 6.603-.388 9.788l.19.56c1.172 3.186 3.562 5.775 6.643 7.198 3.082 1.423 6.603 1.563 9.788.388l80.06-29.483c3.184-1.174 6.705-1.034 9.787.388 3.082 1.423 5.472 4.013 6.644 7.2l.19.56c1.173 3.184 1.034 6.705-.39 9.787-1.422 3.08-4.01 5.47-7.197 6.643l-127.814 47.08c-3.186 1.17-5.776 3.56-7.2 6.643-1.42 3.082-1.56 6.603-.387 9.788l.19.56c1.172 3.186 3.562 5.775 6.643 7.198 3.08 1.423 6.602 1.563 9.787.388L297.72 226.4c3.184-1.175 6.705-1.036 9.787.387 3.082 1.423 5.472 4.012 6.644 7.198l.467 1.27c1.174 3.186 1.035 6.707-.388 9.79-1.424 3.08-4.014 5.47-7.2 6.643l-113 41.54c-3.187 1.172-5.777 3.562-7.2 6.644-1.422 3.08-1.562 6.603-.387 9.787l.19.56c1.17 3.185 3.56 5.775 6.643 7.198 3.08 1.423 6.603 1.562 9.787.388l51.798-19.06c3.186-1.174 6.707-1.034 9.79.39 3.08 1.422 5.47 4.01 6.643 7.197l.19.56c1.174 3.185 1.034 6.706-.39 9.788-1.422 3.083-4.01 5.473-7.197 6.644l-89.085 32.754c-3.185 1.17-5.774 3.56-7.197 6.643-1.423 3.083-1.562 6.604-.388 9.79l.19.56c1.17 3.185 3.56 5.775 6.643 7.197 3.082 1.423 6.603 1.563 9.788.388L304.563 336.3c3.185-1.173 6.706-1.034 9.788.39 3.083 1.422 5.473 4.01 6.644 7.197l.19.56c1.174 3.185 1.035 6.706-.388 9.788s-4.013 5.472-7.198 6.644l-74.954 27.54c-3.186 1.17-5.776 3.56-7.2 6.643-1.422 3.082-1.56 6.603-.387 9.788l.19.56c1.172 3.187 3.562 5.777 6.643 7.2 3.082 1.422 6.603 1.562 9.788.387l94.147-34.537c3.185-1.175 6.706-1.035 9.788.388s5.472 4.012 6.644 7.198c2.428 6.58-.893 13.887-7.447 16.384l-86.903 33.168c-3.18 1.18-5.764 3.574-7.18 6.658-1.414 3.083-1.547 6.603-.367 9.784l-.018-.09z",fill:"#FFF"})),st=function(e){var n=e.svgRef,t=e.title,a=lt(e,["svgRef","title"]);return s.a.createElement("svg",it({"aria-hidden":"true",focusable:"false",className:"",width:460,height:460,viewBox:"0 0 460 460",ref:n},a),t?s.a.createElement("title",null,t):null,ut)},mt=s.a.forwardRef((function(e,n){return s.a.createElement(st,it({svgRef:n},e))})),ft=(t.p,function(e){var n=e.actions,t=e.size,a=e.background;return s.a.createElement(Yn,{title:"Open on scryfall",onClick:n.openScryfallPage,background:a,size:t},s.a.createElement(mt,{width:"24",height:"24"}))}),dt=function(e){var n=e.size,t=e.className,a=Object(ie.a)(e,["size","className"]),r=hn(a);return s.a.createElement("div",{className:t},s.a.createElement(Zn,{actions:r,size:n}),s.a.createElement(ct,{actions:r,size:n}),s.a.createElement(ot,{actions:r,size:n}),s.a.createElement(ft,{actions:r,size:n}))};function pt(){var e=Object(E.a)(["\n    position: absolute;\n    top: ","px;\n    left: ","px;\n    background-color: ",";\n"]);return pt=function(){return e},e}function ht(){var e=Object(E.a)(["\n    position: absolute;\n    top: ","px;\n    right: ","px;\n    display: flex;\n    flex-direction: column;\n    background-color: ",";\n    border-radius: ","px;\n\n    display: none;\n    ",":hover & {\n        display: flex;\n    }\n"]);return ht=function(){return e},e}function bt(){var e=Object(E.a)(["\n    border-radius: 4.75% / 3.5%;\n    background-image: repeating-linear-gradient(-55deg, #ddd, #ddd 5px, #ccc 5px, #ccc 10px);\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    cursor: pointer;\n"]);return bt=function(){return e},e}function gt(){var e=Object(E.a)(["\n    padding-bottom: 139.344262295%;\n    width: 100%;\n    height: 0;\n    position: relative;\n"]);return gt=function(){return e},e}var vt=Be.div(gt()),Et=Be.img(bt()),yt=Be(dt)(ht(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.palette.grey[600]}),fe(void 0),vt),Ot=Be(Pn)(pt(),(function(e){return e.theme.spacing(7)}),(function(e){return e.theme.spacing(3)}),(function(e){return e.theme.palette.background.default})),jt=function(e){var n,t=hn(e),a=e.card;return s.a.createElement(vt,null,s.a.createElement(Et,{src:null!==(n=pe.getImage(a,"normal"))&&void 0!==n?n:"",title:a.name}),!Object(_.isNullOrUndefined)(a.amount)&&s.a.createElement(Ot,{val:a.amount,onChange:t.updateCardQuantity}),s.a.createElement(yt,e))},xt=function(e){var n=e.cards,t=(e.sortBy,e.sortOrder,e.showGroups,Object(ie.a)(e,["cards","sortBy","sortOrder","showGroups"]));return s.a.createElement(Ke.a,{container:!0,spacing:1,alignItems:"center"},n.length>=1?n.map((function(e){return s.a.createElement(Ke.a,{key:e.name,item:!0,xs:12,sm:6,lg:4,xl:3},s.a.createElement(jt,Object.assign({card:e},t)))})):s.a.createElement(Ke.a,{item:!0,xs:12},s.a.createElement(_n,{color:"textSecondary"},"Empty")))},kt=t(409),wt=t(408),Ct=t(410),St=t(406),Dt=t(411);function Nt(){var e=Object(E.a)(["\n    width: 25px;\n    height: 20px;\n    fill: url(#rarity-",");\n"]);return Nt=function(){return e},e}var Wt=Be.svg(Nt(),(function(e){return e.rarity})),It=function(e){var n=e.set,t=e.rarity,a=s.a.useContext(ce),r=Object(v.a)(a,1)[0],c=s.a.useState(),o=Object(v.a)(c,2),i=o[0],l=o[1];return s.a.useEffect((function(){l(r.setList[n])}),[n,r.setList]),i?s.a.createElement(Wt,{rarity:t},s.a.createElement("defs",null,s.a.createElement("linearGradient",{id:"rarity-common"},s.a.createElement("stop",{offset:"0%",stopColor:"#000"})),s.a.createElement("linearGradient",{id:"rarity-uncommon",gradientTransform:"rotate(90)"},s.a.createElement("stop",{offset:"0%",stopColor:"#4d565a"}),s.a.createElement("stop",{offset:"50%",stopColor:"#a0c3d3"}),s.a.createElement("stop",{offset:"100%",stopColor:"#4d565a"})),s.a.createElement("linearGradient",{id:"rarity-rare",gradientTransform:"rotate(90)"},s.a.createElement("stop",{offset:"0%",stopColor:"#85723e"}),s.a.createElement("stop",{offset:"50%",stopColor:"#d4b975"}),s.a.createElement("stop",{offset:"100%",stopColor:"#85723e"})),s.a.createElement("linearGradient",{id:"rarity-mythic",gradientTransform:"rotate(90)"},s.a.createElement("stop",{offset:"0%",stopColor:"#b02911"}),s.a.createElement("stop",{offset:"50%",stopColor:"#e87f03"}),s.a.createElement("stop",{offset:"100%",stopColor:"#b02911"}))),s.a.createElement("svg",{dangerouslySetInnerHTML:{__html:i.icon_svg}})):s.a.createElement(s.a.Fragment,null,n)};function Pt(){var e=Object(E.a)(["\n    display: none;\n    "," {\n        & {\n            display: initial;\n        }\n    }\n"]);return Pt=function(){return e},e}function zt(){var e=Object(E.a)(["\n                    background-color: ",";\n                    border-radius: ","px;\n                    position: absolute;\n                    transform: translateX(calc(-100% - 4px));\n                "]);return zt=function(){return e},e}function At(){var e=Object(E.a)(["\n                    display: none;\n                "]);return At=function(){return e},e}function Bt(){var e=Object(E.a)(["\n    white-space: nowrap;\n\n    & > *:not(:last-child) {\n        margin-right: ","px;\n    }\n\n    "," {\n        & {\n            ","\n\n            ","\n        }\n    }\n"]);return Bt=function(){return e},e}function Lt(){var e=Object(E.a)(["\n    &:hover {\n        background-image: linear-gradient(\n            90deg,\n            rgba(0, 0, 0, 0),\n            "," 10%,\n            "," 90%,\n            rgba(0, 0, 0, 0)\n        );\n    }\n"]);return Lt=function(){return e},e}var Tt=Be(St.a)(Lt(),(function(e){return e.theme.palette.background.default}),(function(e){return e.theme.palette.background.default})),Mt=Be(dt)(Bt(),(function(e){return e.theme.spacing(.5)}),(function(e){return e.theme.breakpoints.down("xs")}),(function(e){return!e.open&&Ae(At())}),(function(e){return e.open&&Ae(zt(),(function(e){return e.theme.palette.grey[600]}),(function(e){return fe("inline")}))})),Ut=Be.div(Pt(),(function(e){return e.theme.breakpoints.down("xs")})),Rt=function(e){var n,t=hn(e),a=e.card,r=s.a.useState(!1),c=Object(v.a)(r,2),o=c[0],i=c[1];return s.a.createElement(Tt,null,s.a.createElement($t,{width:"40px",component:"th",scope:"row",align:"center"},Object(_.isNullOrUndefined)(a.amount)?"-":s.a.createElement(Pn,{size:"inline",val:a.amount,onChange:t.updateCardQuantity})),s.a.createElement(qt,null,a.name),s.a.createElement($t,{width:"40px",align:"center"},s.a.createElement(S.a,{href:"#",onClick:t.openScryfallSetPage,color:"inherit",title:"Open set on scryfall"},s.a.createElement(It,{set:a.set,rarity:a.rarity}))),s.a.createElement(wt.a,null,s.a.createElement(Tn,{text:null!==(n=a.mana_cost)&&void 0!==n?n:"",noWrap:!0})),s.a.createElement(wt.a,{style:{position:"relative"}},s.a.createElement(Mt,Object.assign({},e,{open:o,size:"small"})),s.a.createElement(Ut,null,s.a.createElement(Yn,{title:"Actions",onClick:function(){return i((function(e){return!e}))},size:"small"},s.a.createElement(M.a,null)))))};function Ft(){var e=Object(E.a)(["\n    width: 60%;\n    max-width: 120px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n"]);return Ft=function(){return e},e}function _t(){var e=Object(E.a)([""]);return _t=function(){return e},e}function Gt(){var e=Object(E.a)(["\n    width: 100%;\n    overflow-y: scroll;\n    & .MuiTableCell-sizeSmall {\n        padding: ",";\n    }\n"]);return Gt=function(){return e},e}var Ht=Be(kt.a)(Gt(),(function(e){return e.theme.spacing(.25,1)})),$t=Be(wt.a).attrs((function(e){return{width:e.width}}))(_t()),qt=Be(wt.a)(Ft()),Jt=function(e){var n=e.cards,t=(e.sortBy,e.sortOrder,e.showGroups,Object(ie.a)(e,["cards","sortBy","sortOrder","showGroups"]));return s.a.createElement(Ht,{size:"small","aria-label":"card table"},s.a.createElement(Ct.a,null,s.a.createElement(St.a,null,s.a.createElement($t,{width:"40px",align:"center"},"#"),s.a.createElement(qt,null,"Name"),s.a.createElement($t,{width:"40px",align:"center"},"Set"),s.a.createElement(wt.a,null,"Cost"),s.a.createElement(wt.a,null,"Actions"))),s.a.createElement(Dt.a,null,n.length>=1?n.map((function(e){return s.a.createElement(Rt,Object.assign({key:e.name,card:e},t))})):s.a.createElement(St.a,null,s.a.createElement(wt.a,{colSpan:6},s.a.createElement(_n,{color:"textSecondary"},"Empty")))))},Qt=function(e,n,t,a){return a(n[t])<a(e[t])?-1:a(n[t])>a(e[t])?1:0},Kt=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return"Desc"===e?function(e,a){return Qt(e,a,n,t)}:function(e,a){return-Qt(e,a,n,t)}},Xt=function(e,n){var t=e.map((function(e,n){return[e,n]}));return t.sort((function(e,t){var a=n(e[0],t[0]);return 0!==a?a:e[1]-t[1]})),t.map((function(e){return e[0]}))},Vt=["common","uncommon","rare","mythic"],Yt=function(e,n){switch(e){case"Name":return Kt(n,"name");case"Cmc":return Kt(n,"mana_cost");case"Type":return Kt(n,"type_line");case"Rarity":return Kt(n,"rarity",(function(e){return Vt.indexOf(e)}))}},Zt=function(e){return s.a.createElement(s.a.Fragment,null,e.sectionName!==ne.Default&&s.a.createElement(C.a,{variant:"h6"},e.sectionName),function(){var n=Object(h.a)({},Object(mn.a)(e,"style","cards"),{cards:Xt(e.cards,Yt(e.sortBy,e.sortOrder))});switch(e.style){case"List":return s.a.createElement(Jt,n);case"Images":return s.a.createElement(xt,n);case"Compressed":return s.a.createElement(Gn,n)}}())},ea=t(293),na=t.n(ea),ta=t(292),aa=t.n(ta),ra=t(294),ca=t.n(ra);function oa(){var e=Object(E.a)(["\n    display: flex;\n    align-items: center;\n    margin-bottom: ","px;\n\n    & .MuiTypography-root {\n        margin-right: ","px;\n    }\n\n    & .MuiButton-root {\n        padding-left: 0;\n        padding-right: 0;\n    }\n"]);return oa=function(){return e},e}var ia=Be.div(oa(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(1)})),la=function(e){var n=e.style,t=e.onToggle;return s.a.createElement(ia,null,s.a.createElement(C.a,{variant:"caption"},"Display:"),s.a.createElement($.a,{variant:"outlined",size:"small"},["Standard","List","Images"].map((function(e){return s.a.createElement(q.a,{key:e,onClick:function(){return t(e)},variant:n===e?"contained":void 0},s.a.createElement(D.a,{title:e},function(e){switch(e){case"Standard":return s.a.createElement(aa.a,null);case"List":return s.a.createElement(na.a,null);case"Images":return s.a.createElement(ca.a,null)}throw Error("Style ".concat(e," does not have an icon."))}(e)))}))))},ua=t(295),sa=t.n(ua);function ma(){var e=Object(E.a)(["\n    margin-bottom: ","px;\n    margin-left: ","px;\n"]);return ma=function(){return e},e}var fa=Be.div(ma(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(1)})),da=function(e){var n=e.show,t=e.setShow;return s.a.createElement(fa,null,s.a.createElement(Yn,{size:"small",title:n?"Hide groups":"Show groups",onClick:function(){return t(!n)}},s.a.createElement(sa.a,null)))},pa=t(296),ha=t.n(pa);function ba(){var e=Object(E.a)(["\n    margin-bottom: ","px;\n"]);return ba=function(){return e},e}var ga=Be.div(ba(),(function(e){return e.theme.spacing(1)})),va=function(e){var n=e.sortBy,t=e.setSortBy,a=e.sortOrder,r=e.setSortOrder,c=s.a.useState(!1),o=Object(v.a)(c,2),i=o[0],l=o[1],u=s.a.useRef(null),m=function(e){u.current&&u.current.contains(e.target)||l(!1)};return s.a.createElement(ga,null,s.a.createElement(q.a,{ref:u,size:"small",onClick:function(){return l((function(e){return!e}))},startIcon:s.a.createElement(ha.a,null)},"Sort by"),s.a.createElement(bn.a,{open:i,anchorEl:u.current,role:void 0,transition:!0},(function(e){var c=e.TransitionProps,o=e.placement;return s.a.createElement(tt.a,Object.assign({},c,{style:{transformOrigin:"bottom"===o?"center top":"center bottom"}}),s.a.createElement(We.a,{elevation:5},s.a.createElement(gn.a,{onClickAway:m},s.a.createElement(at.a,null,[["Name","Asc"],["Name","Desc"],["Cmc","Asc"],["Cmc","Desc"],["Type","Asc"],["Type","Desc"],["Rarity","Asc"],["Rarity","Desc"]].map((function(e){var c=Object(v.a)(e,2),o=c[0],i=c[1];return s.a.createElement(rt.a,{key:"".concat(o," (").concat(i,")"),selected:o===n&&i===a,onClick:function(e){t(o),r(i)}},"".concat(o," (").concat(i,")"))}))))))})))},Ea=t(297),ya=t(120),Oa=t(113);function ja(){var e=Object(E.a)(["\n    width: 24px;\n    height: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return ja=function(){return e},e}var xa=Be.div(ja()),ka=function(){return s.a.createElement(xa,null,s.a.createElement(Oa.a,{icon:ya.b}))},wa=function(){return s.a.createElement(xa,null,s.a.createElement(Oa.a,{icon:ya.d}))},Ca=function(){return s.a.createElement(xa,null,s.a.createElement(Oa.a,{icon:Ea.a}))},Sa=function(){return s.a.createElement(xa,null,s.a.createElement(Oa.a,{icon:ya.a}))},Da=function(){return s.a.createElement(xa,null,s.a.createElement(Oa.a,{icon:ya.c}))};function Na(){var e=Object(E.a)(["\n    z-index: 0;\n    display: flex;\n    flex-direction: column;\n"]);return Na=function(){return e},e}function Wa(){var e=Object(E.a)(['\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 75%;\n    z-index: 0;\n\n    & img {\n        width: 100%;\n    }\n\n    &:after {\n        content: "";\n        position: absolute;\n        top: 0;\n        right: 0;\n        width: 100%;\n        height: 100%;\n        display: inline-block;\n        background-image: radial-gradient(\n            ellipse at top 35% right 35%,\n            '," 0%,\n            "," 70%\n        );\n    }\n"]);return Wa=function(){return e},e}function Ia(){var e=Object(E.a)(["\n    display: flex;\n    align-items: center;\n    margin-bottom: ","px;\n\n    & .MuiDialogContentText-root {\n        flex-grow: 1;\n        margin-bottom: 0;\n    }\n"]);return Ia=function(){return e},e}function Pa(){var e=Object(E.a)(["\n            width: 100%;\n            overflow-x: auto;\n            overflow-y: hidden;\n        "]);return Pa=function(){return e},e}function za(){var e=Object(E.a)(["\n    margin-bottom: ","px;\n    ","\n"]);return za=function(){return e},e}var Aa=Be.div(za(),(function(e){return e.theme.spacing(2)}),(function(e){return e.scrollable&&Ae(Pa())})),Ba=Be(Fe)(Ia(),(function(e){return e.theme.spacing(1)})),La=Be.div(Wa(),(function(e){return Object(Xe.c)(e.theme.palette.background.paper,.8)}),(function(e){return e.theme.palette.background.paper})),Ta=Be.div(Na()),Ma=function(){var e=Object(F.h)().deckName;e=decodeURIComponent(e);var n=Object(F.f)(),t=s.a.useContext(ce),a=Object(v.a)(t,2),r=a[0],o=a[1],i=Ce(ce,we.deleteDeck),l=r.decks[e],u=s.a.useState(!0),m=Object(v.a)(u,2),f=m[0],d=m[1],p=s.a.useState(!1),b=Object(v.a)(p,2),g=b[0],E=b[1],y=s.a.useState("List"),O=Object(v.a)(y,2),j=O[0],x=O[1],k=s.a.useState("Cmc"),w=Object(v.a)(k,2),C=w[0],S=w[1],D=s.a.useState("Asc"),N=Object(v.a)(D,2),W=N[0],I=N[1],P=s.a.useState(!1),z=Object(v.a)(P,2),B=z[0],L=z[1];s.a.useEffect((function(){o({type:"SelectDeck",name:e})}),[e,l]);return void 0===l?s.a.createElement(sn,null):s.a.createElement(_e,null,s.a.createElement(La,null,s.a.createElement("img",{src:l.previewUrl,alt:""})),s.a.createElement(Ta,null,s.a.createElement(Ke.a,{container:!0,direction:"row",justify:"space-between"},s.a.createElement(Ke.a,{item:!0},s.a.createElement(He,null,te(l.name))),s.a.createElement(Ke.a,{item:!0},s.a.createElement(Yn,{title:f?"Compress":"Expand",size:"small",onClick:function(){return d((function(e){return!e}))}},f?s.a.createElement(ka,null):s.a.createElement(wa,null)),s.a.createElement(Yn,{title:"Close preview",size:"small",onClick:function(){return n.push("/")}},s.a.createElement(A.a,null)))),s.a.createElement(Ke.a,{container:!0,justify:"space-between"},s.a.createElement(va,{sortBy:C,setSortBy:S,sortOrder:W,setSortOrder:I}),s.a.createElement(da,{show:B,setShow:L}),s.a.createElement(Fe,null),f&&s.a.createElement(la,{style:j,onToggle:x})),s.a.createElement(Fe,null,Object.entries(l.cards).map((function(n){var t=Object(v.a)(n,2),a=t[0],o=t[1];return s.a.createElement(Aa,{key:a,scrollable:f&&"List"===j},s.a.createElement(Zt,{cards:Object.values(o).map((function(e){var n;return Object(h.a)({},e,{},null!==(n=r.cardList[e.name])&&void 0!==n?n:{})})),style:f?j:"Compressed",actions:e===c.Wishlist?"SearchWishlist":"Deck",sortBy:C,sortOrder:W,showGroups:B,deckName:e,sectionName:a}))}))),s.a.createElement(Ge,null,s.a.createElement(Yn,{title:"Export deck",onClick:function(){return E(!0)}},s.a.createElement(en.a,null)),e!==c.Collection&&e!==c.Wishlist&&s.a.createElement(Yn,{title:"Delete deck",onClick:function(){n.push("/"),i({name:e,id:r.files[e]})}},s.a.createElement(Ye.a,null)),l.isDirty&&s.a.createElement(Yn,{title:"Save changes",onClick:function(){return we.updateFile({id:r.files[e],fileContent:ve.deserialize(l.cards)}).then((function(){return o({type:"UpdateDeck",name:e,isDirty:!1})}))},background:"primary"},s.a.createElement(tn.a,null)))),s.a.createElement(J.a,{open:g,onClose:function(){return E(!1)},"aria-labelledby":"export-deck-dialog",fullWidth:!0,maxWidth:"md"},s.a.createElement(Q.a,{id:"import-deck-dialog"},"Export"),s.a.createElement(K.a,null,s.a.createElement(Ba,null,s.a.createElement(X.a,null,"Copy exported text below."),s.a.createElement(Yn,{title:"Copy to clipboard",onClick:function(){return rn()(ve.deserialize(l.cards))}},s.a.createElement(Sa,null))),s.a.createElement(H.a,{label:"Export",multiline:!0,rows:"15",fullWidth:!0,variant:"outlined",value:ve.deserialize(l.cards),InputProps:{readOnly:!0}}))))},Ua=t(412),Ra=t(413),Fa=t(428),_a=t(300),Ga=t.n(_a),Ha=t(301),$a=t.n(Ha);function qa(){var e=Object(E.a)(["\n    display: flex;\n    margin-top: ","px;\n    align-items: center;\n\n    & .MuiAutocomplete-root {\n        flex-grow: 1;\n        margin-right: ","px;\n    }\n"]);return qa=function(){return e},e}var Ja=Be.div(qa(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(1)})),Qa=function(){var e=s.a.useState(""),n=Object(v.a)(e,2),t=n[0],a=n[1],r=s.a.useState([]),c=Object(v.a)(r,2),o=c[0],i=c[1],l=s.a.useState(!1),u=Object(v.a)(l,2),m=u[0],f=u[1],d=function(){return f(!1)},p=s.a.useState({colors:{R:!1,G:!1,U:!1,B:!1,W:!1},colorExactMatch:!1,cmc:0,cmcType:"="}),b=Object(v.a)(p,2),g=b[0],E=b[1],y=function(e){return function(n){var t=Object(h.a)({},g);t.colors[e]=n.target.checked,E(t)}};return s.a.createElement(_e,null,s.a.createElement(He,null,"Card search"),s.a.createElement(Fe,null,s.a.createElement(Ja,null,s.a.createElement(Se.a,{freeSolo:!0,autoHighlight:!0,disableClearable:!0,options:o,inputValue:t,onInputChange:function(e,n){return a(n),void pe.Cards.Autocomplete(t).then((function(e){return i(e)}))},renderInput:function(e){return s.a.createElement(H.a,Object.assign({},e,{label:"Card name",variant:"outlined",fullWidth:!0}))}}))),s.a.createElement(J.a,{open:m,onClose:d,"aria-labelledby":"advanced-card-search-dialog",maxWidth:"md",fullWidth:!0},s.a.createElement(Q.a,{id:"advanced-card-search-dialog"},"Advanced card search"),s.a.createElement(K.a,null,s.a.createElement(C.a,{variant:"subtitle2"},"Filter by color"),s.a.createElement(Ua.a,{row:!0},s.a.createElement(Ra.a,{label:s.a.createElement(Tn,{text:"{R} Red"}),control:s.a.createElement(Fa.a,{checked:g.colors.R,onChange:y("R")})}),s.a.createElement(Ra.a,{label:s.a.createElement(Tn,{text:"{G} Green"}),control:s.a.createElement(Fa.a,{checked:g.colors.G,onChange:y("G")})}),s.a.createElement(Ra.a,{label:s.a.createElement(Tn,{text:"{U} Blue"}),control:s.a.createElement(Fa.a,{checked:g.colors.U,onChange:y("U")})}),s.a.createElement(Ra.a,{label:s.a.createElement(Tn,{text:"{B} Black"}),control:s.a.createElement(Fa.a,{checked:g.colors.B,onChange:y("B")})}),s.a.createElement(Ra.a,{label:s.a.createElement(Tn,{text:"{W} White"}),control:s.a.createElement(Fa.a,{checked:g.colors.W,onChange:y("W")})})),s.a.createElement(Ra.a,{label:"Exact color match?",control:s.a.createElement(Fa.a,{checked:g.colorExactMatch,onChange:function(e){return E(Object(h.a)({},g,{colorExactMatch:e.target.checked}))}})})),s.a.createElement(V.a,null,s.a.createElement(q.a,{onClick:function(){return E({colors:{R:!1,G:!1,U:!1,B:!1,W:!1},colorExactMatch:!1,cmc:0,cmcType:"="})},color:"primary"},"Reset"),s.a.createElement(q.a,{onClick:d,color:"primary"},"OK"))),s.a.createElement(Ge,null,s.a.createElement(D.a,{title:"Advanced search filter"},s.a.createElement(q.a,{onClick:function(){return f(!0)}},s.a.createElement(Ga.a,null))),s.a.createElement(D.a,{title:"Search for results"},s.a.createElement(q.a,{onClick:function(){alert(JSON.stringify(g))}},s.a.createElement($a.a,null)))))},Ka=t(104),Xa=t.n(Ka);function Va(){var e=Object(E.a)(["\n    ","\n"]);return Va=function(){return e},e}function Ya(){var e=Object(E.a)(["\n    ","\n"]);return Ya=function(){return e},e}function Za(){var e=Object(E.a)(["\n    ","\n"]);return Za=function(){return e},e}function er(){var e=Object(E.a)(["\n    width: 50%;\n    height: 50%;\n"]);return er=function(){return e},e}function nr(){var e=Object(E.a)(["\n    position: absolute;\n    top: -75%;\n    right: 50%;\n    transform: translateX(50%);\n"]);return nr=function(){return e},e}function tr(){var e=Object(E.a)(["\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    padding: ",";\n    background-color: ",";\n    border-radius: ","px;\n\n    & .MuiTypography-root {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n"]);return tr=function(){return e},e}function ar(){var e=Object(E.a)(["\n    background-color: ",";\n    color: ",";\n    border-radius: ","px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n"]);return ar=function(){return e},e}function rr(){var e=Object(E.a)(["\n    padding-bottom: 65%;\n    width: 100%;\n    height: 0;\n    position: relative;\n"]);return rr=function(){return e},e}var cr=Be.div(rr()),or=Be(N.a)(ar(),(function(e){return e.theme.palette.background.default}),(function(e){return e.theme.palette.text.secondary}),(function(e){return e.theme.spacing(4)})),ir=Be(We.a)(tr(),(function(e){return e.theme.spacing(1,2)}),(function(e){return e.theme.palette.grey[900]}),(function(e){return e.theme.spacing(4)})),lr=Be.div(nr()),ur=Ae(er()),sr=Be($n.a)(Za(),ur),mr=Be(Z.a)(Ya(),ur),fr=Be(Xa.a)(Va(),ur),dr=function(e){var n=e.deck,t=s.a.useContext(ce),a=Object(v.a)(t,1)[0];return n?s.a.createElement(cr,null,s.a.createElement(d.b,{to:"/decks/".concat(encodeURIComponent(n.name))},s.a.createElement(or,{variant:"rounded",alt:te(n.name),src:n.previewUrl},n.name===c.Wishlist?s.a.createElement(sr,null):s.a.createElement(mr,null)),s.a.createElement(ir,null,n.name!==c.Collection&&n.name!==c.Wishlist&&s.a.createElement(lr,null,s.a.createElement(Tn,{variant:"h3",text:pe.getColorIdentity.apply(pe,Object(le.a)(Object.keys(n.cards[ne.Default]).map((function(e){return a.cardList[e]}))))})),s.a.createElement(C.a,{variant:"h6"},te(n.name))))):s.a.createElement(cr,null,s.a.createElement(d.b,{to:"/addDeck"},s.a.createElement(or,{variant:"rounded",alt:"Add deck"},s.a.createElement(fr,null))))},pr=function(){var e=s.a.useContext(ce),n=Object(v.a)(e,1)[0];return s.a.createElement(_e,null,s.a.createElement(He,null,"Your decks"),s.a.createElement(Ke.a,{container:!0,spacing:6,direction:"column"},s.a.createElement(Ke.a,{item:!0,container:!0,spacing:1},s.a.createElement(Ke.a,{item:!0,xs:12,sm:6,lg:3},s.a.createElement(dr,{deck:n.decks[c.Collection]})),s.a.createElement(Ke.a,{item:!0,xs:12,sm:6,lg:3},s.a.createElement(dr,{deck:n.decks[c.Wishlist]}))),s.a.createElement(Ke.a,{item:!0,container:!0,spacing:1},s.a.createElement(Ke.a,{item:!0,xs:12,sm:6,lg:3},s.a.createElement(dr,null)),Object.values(n.decks).filter((function(e){return e.name!==c.Collection&&e.name!==c.Wishlist})).map((function(e){return s.a.createElement(Ke.a,{key:e.name,item:!0,xs:12,sm:6,lg:3},s.a.createElement(dr,{deck:e}))})))))},hr=function(){return s.a.createElement(Ke.a,{container:!0,spacing:2},s.a.createElement(Ke.a,{item:!0,xs:12},s.a.createElement(Qa,null)),s.a.createElement(Ke.a,{item:!0,xs:12},s.a.createElement(pr,null)))},br=t(431),gr=t(29),vr=function(e){return Array.from(Array(e),(function(e,n){return{name:"Player ".concat(n+1),life:20,counters:{}}}))},Er=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n}("{W}","{U}","{B}","{R}","{G}","{C}","{S}","{E}","{B/P}"),yr={players:vr(2),startingLife:20,startingPlayer:null},Or=s.a.createContext([yr,void 0]),jr=t(426),xr=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e,t){return n.reduce((function(e,n){return n(e,t)}),e)}}(me({players:function(e,n){switch(n.type){case"SetPlayers":return e.length<n.count?[].concat(Object(le.a)(e),Object(le.a)(vr(n.count).slice(e.length))):e.slice(0,n.count);case"SetName":return e.map((function(e,t){return t===n.player?Object(h.a)({},e,{name:n.name}):e}));case"ToggleCounter":return e.map((function(e,t){return t===n.player?Object(h.a)({},e,{counters:void 0===e.counters[n.counter]?Object(h.a)({},e.counters,Object(ee.a)({},n.counter,0)):Object(mn.a)(e.counters,n.counter)}):e}));case"SetPlayerCounter":return e.map((function(e,t){return t===n.player?n.counter?Object(h.a)({},e,{counters:Object(h.a)({},e.counters,Object(ee.a)({},n.counter,e.counters[n.counter]+n.value))}):Object(h.a)({},e,{life:e.life+n.value}):e}));case"SetStartingLife":return e.map((function(e){return Object(h.a)({},e,{life:n.value})}))}return e},startingLife:function(e,n){switch(n.type){case"SetStartingLife":return n.value}return e},startingPlayer:function(e,n){switch(n.type){case"SetStartingPlayer":return n.player}return e}}),(function(e,n){switch(n.type){case"Restart":return Object(h.a)({},e,{players:e.players.map((function(n){return Object(h.a)({},n,{life:e.startingLife,counters:Object(jr.a)(n.counters,(function(){return 0}))})})),startingPlayer:null})}return e})),kr=t(307),wr=t.n(kr),Cr=t(304),Sr=t.n(Cr),Dr=t(306),Nr=t.n(Dr),Wr=t(305),Ir=t.n(Wr),Pr=t(303),zr=t.n(Pr),Ar=t(317),Br=t(312),Lr=function(){var e=s.a.useRef(null),n=s.a.useState(0),t=Object(v.a)(n,2),a=t[0],r=t[1],c=s.a.useState(0),o=Object(v.a)(c,2),i=o[0],l=o[1];return s.a.useEffect((function(){var n,t,a,c;r(null!==(n=null===(t=e.current)||void 0===t?void 0:t.clientWidth)&&void 0!==n?n:0),l(null!==(a=null===(c=e.current)||void 0===c?void 0:c.clientHeight)&&void 0!==a?a:0)}),[]),[e,a,i]};function Tr(){var e=Object(E.a)(["\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: rgba(0, 0, 0, 0.25);\n    z-index: 1;\n"]);return Tr=function(){return e},e}function Mr(){var e=Object(E.a)(["\n            padding: 4px;\n        "]);return Mr=function(){return e},e}function Ur(){var e=Object(E.a)(["\n            filter: grayscale(1);\n            opacity: 0.25;\n        "]);return Ur=function(){return e},e}function Rr(){var e=Object(E.a)(["\n    min-width: unset;\n    ","\n    ","\n"]);return Rr=function(){return e},e}function Fr(){var e=Object(E.a)(["\n    position: absolute;\n    top: 0;\n"]);return Fr=function(){return e},e}function _r(){var e=Object(E.a)(["\n    position: absolute;\n    opacity: 0.1;\n    transform: scale(2);\n    line-height: 0;\n"]);return _r=function(){return e},e}function Gr(){var e=Object(E.a)(["\n    position: absolute;\n    ",": 0;\n    ",": 10%;\n    justify-content: ",";\n    top: 0;\n    bottom: 0;\n    width: 50%;\n"]);return Gr=function(){return e},e}function Hr(){var e=Object(E.a)(["\n    position: relative;\n"]);return Hr=function(){return e},e}function $r(){var e=Object(E.a)(["\n                  width: ","px;\n                  height: ","px;\n              "]);return $r=function(){return e},e}function qr(){var e=Object(E.a)(["\n                  width: ","px;\n                  height: ","px;\n              "]);return qr=function(){return e},e}function Jr(){var e=Object(E.a)(["\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    background: radial-gradient(circle, "," 0%, "," 75%);\n    border: 2px dashed ",";\n    transform: rotate(","deg) translate(-50%, -50%);\n    transform-origin: top left;\n    ","\n"]);return Jr=function(){return e},e}function Qr(){var e=Object(E.a)(["\n    position: relative;\n    height: ","%;\n    flex-basis: ",";\n"]);return Qr=function(){return e},e}var Kr=Be.div(Qr(),(function(e){return e.players>4?100/3:50}),(function(e){return e.flexBasis})),Xr=Be(gr.Flex)(Jr(),(function(e){return e.theme.palette.background.paper}),(function(e){return e.theme.palette.background.default}),(function(e){return e.theme.palette.background.paper}),(function(e){return e.rotate}),(function(e){return 90===Math.abs(e.rotate)?Ae(qr(),e.h,e.w):Ae($r(),e.w,e.h)})),Vr=Be(gr.Flex)(Hr()),Yr=Be(q.a)(Gr(),(function(e){return e.position}),(function(e){return"padding-".concat(e.position)}),(function(e){return"flex-".concat("left"===e.position?"start":"end")})),Zr=Be(Tn)(_r()),ec=Be(C.a)(Fr()),nc=Be(q.a)(Rr(),(function(e){return!e.styled.selected&&Ae(Ur())}),(function(e){return e.styled.tight&&Ae(Mr())})),tc=Be.div(Tr()),ac={2:[{rotate:180,flexBasis:"100%"},{rotate:0,flexBasis:"100%"}],3:[{rotate:90,flexBasis:"50%",counter:"body1"},{rotate:-90,flexBasis:"50%",counter:"body1"},{rotate:0,flexBasis:"100%"}],4:[{rotate:90,flexBasis:"50%",counter:"body1"},{rotate:-90,flexBasis:"50%",counter:"body1"},{rotate:90,flexBasis:"50%",counter:"body1"},{rotate:-90,flexBasis:"50%",counter:"body1"}],5:[{rotate:180,flexBasis:"100%"},{rotate:90,flexBasis:"50%",counter:"body2"},{rotate:-90,flexBasis:"50%",counter:"body2"},{rotate:90,flexBasis:"50%",counter:"body2"},{rotate:-90,flexBasis:"50%",counter:"body2"}],6:[{rotate:90,flexBasis:"50%",counter:"body2"},{rotate:-90,flexBasis:"50%",counter:"body2"},{rotate:90,flexBasis:"50%",counter:"body2"},{rotate:-90,flexBasis:"50%",counter:"body2"},{rotate:90,flexBasis:"50%",counter:"body2"},{rotate:-90,flexBasis:"50%",counter:"body2"}]},rc=function(e){var n,t=e.player,a=s.a.useContext(Or),r=Object(v.a)(a,2),c=r[0],o=r[1],i=Lr(),l=Object(v.a)(i,3),u=l[0],m=l[1],f=l[2],d=s.a.useState(),p=Object(v.a)(d,2),h=p[0],b=p[1],g=s.a.useState(0),E=Object(v.a)(g,2),y=E[0],O=E[1],j=c.players[t],x=j.name,k=j.life,S=j.counters,D=c.startingPlayer,N=h?S[h]:k,W=N-y;s.a.useEffect((function(){return O(N)}),[h]),s.a.useEffect((function(){O(N),b(void 0)}),[D]);var I=s.a.useCallback(Object(Br.a)(O,1e3),[]),P=function(e){I(N+e),o({type:"SetPlayerCounter",player:t,value:e,counter:h})},z=Object(w.a)(ze.breakpoints.down("xs")),A=s.a.useMemo((function(){return z?"h2":"h1"}),[z]),B=ac[c.players.length][t],L=B.rotate,T=B.flexBasis,M=B.counter;return s.a.createElement(Kr,{ref:u,flexBasis:T,players:c.players.length},s.a.createElement(Xr,{rotate:L,w:m,h:f,flexGrow:1,flexDirection:"column",justifyContent:"center"},s.a.createElement(Ar.a,{in:t===D},s.a.createElement(tc,{onClick:function(){return o({type:"SetStartingPlayer",player:null})}})),s.a.createElement(gr.Flex,{py:3,height:"20%",justifyContent:"center",alignItems:"center"},s.a.createElement(C.a,{variant:"caption",align:"center"},x)),s.a.createElement(Vr,{flexGrow:1,justifyContent:"center",alignItems:"center"},s.a.createElement(Zr,{variant:A,text:null!==(n=h)&&void 0!==n?n:"{PW}"}),0!==W&&s.a.createElement(ec,{color:"primary",variant:"h6"},W>0?"+":"",W),s.a.createElement(Yr,{position:"left",onClick:function(){return P(-1)}},s.a.createElement(C.a,{variant:"h6"},"-")),s.a.createElement(C.a,{variant:A,align:"center"},N),s.a.createElement(Yr,{position:"right",onClick:function(){return P(1)}},s.a.createElement(C.a,{variant:"h6"},"+"))),s.a.createElement(gr.Flex,{mx:3,height:"20%",justifyContent:"space-evenly",alignItems:"center"},Object.keys(S).map((function(e){var n;return s.a.createElement(gr.Flex,{key:e,justifyContent:"center",alignItems:"center"},s.a.createElement(nc,{styled:{selected:h===e,tight:"body2"===M},onClick:function(){return b(h===e?void 0:e)}},s.a.createElement(Tn,{variant:null!==(n=M)&&void 0!==n?n:"h6",text:"".concat(S[e]," ").concat(e)})))})))))};function cc(){var e=Object(E.a)(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]);return cc=function(){return e},e}var oc=Be(O.a)(cc()),ic=function(){var e=Object(w.a)(ze.breakpoints.down("xs")),n=s.a.useState(!1),t=Object(v.a)(n,2),a=t[0],r=t[1],c=s.a.useState(!1),o=Object(v.a)(c,2),i=o[0],l=o[1],u=s.a.useContext(Or),m=Object(v.a)(u,2),f=m[0],d=m[1],p=s.a.useMemo((function(){return new zr.a}),[]);s.a.useEffect((function(){return function(){return p.disable()}}),[p]);var h=function(){p.disable(),r(!1),l(!1)},b=function(){l(!1)},g=function(){d({type:"SetStartingPlayer",player:Math.round(Math.random()*(f.players.length-1))}),b()},E=function(){d({type:"Restart"}),g()};return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ge,null,s.a.createElement(Yn,{title:"Start match",onClick:function(){p.enable(),E(),r(!0)},background:"primary"},s.a.createElement(Sr.a,null))),s.a.createElement(J.a,{fullScreen:e,open:a,onClose:h},s.a.createElement(gr.Flex,{flexWrap:"wrap",width:e?"100%":"550px",height:e?"100%":"900px"},f.players.map((function(e,n){return s.a.createElement(rc,{key:n,player:n})}))),s.a.createElement(oc,{onClick:function(){l(!0)}},s.a.createElement(Ir.a,null)),s.a.createElement(J.a,{open:i,onClose:b},s.a.createElement(O.a,{onClick:E},s.a.createElement(Nr.a,null)),s.a.createElement(O.a,{onClick:h},s.a.createElement(A.a,null)),s.a.createElement(O.a,{onClick:g},s.a.createElement(wr.a,null)))))};function lc(){var e=Object(E.a)(["\n    & .MuiInputBase-input {\n        text-align: center;\n    }\n"]);return lc=function(){return e},e}function uc(){var e=Object(E.a)(["\n    padding: 7px;\n    padding-bottom: 3px;\n    min-width: 0;\n"]);return uc=function(){return e},e}var sc=Be(q.a)(uc()),mc=Be(H.a)(lc()),fc=function(e){var n=e.player,t=s.a.useContext(Or),a=Object(v.a)(t,2),r=a[0],c=a[1],o=r.players[n],i=o.name,l=o.counters,u=function(e){return c({type:"ToggleCounter",player:n,counter:e})};return s.a.createElement(gr.Flex,{width:["100%","50%","50%","33%"],flexDirection:"column",alignItems:"center",my:2},s.a.createElement(gr.Box,{width:180,pb:2},s.a.createElement(mc,{value:i,onChange:function(e){return c({type:"SetName",player:n,name:e.target.value})},fullWidth:!0})),s.a.createElement($.a,null,Er.slice(0,5).map((function(e){return s.a.createElement(sc,{key:e,onClick:function(){return u(e)},variant:void 0!==l[e]?"contained":void 0},s.a.createElement(Tn,{text:e,variant:"h5"}))}))),s.a.createElement($.a,null,Er.slice(5).map((function(e){return s.a.createElement(sc,{key:e,onClick:function(){return u(e)},variant:void 0!==l[e]?"contained":void 0},s.a.createElement(Tn,{text:e,variant:"h5"}))}))))};function dc(){var e=Object(E.a)(["\n    flex-basis: 20px;\n    text-align: right;\n"]);return dc=function(){return e},e}function pc(){var e=Object(E.a)(["\n    flex-basis: 20%;\n"]);return pc=function(){return e},e}var hc=Be(C.a)(pc()),bc=Be(C.a)(dc()),gc=function(){var e=s.a.useReducer(xr,yr),n=Object(v.a)(e,2),t=n[0],a=n[1],r=s.a.useState(t.players.length),c=Object(v.a)(r,2),o=c[0],i=c[1];return s.a.createElement(Or.Provider,{value:[t,a]},s.a.createElement(_e,null,s.a.createElement(He,null,"Lifecounter"),s.a.createElement(gr.Flex,{alignItems:"center",justifyContent:"space-between"},s.a.createElement(hc,null,"Players"),s.a.createElement(gr.Box,{mx:3,flexGrow:1},s.a.createElement(br.a,{value:o,onChange:function(e,n){return i(n)},onChangeCommitted:function(){return a({type:"SetPlayers",count:o})},step:1,min:2,max:6,marks:!0,valueLabelDisplay:"off"})),s.a.createElement(bc,null,o)),s.a.createElement(gr.Flex,{alignItems:"center",justifyContent:"space-between"},s.a.createElement(hc,null,"Starting life"),s.a.createElement(gr.Box,{mx:3,flexGrow:1},s.a.createElement(br.a,{value:t.startingLife,onChange:function(e,n){return a({type:"SetStartingLife",value:n})},step:5,min:10,max:50,marks:!0,valueLabelDisplay:"off"})),s.a.createElement(bc,null,t.startingLife)),s.a.createElement(gr.Flex,{justifyContent:"center",flexWrap:"wrap"},t.players.map((function(e,n){return s.a.createElement(fc,{key:n,player:n})}))),s.a.createElement(ic,null)))};function vc(){var e=Object(E.a)(["\n    background-color: ",";\n\n    &:hover {\n        background-color: ",";\n    }\n"]);return vc=function(){return e},e}function Ec(){var e=Object(E.a)(["\n    color: ",";\n"]);return Ec=function(){return e},e}function yc(){var e=Object(E.a)(["\n    color: ",";\n"]);return yc=function(){return e},e}var Oc=Be(Q.a)(yc(),(function(e){return e.theme.palette.error.main})),jc=Be(q.a)(Ec(),(function(e){return e.theme.palette.error.main})),xc=Be(q.a)(vc(),(function(e){return e.theme.palette.error.main}),(function(e){return e.theme.palette.error.light})),kc=function(){var e=s.a.useContext(oe).signOut,n=s.a.useContext(ce),t=Object(v.a)(n,2),a=t[0],r=t[1],c=s.a.useState(!1),o=Object(v.a)(c,2),i=o[0],l=o[1];return s.a.createElement(_e,null,s.a.createElement(He,null,"User info"),s.a.createElement("div",null,s.a.createElement(xc,{startIcon:s.a.createElement(Ye.a,null),variant:"contained",onClick:function(){return l(!0)}},"Delete saved data")),s.a.createElement(J.a,{open:i,onClose:function(){return l(!1)}},s.a.createElement(Oc,null,"Delete all saved data and sign out"),s.a.createElement(K.a,null,s.a.createElement(X.a,null,"This action will delete all the data (saved decks) saved by this app in your google drive storage and sign you out. After you sign back in the app will create it's base required files again. This action is irreversible!")),s.a.createElement(V.a,null,s.a.createElement(q.a,{onClick:function(){return l(!1)}},"Cancel"),s.a.createElement(jc,{onClick:function(){e(),Object.keys(a.decks).forEach((function(e){return we.deleteDeck(r)({name:e,id:a.files[e]})})),l(!1)}},"Delete"))))},wc=t(308),Cc=t.n(wc),Sc=function(e){var n=e.variant,t=e.onClick;return s.a.createElement(q.a,{variant:n,onClick:t,startIcon:s.a.createElement(Ca,null)},s.a.createElement(C.a,{noWrap:!0},"Sign in"))},Dc=[{path:"/lifecounter",component:gc}],Nc={IsPublic:function(e){return Dc.some((function(n){var t=n.path;return e.match(function(e){return new RegExp("^".concat(e.replace(/:[^/]*/,"[^/]*"),"$"))}(t))}))},SignIn:{path:"/signin",component:function(){return s.a.createElement(_e,null,s.a.createElement(Ke.a,{container:!0,justify:"center",alignItems:"center",style:{padding:25}},s.a.createElement("img",{src:Cc.a,alt:"",width:"150px",height:"150px",draggable:!1})),s.a.createElement(Ke.a,{container:!0,justify:"center",alignItems:"center"},s.a.createElement(Sc,{variant:"contained",onClick:we.signIn})))}},Public:Dc,Private:[{path:"/user",component:kc},{path:"/addDeck",component:Qe},{path:"/decks/:deckName",component:Ma},{path:"/",component:hr}]},Wc=function(){return s.a.createElement(F.c,null,s.a.createElement(F.a,Object.assign({exact:!0},Nc.SignIn)),Nc.Public.map((function(e){return s.a.createElement(F.a,Object.assign({key:e.path,exact:!0},e))})),Nc.Private.map((function(e){return s.a.createElement(F.a,Object.assign({key:e.path,exact:!0},e))})),s.a.createElement(F.a,{exact:!0,component:G}))},Ic=me({files:function(e,n){switch(n.type){case"CreateDeck":return Object(h.a)({},e,Object(ee.a)({},n.name,n.link));case"DeleteDeck":return Object(h.a)({},Object(ge.omit)(e,[n.name]))}return e},cardList:function(e,n){switch(n.type){case"AddCards":return Object(h.a)({},e,{},Object(ge.keyBy)(n.cards,"name"))}return e},symbolList:function(e,n){switch(n.type){case"AddSymbols":return n.symbols.reduce((function(e,n){return Object(h.a)({},e,Object(ee.a)({},n.symbol,n))}),{})}return e},setList:function(e,n){switch(n.type){case"AddSets":return n.sets.reduce((function(e,n){return Object(h.a)({},e,Object(ee.a)({},n.code,n))}),{})}return e},decks:function(e,n){switch(n.type){case"CreateDeck":return Object(h.a)({},e,Object(ee.a)({},n.name,Object(h.a)({cards:ae()},Object(ge.omit)(n,["type","link"]))));case"UpdateDeck":return Object(h.a)({},e,Object(ee.a)({},n.name,Object(h.a)({},e[n.name],{isDirty:!0},Object(ge.omit)(n,["type"]))));case"UpdateDeckCard":return 0===n.card.amount?Object(h.a)({},e,Object(ee.a)({},n.deckName,Object(h.a)({},e[n.deckName],{cards:Object(h.a)({},e[n.deckName].cards,Object(ee.a)({},n.sectionName,Object(ge.omit)(e[n.deckName].cards[n.sectionName],n.card.name))),isDirty:!0}))):Object(h.a)({},e,Object(ee.a)({},n.deckName,Object(h.a)({},e[n.deckName],{cards:Object(h.a)({},e[n.deckName].cards,Object(ee.a)({},n.sectionName,Object(h.a)({},e[n.deckName].cards[n.sectionName],Object(ee.a)({},n.card.name,Object(h.a)({},e[n.deckName].cards[n.sectionName][n.card.name],{},n.card))))),isDirty:!0})));case"DeleteDeck":return Object(h.a)({},Object(ge.omit)(e,[n.name]))}return e},selectedDeck:function(e,n){switch(n.type){case"SelectDeck":return n.name;case"DeleteDeck":return n.name===e?c.Collection:e}return e}}),Pc=function(e){var n=s.a.createRef(),t=function(t){n.current&&!(null===n||void 0===n?void 0:n.current.contains(t.target))&&e()};return s.a.useEffect((function(){return document.addEventListener("click",t),document.addEventListener("touchend",t),function(){document.removeEventListener("click",t),document.removeEventListener("touchend",t)}})),[n]},zc=t(415),Ac=t(368),Bc=t(371),Lc=t(416);function Tc(){var e=Object(E.a)(["\n            padding: ",";\n        "]);return Tc=function(){return e},e}function Mc(){var e=Object(E.a)(["\n            opacity: 0;\n        "]);return Mc=function(){return e},e}function Uc(){var e=Object(E.a)(["\n    color: ",";\n    padding: ",";\n\n    transition: padding 0.5s ease-in-out, opacity 0.5s ease-in-out;\n\n    height: 0;\n    opacity: 1;\n\n    ","\n    ","\n"]);return Uc=function(){return e},e}var Rc=Be(C.a)(Uc(),(function(e){return e.theme.palette.grey[500]}),(function(e){return e.theme.spacing(0,2,0,2)}),(function(e){return!e.open&&Ae(Mc())}),(function(e){return e.open&&Ae(Tc(),e.theme.spacing(2,2,4,2))}));function Fc(){var e=Object(E.a)(["\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"]);return Fc=function(){return e},e}var _c=Be(zc.a)(Fc()),Gc=function(e){var n=e.open,t=e.closeDrawer,a=Object(F.g)().pathname;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Rc,{open:n},"Apps"),s.a.createElement(Ac.a,null,s.a.createElement(D.a,{title:"Lifecounter",placement:"right"},s.a.createElement(Bc.a,{component:d.b,to:"/lifecounter",onClick:t,button:!0,selected:!!a.match(/^\/lifecounter$/)},s.a.createElement(Lc.a,null,s.a.createElement($e,{alt:"Lifecounter"},s.a.createElement(Da,null))),s.a.createElement(_c,{primary:"Lifecounter"})))))},Hc=t(417),$c=function(e){var n=e.deck,t=e.variant;return s.a.createElement(Hc.a,{invisible:!(null===n||void 0===n?void 0:n.isDirty),color:"primary",overlap:"circle",badgeContent:" ",anchorOrigin:{vertical:"bottom",horizontal:"right"}},s.a.createElement($e,{variant:t,alt:te(null===n||void 0===n?void 0:n.name),src:null===n||void 0===n?void 0:n.previewUrl},(null===n||void 0===n?void 0:n.name)===c.Wishlist?s.a.createElement($n.a,null):s.a.createElement(Z.a,null)))};function qc(){var e=Object(E.a)(["\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"]);return qc=function(){return e},e}var Jc=Be(zc.a)(qc()),Qc=function(e){var n=e.open,t=e.closeDrawer,a=Object(F.g)().pathname,r=s.a.useContext(ce),o=Object(v.a)(r,1)[0],i=function(e){return s.a.createElement(D.a,{key:e.name,title:n?"":(o.decks[e.name].isDirty?"*":"")+te(e.name),placement:"right"},s.a.createElement(Bc.a,{component:d.b,to:"/decks/".concat(encodeURIComponent(e.name)),onClick:t,button:!0,selected:o.selectedDeck===e.name&&!!a.match(/^\/decks\//)},s.a.createElement(Lc.a,null,s.a.createElement($c,{deck:e})),s.a.createElement(Jc,{primary:te(e.name)})))};return s.a.createElement(s.a.Fragment,null,s.a.createElement(W.a,null),s.a.createElement(Rc,{open:n},"Decks"),s.a.createElement(Ac.a,null,i(o.decks[c.Collection]),i(o.decks[c.Wishlist])),s.a.createElement(W.a,null),s.a.createElement(Ac.a,null,s.a.createElement(D.a,{title:"Add deck",placement:"right"},s.a.createElement(Bc.a,{component:d.b,to:"/addDeck",onClick:t,button:!0,selected:!!a.match(/^\/addDeck$/)},s.a.createElement(Lc.a,null,s.a.createElement($e,{alt:"Add deck"},s.a.createElement(Xa.a,null))),s.a.createElement(Jc,{primary:"Add deck"})))),s.a.createElement(W.a,null),s.a.createElement(Ac.a,null,Object.values(o.decks).filter((function(e){return e.name!==c.Collection&&e.name!==c.Wishlist})).map((function(e){return i(e)}))))},Kc=t(419),Xc=t(420);function Vc(){var e=Object(E.a)(["\n    height: 24px;\n    width: 24px;\n    position: relative;\n\n    & > * {\n        position: absolute;\n        bottom: 0;\n        transform: translateX(-50%);\n    }\n"]);return Vc=function(){return e},e}function Yc(){var e=Object(E.a)(["\n    flex-grow: 10;\n\n    & .MuiBottomNavigationAction-label {\n        width: 100%;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n"]);return Yc=function(){return e},e}function Zc(){var e=Object(E.a)(["\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    background-color: ",";\n"]);return Zc=function(){return e},e}var eo=Be(Kc.a)(Zc(),(function(e){return e.theme.palette.secondary.dark})),no=Be(Xc.a)(Yc()),to=Be.div(Vc()),ao=function(e){var n=e.open,t=e.toggleOpen,a=Object(F.g)().pathname,r=Object(F.f)(),c=s.a.useContext(ce),o=Object(v.a)(c,1)[0],i=s.a.useState(0),l=Object(v.a)(i,2),u=l[0],m=l[1];s.a.useEffect((function(){return m(n?2:a.match("/addDeck")?0:1)}),[n,a]);return s.a.createElement(eo,{value:u,onChange:function(e,n){return function(e){switch(m(e),e){case 0:return void r.push("/addDeck/");case 1:return void r.push("/decks/".concat(encodeURIComponent(o.decks[o.selectedDeck].name)));case 2:return void t()}throw Error("Invalid tab number ".concat(e))}(n)},showLabels:!0},s.a.createElement(Xc.a,{label:"Add deck",icon:s.a.createElement(Xa.a,null)}),s.a.createElement(no,{label:te(o.selectedDeck),icon:s.a.createElement(to,null,s.a.createElement($c,{deck:o.decks[o.selectedDeck]}))}),s.a.createElement(Xc.a,{label:"Menu",icon:s.a.createElement(M.a,null)}))};function ro(){var e=Object(E.a)(["\n    margin-right: ","px;\n"]);return ro=function(){return e},e}function co(){var e=Object(E.a)(["\n            "," {\n                & {\n                    margin-left: ",";\n                    width: calc(100% - ",");\n                }\n            }\n        "]);return co=function(){return e},e}function oo(){var e=Object(E.a)(["\n    flex-grow: 1;\n    padding: ","px;\n    margin-left: ",";\n    ","\n    ","\n\n    ","\n    "," {\n        & {\n            width: 100%;\n            margin-left: 0;\n            margin-bottom: ","px;\n            padding: ","px;\n        }\n    }\n"]);return oo=function(){return e},e}function io(){var e=Object(E.a)(["\n    "," {\n        & {\n            padding: 0;\n        }\n    }\n"]);return io=function(){return e},e}function lo(){var e=Object(E.a)(["\n            overflow-y: auto;\n        "]);return lo=function(){return e},e}function uo(){var e=Object(E.a)(["\n    overflow: hidden;\n    padding-bottom: ","px;\n    ",'\n\n    &::after {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        content: "";\n        pointer-events: none;\n        background: linear-gradient(\n            0deg,\n            '," ","px,\n            transparent ","px,\n            transparent 100%\n        );\n    }\n"]);return uo=function(){return e},e}function so(){var e=Object(E.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    z-index: 1;\n"]);return so=function(){return e},e}function mo(){var e=Object(E.a)(["\n    flex-shrink: 0;\n    white-space: nowrap;\n    ","\n    ","\n\n    .MuiDrawer-paper {\n        ","\n        ","\n        overflow: hidden;\n    }\n"]);return mo=function(){return e},e}function fo(){var e=Object(E.a)(["\n    width: ",";\n\n    "," {\n        & {\n            max-height: 0;\n        }\n    }\n"]);return fo=function(){return e},e}function po(){var e=Object(E.a)(["\n    width: ",";\n    overflow-x: hidden;\n    transition: ",";\n\n    "," {\n        & {\n            width: 100%;\n            height: auto;\n            max-height: calc(100% - 56px);\n        }\n    }\n"]);return po=function(){return e},e}function ho(){var e=Object(E.a)(["\n            display: none;\n        "]);return ho=function(){return e},e}function bo(){var e=Object(E.a)(["\n    margin-right: 36px;\n    ","\n\n    "," {\n        & {\n            margin-right: ","px;\n            display: inline-block;\n        }\n    }\n"]);return bo=function(){return e},e}function go(){var e=Object(E.a)(["\n            "," {\n                & {\n                    width: 100%;\n                    margin-left: 0;\n                }\n            }\n        "]);return go=function(){return e},e}function vo(){var e=Object(E.a)(["\n    z-index: ",";\n    ","\n    ","\n    ","\n"]);return vo=function(){return e},e}function Eo(){var e=Object(E.a)(["\n    transition: ",";\n"]);return Eo=function(){return e},e}function yo(){var e=Object(E.a)(["\n    margin-left: ",";\n    width: calc(100% - ",");\n    transition: ",";\n"]);return yo=function(){return e},e}var Oo=Ae(yo(),(function(e){return e.theme.constants.drawerWidth}),(function(e){return e.theme.constants.drawerWidth}),(function(e){return e.theme.transitions.create(["width","margin"],{easing:e.theme.transitions.easing.sharp,duration:e.theme.transitions.duration.enteringScreen})})),jo=Ae(Eo(),(function(e){return e.theme.transitions.create(["width","margin"],{easing:e.theme.transitions.easing.sharp,duration:e.theme.transitions.duration.leavingScreen})})),xo=Be(y.a)(vo(),(function(e){return e.theme.zIndex.drawer+1}),jo,(function(e){return e.open&&Oo}),(function(e){return e.open&&Ae(go(),e.theme.breakpoints.down("xs"))})),ko=Be(O.a)(bo(),(function(e){return e.open&&Ae(ho())}),(function(e){return e.theme.breakpoints.down("xs")}),(function(e){return e.theme.spacing(1)})),wo=Ae(po(),(function(e){return e.theme.constants.drawerWidth}),(function(e){return["width","max-height"].map((function(n){return e.theme.transitions.create(n,{easing:e.theme.transitions.easing.sharp,duration:e.theme.transitions.duration.enteringScreen})})).join(", ")}),(function(e){return e.theme.breakpoints.down("xs")})),Co=Ae(fo(),(function(e){return e.theme.constants.drawerWidthClosed}),(function(e){return e.theme.breakpoints.down("xs")})),So=Be(j.a)(mo(),wo,(function(e){return!e.open&&Co}),wo,(function(e){return!e.open&&Co})),Do=Be(x.a)(so()),No=Be.div(uo(),(function(e){return e.theme.spacing(6)}),(function(e){return e.open&&Ae(lo())}),(function(e){return e.theme.palette.background.paper}),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(8)})),Wo=Be(k.a)(io(),(function(e){return e.theme.breakpoints.down("xs")})),Io=Be.div(oo(),(function(e){return e.theme.spacing(2)}),(function(e){return e.theme.constants.drawerWidthClosed}),jo,(function(e){return e.open&&Oo}),(function(e){return e.open&&Ae(co(),e.theme.breakpoints.down("sm"),(function(e){return e.theme.constants.drawerWidthClosed}),(function(e){return e.theme.constants.drawerWidthClosed}))}),(function(e){return e.theme.breakpoints.down("xs")}),(function(e){return e.theme.spacing(7)}),(function(e){return e.theme.spacing(1)})),Po=Be.div(ro(),(function(e){return e.theme.spacing(1)})),zo=function(){var e=Object(F.f)(),n=Object(w.a)(ze.breakpoints.down("xs")),t=Object(w.a)(ze.breakpoints.down("sm")),a=s.a.useReducer(Ic,re),r=Object(v.a)(a,2),c=r[0],o=r[1],i=s.a.useState(),l=Object(v.a)(i,2),u=l[0],m=l[1],f=s.a.useState(void 0),p=Object(v.a)(f,2),b=p[0],E=p[1],y=function(){we.signOut(),m(void 0)},j=s.a.useState(!1),k=Object(v.a)(j,2),I=k[0],z=k[1],B=function(){return z((function(e){return!e}))},T=Pc((function(){return t&&z(!1)})),U=Object(v.a)(T,1)[0];return s.a.useEffect((function(){we.initClient((function(n){var t;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.location.pathname,n){a.next=5;break}return E(!1),Nc.IsPublic(t)||e.push(Nc.SignIn.path),a.abrupt("return");case 5:return t.match(Nc.SignIn.path)&&(t="/"),e.push(t),a.next=9,g.a.awrap(we.prepareAppData(o,c)());case 9:m(we.getProfile()),E(!0);case 11:case"end":return a.stop()}}))})),pe.Symbology.All().then((function(e){var n=R.a.create({baseURL:"",responseType:"text",headers:{"Content-Type":"image/svg+xml"}});return Promise.all(e.map((function(e){return n.get(e.svg_uri,{transformResponse:function(n){return Object(h.a)({},e,{svg:n})}})})))})).then((function(e){o({type:"AddSymbols",symbols:e.map((function(e){return e.data}))})})).then(pe.Sets.All).then((function(e){var n=R.a.create({baseURL:"",responseType:"text",headers:{"Content-Type":"image/svg+xml"}});return Promise.all(e.map((function(e){return n.get(e.icon_svg_uri,{transformResponse:function(n){return Object(h.a)({},e,{icon_svg:n})}})})))})).then((function(e){o({type:"AddSets",sets:e.map((function(e){return e.data}))})}))}),[]),s.a.createElement(ce.Provider,{value:[c,o]},s.a.createElement(oe.Provider,{value:{profile:u,signOut:y}},s.a.createElement(xo,{position:"sticky",open:I},s.a.createElement(x.a,null,!n&&s.a.createElement(ko,{color:"inherit","aria-label":"open drawer",onClick:B,edge:"start",open:I},s.a.createElement(M.a,null)),s.a.createElement(C.a,{variant:"h6",style:{overflow:"hidden"}},s.a.createElement(S.a,{variant:"inherit",color:"inherit",underline:"none",component:d.b,to:b?"/":Nc.SignIn.path},"MTGCollection")),s.a.createElement(Fe,null),b?s.a.createElement(s.a.Fragment,null,!Object(_.isNullOrUndefined)(u)&&s.a.createElement(Po,null,s.a.createElement(D.a,{title:"Signed in as ".concat(u.getGivenName()," (").concat(u.getEmail(),")")},s.a.createElement(N.a,{component:d.b,to:"/user",alt:u.getGivenName(),src:u.getImageUrl()}))),s.a.createElement(Yn,{title:"SignOut",onClick:y},s.a.createElement(L.a,null))):void 0!==b&&s.a.createElement(Sc,{onClick:we.signIn}))),s.a.createElement(So,{open:I,anchor:n?"bottom":"left",variant:"permanent",ref:U},s.a.createElement(Do,null,s.a.createElement(O.a,{onClick:B},n?s.a.createElement(A.a,null):s.a.createElement(P.a,null))),s.a.createElement(W.a,null),s.a.createElement(No,{open:I},s.a.createElement(Gc,{open:I,closeDrawer:function(){return n&&z(!1)}}),b&&s.a.createElement(Qc,{open:I,closeDrawer:function(){return n&&z(!1)}}))),s.a.createElement(Wo,{maxWidth:"xl"},s.a.createElement(Io,{open:I},void 0===b?s.a.createElement(sn,null):s.a.createElement(Wc,null))),n&&s.a.createElement(ao,{open:I,toggleOpen:B})))},Ao=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Bo(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}f.a.render(s.a.createElement(d.a,{basename:"/MTGCollection"},s.a.createElement(i.b,{injectFirst:!0},s.a.createElement(p.a,{theme:ze},s.a.createElement(l.a,{theme:ze},s.a.createElement(o.a,null),s.a.createElement(zo,null))))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(console.log("Registering SW..."),new URL("/MTGCollection",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/MTGCollection","/sw.js");console.log("SW at path ".concat("/MTGCollection","/sw.js")),Ao?(!function(e,n){fetch(e).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Bo(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Bo(n,e)}))}}()}},[[320,1,2]]]);
//# sourceMappingURL=main.140d9bbd.chunk.js.map