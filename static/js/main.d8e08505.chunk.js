(this["webpackJsonpmtg-collection"]=this["webpackJsonpmtg-collection"]||[]).push([[0],{150:function(e,n,t){e.exports=t.p+"static/media/logo.81aa9e7e.png"},180:function(e,n,t){e.exports=t(212)},212:function(e,n,t){"use strict";t.r(n);var a,r,c,i=t(366),o=t(329),l=t(365),u=t(0),s=t.n(u),m=t(15),d=t.n(m),f=t(36),p=t(69),h=t(10),b=t(16),g=t.n(b),v=t(8),E=t(6),O=t(360),y=t(332),k=t(361),j=t(362),w=t(363),x=t(364),C=t(45),D=t(347),S=t(344),N=t(335),W=t(342),z=t(355),A=t(152),I=t.n(A),T=t(90),P=t.n(T),U=t(151),M=t.n(U),L=t(64),_=t.n(L),B=t(74),R=t.n(B),G=t(23),F=t(32),H=t(9);!function(e){e.Collection="_collection",e.Wishlist="_wishlist"}(c||(c={}));var q,J=function(e){return e===c.Collection?"Collection":e===c.Wishlist?"Wishlist":e};!function(e){e.Default="_default",e.Sideboard="Sideboard",e.Maybeboard="Maybeboard"}(q||(q={}));var Q,K=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.reduce((function(e,n){return Object(h.a)({},e,Object(H.a)({},n,{}))}),Object(H.a)({},q.Default,{}))},X={files:(a={},Object(H.a)(a,c.Collection,""),Object(H.a)(a,c.Wishlist,""),a),decks:(r={},Object(H.a)(r,c.Collection,{name:c.Collection,cards:K()}),Object(H.a)(r,c.Wishlist,{name:c.Wishlist,cards:K()}),r),cardList:{},symbolList:{},setList:{},selectedDeck:c.Collection},$=s.a.createContext([X,void 0]),V=s.a.createContext({signOut:function(){}}),Y=t(41),Z=(Q={files:function(e,n){switch(n.type){case"CreateDeck":return Object(h.a)({},e,Object(H.a)({},n.name,n.link));case"DeleteDeck":return Object(h.a)({},Object(Y.omit)(e,[n.name]))}return e},cardList:function(e,n){switch(n.type){case"AddCards":return Object(h.a)({},e,{},Object(Y.keyBy)(n.cards,"name"))}return e},symbolList:function(e,n){switch(n.type){case"AddSymbols":return n.symbols.reduce((function(e,n){return Object(h.a)({},e,Object(H.a)({},n.symbol,n))}),{})}return e},setList:function(e,n){switch(n.type){case"AddSets":return n.sets.reduce((function(e,n){return Object(h.a)({},e,Object(H.a)({},n.code,n))}),{})}return e},decks:function(e,n){switch(n.type){case"CreateDeck":return Object(h.a)({},e,Object(H.a)({},n.name,Object(h.a)({cards:K()},Object(Y.omit)(n,["type","link"]))));case"UpdateDeck":return Object(h.a)({},e,Object(H.a)({},n.name,Object(h.a)({},e[n.name],{isDirty:!0},Object(Y.omit)(n,["type"]))));case"UpdateDeckCard":return 0===n.card.amount?Object(h.a)({},e,Object(H.a)({},n.deckName,Object(h.a)({},e[n.deckName],{cards:Object(h.a)({},e[n.deckName].cards,Object(H.a)({},n.sectionName,Object(Y.omit)(e[n.deckName].cards[n.sectionName],n.card.name))),isDirty:!0}))):Object(h.a)({},e,Object(H.a)({},n.deckName,Object(h.a)({},e[n.deckName],{cards:Object(h.a)({},e[n.deckName].cards,Object(H.a)({},n.sectionName,Object(h.a)({},e[n.deckName].cards[n.sectionName],Object(H.a)({},n.card.name,Object(h.a)({},e[n.deckName].cards[n.sectionName][n.card.name],{},n.card))))),isDirty:!0})));case"DeleteDeck":return Object(h.a)({},Object(Y.omit)(e,[n.name]))}return e},selectedDeck:function(e,n){switch(n.type){case"SelectDeck":return n.name;case"DeleteDeck":return n.name===e?c.Collection:e}return e}},function(e,n){var t={};for(var a in Q)t[a]=Q[a](e[a],n);return t}),ee=t(2),ne=t(19),te=function(e,n,t){return t.indexOf(e)===n},ae=function(e){return null!==e&&void 0!==e},re=function(e){switch(e){case"chip":return 9;case"inline":return 12;case void 0:return 24}},ce=function(){var e=R.a.create({baseURL:"https://api.scryfall.com",responseType:"json",headers:{"Content-Type":"application/json"}});return{endpoint:e,Symbology:{All:function(){return e.get("/symbology").then((function(e){return e.data.data}))},ParseMana:function(n){return e.get("/symbology/parse-mana",{params:{cost:n}}).then((function(e){return e.data}))}},Cards:{Autocomplete:function(n){return e.get("/cards/autocomplete",{params:{q:n,include_extras:!0}}).then((function(e){return e.data.data}))},Named:function(n){return e.get("/cards/named",{params:{fuzzy:n}}).then((function(e){return e.data}))},Collection:function(n){var t;return(null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0)<=0?Promise.resolve([]):Promise.all(function e(n,t){return n.length<=t?[n]:[n.slice(0,t)].concat(e(n.slice(t),t))}(n,75).map((function(n){return e.post("/cards/collection",{identifiers:n})}))).then((function(e){return e.flatMap((function(e){return e.data.data}))}))}},Sets:{All:function(){return e.get("/sets").then((function(e){return e.data.data}))}}}}(),ie=Object(h.a)({},ce,{getImage:function(e,n){var t,a,r;switch(e.layout){case"transform":case"double_faced_token":r=e.card_faces[0].image_uris;break;default:r=e.image_uris}return null!==(t=null===(a=r)||void 0===a?void 0:a[n])&&void 0!==t?t:null},getPlaceholder:function(e){return"https://via.placeholder.com/146x204?text=".concat(e.replace(/\s/,"+"))},getColorIdentity:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(ae).flatMap((function(e){return e.color_identity})).filter(te).map((function(e){return"{".concat(e,"}")})).join("")}}),oe=function(e,n){return function(t){var a,r=Object.values(null!==(a=null===t||void 0===t?void 0:t.cards)&&void 0!==a?a:{}).reduce((function(e,n){return[].concat(Object(ne.a)(e),Object(ne.a)(Object.values(n)))}),[]).filter((function(e){return!n.cardList[e.name]}));ie.Cards.Collection(r.map((function(e){return{name:e.name}}))).then((function(n){return e({type:"AddCards",cards:n})}))}},le=t(126),ue={serialize:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];return e&&""!==e?e.split("##").map((function(e,n){var t,a;if(0===n)t=q.Default,a=e.split(/\r?\n/);else{var r=e.split(/\r?\n/),c=Object(le.a)(r);t=c[0],a=c.slice(1)}return[t,a.map((function(e){return e.match(/^(\d*) +(.*?)(?: # (.*))?$/)})).filter((function(e){return!Object(Y.isNull)(e)})).map((function(e){return{amount:parseInt(e[1]),name:e[2],comment:e[3]}}))]})).reduce((function(e,n){return Object(h.a)({},e,Object(H.a)({},n[0],n[1].reduce((function(e,n){return Object(h.a)({},e,Object(H.a)({},n.name,n))}),{})))}),K.apply(void 0,t)):K.apply(void 0,t)},deserialize:function(e){return Object.entries(e).reduce((function(e,n){return"".concat(e).concat(n[0]!==q.Default?"#".concat(n[0],"\n"):"").concat(Object.values(n[1]).reduce((function(e,n){return"".concat(e).concat(n.amount," ").concat(n.name).concat(n.comment?" # ".concat(n.comment):"","\n")}),""),"\n")}),"")}},se={apiKey:"AIzaSyBcke75SLGGCMiId3EcThDcLnbmnKasWyE",clientId:"213841300532-aqinavnoi53if8cbk6re0aa6gkf965q3.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],scope:"profile https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/drive.file"},me=function(e){var n,t,a,r,c,i,o,l,u,s,m,d,f;return g.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return r=e.name,c=e.props,i=e.fileContent,o=e.folder,l=new Blob([null!==(n=i)&&void 0!==n?n:""],{type:"text/plain"}),u={name:r,mimeType:"text/plain",appProperties:null!==(t=c)&&void 0!==t?t:{},parents:["appDataFolder"].concat(Object(ne.a)(null!==(a=o)&&void 0!==a?a:[]))},s=gapi.auth.getToken().access_token,(m=new FormData).append("metadata",new Blob([JSON.stringify(u)],{type:"application/json"})),m.append("file",l),p.next=9,g.a.awrap(fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",{method:"POST",headers:new Headers({Authorization:"Bearer "+s}),body:m}));case 9:return d=p.sent,p.next=12,g.a.awrap(d.json());case 12:return f=p.sent,p.abrupt("return",f.id);case 14:case"end":return p.stop()}}))},de=function(e){var n;return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,t.abrupt("return",gapi.client.drive.files.delete({fileId:n}));case 2:case"end":return t.stop()}}))},fe=function(e,n){return function(t){var a,r,c,i;return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a=t.name,r=t.fileContent,c=Object(ee.a)(t,["name","fileContent"]),i=Object(h.a)({name:a,cards:ue.serialize(r,q.Sideboard,q.Maybeboard),isDirty:!1},c),o.t0=e,o.t1=h.a,o.next=6,g.a.awrap(me({name:"".concat(a,".txt"),props:Object(h.a)({name:a},c),fileContent:r}));case 6:o.t2=o.sent,o.t3={type:"CreateDeck",link:o.t2},o.t4=i,o.t5=(0,o.t1)(o.t3,o.t4),(0,o.t0)(o.t5),oe(e,n)(i);case 12:case"end":return o.stop()}}))}},pe=function(e,n){return function(t,a){var r,c;return g.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=t,i.t1=ue,i.next=4,g.a.awrap(he.getFileContents({id:a.id}));case 4:i.t2=i.sent,i.t3=q.Sideboard,i.t4=q.Maybeboard,i.t5=i.t1.serialize.call(i.t1,i.t2,i.t3,i.t4),i.t6=null===(r=a.appProperties)||void 0===r?void 0:r.previewUrl,c={name:i.t0,cards:i.t5,isDirty:!1,previewUrl:i.t6},e(Object(h.a)({type:"CreateDeck",link:a.id},c)),oe(e,n)(c);case 12:case"end":return i.stop()}}))}},he={initClient:function(e){gapi.load("client:auth2",(function(){gapi.client.init(se).then((function(){gapi.auth2.getAuthInstance().isSignedIn.listen(e),e(gapi.auth2.getAuthInstance().isSignedIn.get())}),console.error)}))},getProfile:function(){return gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile()},signIn:function(){return gapi.auth2.getAuthInstance().signIn()},signOut:function(){return gapi.auth2.getAuthInstance().signOut()},prepareAppData:function(e,n){return function(){var t,a,r,i,o,l,u,s,m,d,f,p,h,b,v,E,O,y;return g.a.async((function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,g.a.awrap(gapi.client.drive.files.list({spaces:"appDataFolder",fields:"nextPageToken, files(id, name, appProperties)"}));case 2:if(u=k.sent,s=null===(t=u.result)||void 0===t?void 0:null===(a=t.files)||void 0===a?void 0:a.find((function(e){var n;return(null===(n=e.appProperties)||void 0===n?void 0:n.name)===c.Collection}))){k.next=10;break}return console.info("Creating collection..."),k.next=8,g.a.awrap(fe(e,n)({name:c.Collection}));case 8:k.next=13;break;case 10:return console.info("Loading collection..."),k.next=13,g.a.awrap(pe(e,n)(c.Collection,s));case 13:if(m=null===(r=u.result)||void 0===r?void 0:null===(i=r.files)||void 0===i?void 0:i.find((function(e){var n;return(null===(n=e.appProperties)||void 0===n?void 0:n.name)===c.Wishlist}))){k.next=20;break}return console.info("Creating wishlist..."),k.next=18,g.a.awrap(fe(e,n)({name:c.Wishlist}));case 18:k.next=23;break;case 20:return console.info("Loading wishlist..."),k.next=23,g.a.awrap(pe(e,n)(c.Wishlist,m));case 23:for(d=null===(o=u.result)||void 0===o?void 0:null===(l=o.files)||void 0===l?void 0:l.filter((function(e){var n,t;return(null===(n=e.appProperties)||void 0===n?void 0:n.name)!==c.Collection&&(null===(t=e.appProperties)||void 0===t?void 0:t.name)!==c.Wishlist})),f=0;f<d.length;f++)O=d[f],y=null!==(p=null!==(h=null===(b=O.appProperties)||void 0===b?void 0:b.name)&&void 0!==h?h:null===(v=O.name)||void 0===v?void 0:null===(E=v.match(/(.*?)\.txt/))||void 0===E?void 0:E[0])&&void 0!==p?p:"unnamed",pe(e,n)(y,O);case 25:case"end":return k.stop()}}))}},createNewFile:me,updateFile:function(e){var n,t,a,r,c,i,o;return g.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=e.id,t=e.fileContent,a=new Blob([t],{type:"text/plain"}),r=gapi.auth.getToken().access_token,(c=new FormData).append("file",a),l.next=7,g.a.awrap(fetch("https://www.googleapis.com/upload/drive/v3/files/".concat(n,"?uploadType=media&fields=id"),{method:"PATCH",headers:new Headers({Authorization:"Bearer "+r}),body:c}));case 7:return i=l.sent,l.next=10,g.a.awrap(i.json());case 10:return o=l.sent,l.abrupt("return",o.id);case 12:case"end":return l.stop()}}))},deleteFile:de,createNewDeck:fe,downloadDeck:pe,deleteDeck:function(e){return function(n){var t,a;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=n.name,a=n.id,r.next=3,g.a.awrap(de({id:a}));case 3:e({type:"DeleteDeck",name:t});case 4:case"end":return r.stop()}}))}},getFileContents:function(e){var n,t;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.id,a.next=3,g.a.awrap(gapi.client.drive.files.get({fileId:n,alt:"media"}));case 3:return t=a.sent,a.abrupt("return",t.body);case 5:case"end":return a.stop()}}))}},be=he,ge=t(333),ve=t(336),Ee=t(226),Oe=t(337),ye=t(338),ke=t(339),je=t(340),we=t(341),xe=t(61),Ce=t.n(xe),De=function(e,n){var t=s.a.useContext(e),a=Object(v.a)(t,2),r=a[0];return n(a[1],r)},Se=t(367),Ne=t(334),We=function(e){var n=e.label,t=e.onNameSelect,a=s.a.useState(""),r=Object(v.a)(a,2),c=r[0],i=r[1],o=s.a.useState(!1),l=Object(v.a)(o,2),u=l[0],m=l[1],d=s.a.useState([]),f=Object(v.a)(d,2),p=f[0],b=f[1],g=s.a.useState(!1),E=Object(v.a)(g,2),O=E[0],y=E[1],k=s.a.useState(void 0),j=Object(v.a)(k,2),w=j[0],x=j[1],C=function(e){i(e),b([]),t&&t(e)};return s.a.useEffect((function(){u||b([])}),[u]),s.a.createElement(Se.a,{style:{width:300},open:u,value:c,onOpen:function(){return m(!0)},onClose:function(){return m(!1)},onChange:function(e,n){return C(n)},onInputChange:function(e,n,t){return function(e,n){c!==e&&"reset"!==n&&(i(e),clearTimeout(w),x(setTimeout((function(){e.length<2||(y(!0),ie.Cards.Autocomplete(e).then((function(n){b(n),y(!1),1===n.length&&n[0].toLowerCase().includes(e.toLowerCase())&&(i(n[0]),C(n[0]),m(!1))})))}),500)))}(n,t)},options:p,loading:O,renderInput:function(e){return s.a.createElement(ge.a,Object.assign({},e,{label:n,fullWidth:!0,variant:"outlined",InputProps:Object(h.a)({},e.InputProps,{endAdornment:s.a.createElement(s.a.Fragment,null,O?s.a.createElement(Ne.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})},ze=t(93),Ae=t(154),Ie=t(13),Te=Object(Ae.a)({palette:{type:"dark",primary:{main:Ie.a.deepOrange[700]},secondary:{main:Ie.a.blueGrey[500]}}},{constants:{drawerWidth:"260px",drawerWidthClosed:"72px",appletHeight:"280px"}}),Pe=(p.a,p.b),Ue=p.c;function Me(){var e=Object(E.a)(["\n    background-color: ",";\n    color: ",";\n"]);return Me=function(){return e},e}function Le(){var e=Object(E.a)([""]);return Le=function(){return e},e}function _e(){var e=Object(E.a)(["\n    align-self: flex-end;\n"]);return _e=function(){return e},e}function Be(){var e=Object(E.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    min-height: ",";\n    overflow: hidden;\n    padding: ","px;\n    "," {\n        & {\n            padding: ","px;\n        }\n    }\n"]);return Be=function(){return e},e}function Re(){var e=Object(E.a)(["\n    flex: 1 1 auto;\n"]);return Re=function(){return e},e}var Ge=Ue.div(Re()),Fe=Ue(ze.a)(Be(),(function(e){return e.theme.constants.appletHeight}),(function(e){return e.theme.spacing(4)}),(function(e){return e.theme.breakpoints.down("xs")}),(function(e){return e.theme.spacing(2)})),He=Ue.div(_e()),qe=Ue(C.a).attrs((function(e){return{component:"h2",variant:"h4",color:"primary",gutterBottom:!0}}))(Le()),Je=Ue(N.a)(Me(),(function(e){return e.theme.palette.background.paper}),(function(e){return e.theme.palette.text.secondary}));function Qe(){var e=Object(E.a)(["\n    display: flex;\n    margin-top: ","px;\n    align-items: center;\n\n    & .MuiAutocomplete-root {\n        flex-grow: 1;\n        margin-right: ","px;\n    }\n"]);return Qe=function(){return e},e}var Ke=Ue.div(Qe(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(1)})),Xe=function(){var e=Object(G.f)(),n=s.a.useContext($),t=Object(v.a)(n,1)[0],a=De($,be.createNewDeck),r=s.a.useState(""),c=Object(v.a)(r,2),i=c[0],o=c[1],l=s.a.useState(""),u=Object(v.a)(l,2),m=u[0],d=u[1],f=s.a.useState(!1),p=Object(v.a)(f,2),h=p[0],b=p[1],g=s.a.useState(null),E=Object(v.a)(g,2),O=E[0],y=E[1],k=s.a.useState(""),j=Object(v.a)(k,2),w=j[0],x=j[1],C=function(){return b(!1)},D=function(){a({name:m,fileContent:i,previewUrl:w}),e.push("/decks/".concat(encodeURIComponent(m)))},S=function(e){d(e),""!==e?e.indexOf("%")>=0?y("Deck name can't contain '%'"):t.decks[e]?y("Deck with this name already exists"):y(null):y("Deck name can't be empty")};return s.a.useEffect((function(){return S("")}),[]),s.a.createElement(Fe,null,s.a.createElement(qe,null,"Add deck"),s.a.createElement(Ge,null,s.a.createElement(ge.a,{label:"Deck name",variant:"outlined",error:!!O,helperText:O,value:m,onChange:function(e){return S(e.target.value)},fullWidth:!0}),s.a.createElement(Ke,null,s.a.createElement(We,{label:"Preview card",onNameSelect:function(e){e?ie.Cards.Named(e).then((function(e){var n;x(null!==(n=ie.getImage(e,"art_crop"))&&void 0!==n?n:"")})):x("")}}),s.a.createElement(N.a,{alt:"Preview icon",src:w},s.a.createElement(Ce.a,null)))),s.a.createElement(He,null,s.a.createElement(ve.a,{size:"small"},s.a.createElement(Ee.a,{disabled:!!O,onClick:function(){return b(!0)}},"Import"),s.a.createElement(Ee.a,{disabled:!!O,color:"primary",onClick:D},"Create empty"))),s.a.createElement(Oe.a,{open:h,onClose:C,"aria-labelledby":"import-deck-dialog",fullWidth:!0,maxWidth:"md"},s.a.createElement(ye.a,{id:"import-deck-dialog"},"Import"),s.a.createElement(ke.a,null,s.a.createElement(je.a,null,"Paste exported deck below."),s.a.createElement(ge.a,{autoFocus:!0,fullWidth:!0,label:"Import",multiline:!0,rows:"15",variant:"outlined",value:i,onChange:function(e){return o(e.target.value)}})),s.a.createElement(we.a,null,s.a.createElement(Ee.a,{onClick:C,color:"primary"},"Cancel"),s.a.createElement(Ee.a,{onClick:D,color:"primary"},"Import"))))},$e=t(343),Ve=t(11),Ye=t(63),Ze=t.n(Ye),en=t(146),nn=t.n(en),tn=t(147),an=t.n(tn),rn=t(133),cn=t.n(rn);function on(){var e=Object(E.a)(["\n    margin-top: ","px;\n"]);return on=function(){return e},e}function ln(){var e=Object(E.a)(["\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n"]);return ln=function(){return e},e}var un=Ue(Fe)(ln()),sn=Ue(C.a)(on(),(function(e){return e.theme.spacing(2)})),mn=function(){return s.a.createElement(un,null,s.a.createElement(Ne.a,{size:60}),s.a.createElement(sn,{component:"h2",variant:"h6"},"Loading..."))},dn=t(134),fn=t.n(dn),pn=t(369),hn=t(135);var bn=function(e,n){if(!e)throw new hn.AssertionError({message:n})},gn=function(e){var n,t,a=e.card,r=e.deckName,i=e.sectionName,o=s.a.useContext($),l=Object(v.a)(o,2),u=l[0],m=l[1],d=null!==(n=null!==(t=r)&&void 0!==t?t:u.selectedDeck)&&void 0!==n?n:null,f=function(){return void 0!==u.decks[c.Wishlist].cards[q.Default][a.name]},p=(d?Object.keys(u.decks[d].cards):[]).filter((function(e){return e!==i}));return{updateCardQuantity:function(e){var n;bn(!Object(F.isNullOrUndefined)(r),"DeckName should not be empty if the preview actions are Deck"),m({type:"UpdateDeckCard",deckName:r,sectionName:null!==(n=i)&&void 0!==n?n:q.Default,card:Object(h.a)({},a,{amount:e})})},openScryfallPage:function(){return a.scryfall_uri&&window.open(a.scryfall_uri,"_blank")},openScryfallSetPage:function(){return a.scryfall_set_uri&&window.open(a.scryfall_set_uri,"_blank")},isOnWishlist:f,toggleWishlist:function(){return f()?m({type:"UpdateDeckCard",deckName:c.Wishlist,sectionName:q.Default,card:Object(h.a)({},a,{amount:0})}):m({type:"UpdateDeckCard",deckName:c.Wishlist,sectionName:q.Default,card:Object(h.a)({},a,{amount:1})})},wishlistTooltip:function(){return f()?"Remove from wishlist":"Add to wishlist"},removeCard:function(){var e;bn(!Object(F.isNullOrUndefined)(r),"DeckName should not be empty if the preview actions are Deck"),m({type:"UpdateDeckCard",deckName:r,sectionName:null!==(e=i)&&void 0!==e?e:q.Default,card:Object(h.a)({},a,{amount:0})})},sections:p,changeSection:function(e){var n;bn(!Object(F.isNullOrUndefined)(r),"DeckName should not be empty if the preview actions are Deck"),m({type:"UpdateDeckCard",deckName:r,sectionName:null!==(n=i)&&void 0!==n?n:q.Default,card:Object(h.a)({},a,{amount:0})}),m({type:"UpdateDeckCard",deckName:r,sectionName:e,card:Object(h.a)({},a,{amount:a.amount})})},addToDeck:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q.Default;bn(!Object(F.isNullOrUndefined)(d),"TargetDeck should not be empty if the preview actions are SearchDeck"),m({type:"UpdateDeckCard",deckName:d,sectionName:e,card:Object(h.a)({},a,{amount:1})})}}},vn=t(215),En=t(137),On=t.n(En),yn=t(136),kn=t.n(yn);function jn(){var e=Object(E.a)(["\n            & .MuiIconButton-label {\n                margin-top: -3px;\n            }\n        "]);return jn=function(){return e},e}function wn(){var e=Object(E.a)(["\n    height: ","px;\n    width: ","px;\n    padding: 0;\n    ","\n    &:first-of-type {\n        border-bottom-left-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n    &:last-of-type {\n        border-top-left-radius: 0;\n        border-top-right-radius: 0;\n    }\n"]);return wn=function(){return e},e}function xn(){var e=Object(E.a)(["\n    display: flex;\n    flex-direction: column;\n    transform: translate(calc(50% + ","px), calc(-100% + ","px));\n    background-color: ",";\n    border-radius: ","px;\n"]);return xn=function(){return e},e}function Cn(){var e=Object(E.a)(["\n            width: 48px;\n            height: 48px;\n            font-size: 2rem;\n        "]);return Cn=function(){return e},e}function Dn(){var e=Object(E.a)(["\n            width: ","px;\n            height: ","px;\n            font-size: 0.875rem;\n        "]);return Dn=function(){return e},e}function Sn(){var e=Object(E.a)(["\n            background-color: ",";\n        "]);return Sn=function(){return e},e}function Nn(){var e=Object(E.a)(["\n    cursor: pointer;\n    color: ",";\n\n    ","\n\n    ","\n\n    ","\n"]);return Nn=function(){return e},e}var Wn=Ue(N.a).attrs((function(e){return{className:"chip"===e.size?e.className+" MuiChip-avatar MuiChip-avatarSmall":e.className}}))(Nn(),(function(e){return e.theme.palette.text.primary}),(function(e){return e.open&&Pe(Sn(),e.theme.palette.grey[500])}),(function(e){return"inline"===e.size&&Pe(Dn(),e.theme.spacing(3),e.theme.spacing(3))}),(function(e){return!e.size&&Pe(Cn())})),zn=Ue.div(xn(),(function(e){return re(e.size)}),(function(e){return re(e.size)}),(function(e){return e.theme.palette.grey[600]}),(function(e){return re(e.size)})),An=Ue(y.a)(wn(),(function(e){return e.s?"chip"===e.s?18:24:48}),(function(e){return e.s?"chip"===e.s?18:24:48}),(function(e){return"chip"===e.s&&Pe(jn())})),In=function(e){var n=e.val,t=e.onChange,a=e.size,r=e.className,c=s.a.useState(null),i=Object(v.a)(c,2),o=i[0],l=i[1],u=!!o,m=function(e){return function(a){a.stopPropagation(),t(n+e)}};return s.a.createElement(s.a.Fragment,null,s.a.createElement(Wn,{className:r,title:"",size:a,onClick:function(e){l(o?null:e.currentTarget),e.stopPropagation()},open:u},n),s.a.createElement(vn.a,{open:u,anchorEl:o},s.a.createElement(W.a,{onClickAway:function(){return l(null)}},s.a.createElement(zn,{size:a},s.a.createElement(An,{s:a,onClick:m(1)},s.a.createElement(kn.a,null)),s.a.createElement(An,{s:a,onClick:m(-1)},s.a.createElement(On.a,null))))))};function Tn(){var e=Object(E.a)(["\n                .MuiTypography-"," & {\n                    height: ","px;\n                    width: ","px;\n                }\n            "]);return Tn=function(){return e},e}function Pn(){var e=Object(E.a)(["\n    display: inline-block;\n    height: 16px;\n    width: 16px;\n    margin: 1px 1px -2px 1px;\n\n    ","\n"]);return Pn=function(){return e},e}var Un=[["h1",80],["h2",51],["h3",42],["h4",30],["h5",25],["h6",20],["subtitle1",16],["subtitle2",14],["body1",16],["body2",14],["caption",12],["button",16],["overline",14]],Mn=Ue.svg(Pn(),(function(e){return Un.map((function(e){var n=Object(v.a)(e,2),t=n[0],a=n[1];return Pe(Tn(),t,a,a)}))})),Ln=function(e){var n=e.symbol,t=s.a.useContext($),a=Object(v.a)(t,1)[0],r=s.a.useState(),c=Object(v.a)(r,2),i=c[0],o=c[1];return s.a.useEffect((function(){var e;o(null!==(e=a.symbolList[n])&&void 0!==e?e:Object.values(a.symbolList).find((function(e){return e.loose_variant===n})))}),[n,a.symbolList]),i?s.a.createElement(Mn,{dangerouslySetInnerHTML:{__html:i.svg}}):s.a.createElement(s.a.Fragment,null,n)},_n=function(e){var n=e.text,t=Object(ee.a)(e,["text"]),a=s.a.useState([]),r=Object(v.a)(a,2),c=r[0],i=r[1];return s.a.useEffect((function(){var e;i((null!==(e=n.match(/({.*?})|([^{]+)/g))&&void 0!==e?e:[]).map((function(e,n){return"{"===e[0]?s.a.createElement(Ln,{key:n,symbol:e}):s.a.createElement("span",{key:n},e)})))}),[n]),s.a.createElement(C.a,t,c)};function Bn(){var e=Object(E.a)(["\n    width: 100%;\n\n    & .MuiChip-label {\n        flex: 1 1 auto;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    & .MuiChip-deleteIcon {\n        width: unset;\n        height: unset;\n        flex-shrink: 0;\n        margin-left: ","px;\n        margin-top: 1px;\n    }\n"]);return Bn=function(){return e},e}var Rn=Ue(pn.a)(Bn(),(function(e){return e.theme.spacing(1)})),Gn=function(e){var n,t=gn(e),a=t.updateCardQuantity,r=t.openScryfallPage,c=e.card;return s.a.createElement(Rn,{size:"small",variant:"outlined",label:c.name,deleteIcon:s.a.createElement(_n,{text:null!==(n=c.mana_cost)&&void 0!==n?n:"",noWrap:!0}),avatar:s.a.createElement(In,{size:"chip",val:c.amount,onChange:a}),onDelete:r,onClick:r,title:"Open on scryfall"})};function Fn(){var e=Object(E.a)(["\n    text-indent: ","px;\n"]);return Fn=function(){return e},e}var Hn=Ue(C.a)(Fn(),(function(e){return e.theme.spacing(1)})),qn=function(e){var n=e.cards,t=(e.sortBy,e.sortOrder,e.showGroups,Object(ee.a)(e,["cards","sortBy","sortOrder","showGroups"]));return s.a.createElement($e.a,{container:!0,direction:"column"},n.length>=1?n.map((function(e){return s.a.createElement($e.a,{item:!0,key:e.name,xs:!0,zeroMinWidth:!0},s.a.createElement(Gn,Object.assign({card:e},t)))})):s.a.createElement($e.a,{item:!0,xs:12},s.a.createElement(Hn,{color:"textSecondary",variant:"subtitle2"},"Empty")))},Jn=t(62),Qn=t.n(Jn),Kn=t(138),Xn=t.n(Kn);function $n(){var e=Object(E.a)(["\n                background-color: ",";\n            "]);return $n=function(){return e},e}function Vn(){var e=Object(E.a)(["\n            background-color: ",";\n            &.Mui-disabled {\n                background-color: ",";\n            }\n        "]);return Vn=function(){return e},e}function Yn(){var e=Object(E.a)(["\n    ",";\n    &:hover {\n        ",";\n    }\n"]);return Yn=function(){return e},e}var Zn=Ue(y.a)(Yn(),(function(e){return e.background&&Pe(Vn(),e.theme.palette[e.background].main,Object(Ve.a)(e.theme.palette[e.background].main,.3))}),(function(e){return e.background&&Pe($n(),e.theme.palette[e.background].dark)})),et=function(e){var n=e.onClick,t=e.title,a=e.size,r=e.background,c=e.disabled,i=e.children;return s.a.createElement(S.a,{title:t},s.a.createElement("span",null,s.a.createElement(Zn,{size:a,background:r,disabled:c,onClick:n,"aria-label":t},i,s.a.createElement(C.a,{variant:"srOnly"},t))))},nt=function(e){var n=e.actions,t=e.size,a=e.background;return s.a.createElement(et,{title:n.wishlistTooltip(),onClick:n.toggleWishlist,background:a,size:t},n.isOnWishlist()?s.a.createElement(Qn.a,null):s.a.createElement(Xn.a,null))},tt=t(139),at=t.n(tt),rt=t(159),ct=t(223),it=t(345),ot=function(e){var n=e.actions,t=e.size,a=e.background,r=s.a.useState(!1),c=Object(v.a)(r,2),i=c[0],o=c[1],l=s.a.useRef(null),u=function(e){l.current&&l.current.contains(e.target)||o(!1)};return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{ref:l},s.a.createElement(et,{title:"Change section",onClick:function(){return o((function(e){return!e}))},disabled:n.sections.length<=0,background:a,size:t},s.a.createElement(at.a,null))),s.a.createElement(vn.a,{open:i,anchorEl:l.current,role:void 0,transition:!0},(function(e){var t=e.TransitionProps,a=e.placement;return s.a.createElement(rt.a,Object.assign({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),s.a.createElement(ze.a,{elevation:5},s.a.createElement(W.a,{onClickAway:u},s.a.createElement(ct.a,null,n.sections.map((function(e){return s.a.createElement(it.a,{key:e,onClick:function(){return n.changeSection(e)}},e===q.Default?"Default":e)}))))))})))},lt=function(e){var n=e.actions,t=e.size,a=e.background;return s.a.createElement(et,{title:"Remove card",onClick:n.removeCard,background:a,size:t},s.a.createElement(Ze.a,null))};function ut(){return(ut=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function st(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var mt=s.a.createElement("g",{transform:"translate(-60 -58)",fill:"none",fillRule:"evenodd"},s.a.createElement("circle",{cx:290,cy:288,r:230}),s.a.createElement("path",{d:"M343.058 89.985c-109.36-29.303-221.77 35.597-251.073 144.957-29.303 109.36 35.597 221.77 144.957 251.073 109.36 29.303 221.77-35.597 251.073-144.957 29.303-109.36-35.597-221.77-144.957-251.073zM256.342 451.95l.276.71c1.172 3.187 3.562 5.776 6.644 7.2 3.082 1.422 6.603 1.562 9.788.387l48.355-17.774c3.184-1.175 6.706-1.035 9.787.388 3.082 1.424 5.472 4.013 6.644 7.2l.19.56c2.105 5.852-.304 12.37-5.71 15.448-93.23 22.17-187.912-30.724-217.912-121.736s14.67-189.84 102.81-227.453c5.144.502 9.544 3.91 11.32 8.762 2.578 6.977 10.317 10.55 17.3 7.99l15.73-5.803c3.186-1.176 6.707-1.036 9.79.387 3.08 1.423 5.47 4.012 6.643 7.198l.19.56c1.174 3.185 1.034 6.706-.39 9.788-1.422 3.082-4.01 5.472-7.197 6.644l-109.46 40.366c-3.187 1.172-5.777 3.562-7.2 6.644-1.422 3.082-1.562 6.603-.388 9.788l.19.56c1.172 3.186 3.562 5.775 6.643 7.198 3.082 1.423 6.603 1.563 9.788.388l80.06-29.483c3.184-1.174 6.705-1.034 9.787.388 3.082 1.423 5.472 4.013 6.644 7.2l.19.56c1.173 3.184 1.034 6.705-.39 9.787-1.422 3.08-4.01 5.47-7.197 6.643l-127.814 47.08c-3.186 1.17-5.776 3.56-7.2 6.643-1.42 3.082-1.56 6.603-.387 9.788l.19.56c1.172 3.186 3.562 5.775 6.643 7.198 3.08 1.423 6.602 1.563 9.787.388L297.72 226.4c3.184-1.175 6.705-1.036 9.787.387 3.082 1.423 5.472 4.012 6.644 7.198l.467 1.27c1.174 3.186 1.035 6.707-.388 9.79-1.424 3.08-4.014 5.47-7.2 6.643l-113 41.54c-3.187 1.172-5.777 3.562-7.2 6.644-1.422 3.08-1.562 6.603-.387 9.787l.19.56c1.17 3.185 3.56 5.775 6.643 7.198 3.08 1.423 6.603 1.562 9.787.388l51.798-19.06c3.186-1.174 6.707-1.034 9.79.39 3.08 1.422 5.47 4.01 6.643 7.197l.19.56c1.174 3.185 1.034 6.706-.39 9.788-1.422 3.083-4.01 5.473-7.197 6.644l-89.085 32.754c-3.185 1.17-5.774 3.56-7.197 6.643-1.423 3.083-1.562 6.604-.388 9.79l.19.56c1.17 3.185 3.56 5.775 6.643 7.197 3.082 1.423 6.603 1.563 9.788.388L304.563 336.3c3.185-1.173 6.706-1.034 9.788.39 3.083 1.422 5.473 4.01 6.644 7.197l.19.56c1.174 3.185 1.035 6.706-.388 9.788s-4.013 5.472-7.198 6.644l-74.954 27.54c-3.186 1.17-5.776 3.56-7.2 6.643-1.422 3.082-1.56 6.603-.387 9.788l.19.56c1.172 3.187 3.562 5.777 6.643 7.2 3.082 1.422 6.603 1.562 9.788.387l94.147-34.537c3.185-1.175 6.706-1.035 9.788.388s5.472 4.012 6.644 7.198c2.428 6.58-.893 13.887-7.447 16.384l-86.903 33.168c-3.18 1.18-5.764 3.574-7.18 6.658-1.414 3.083-1.547 6.603-.367 9.784l-.018-.09z",fill:"#FFF"})),dt=function(e){var n=e.svgRef,t=e.title,a=st(e,["svgRef","title"]);return s.a.createElement("svg",ut({"aria-hidden":"true",focusable:"false",className:"",width:460,height:460,viewBox:"0 0 460 460",ref:n},a),t?s.a.createElement("title",null,t):null,mt)},ft=s.a.forwardRef((function(e,n){return s.a.createElement(dt,ut({svgRef:n},e))})),pt=(t.p,function(e){var n=e.actions,t=e.size,a=e.background;return s.a.createElement(et,{title:"Open on scryfall",onClick:n.openScryfallPage,background:a,size:t},s.a.createElement(ft,{width:"24",height:"24"}))}),ht=function(e){var n=e.size,t=e.className,a=Object(ee.a)(e,["size","className"]),r=gn(a);return s.a.createElement("div",{className:t},s.a.createElement(nt,{actions:r,size:n}),s.a.createElement(ot,{actions:r,size:n}),s.a.createElement(lt,{actions:r,size:n}),s.a.createElement(pt,{actions:r,size:n}))};function bt(){var e=Object(E.a)(["\n    position: absolute;\n    top: ","px;\n    left: ","px;\n    background-color: ",";\n"]);return bt=function(){return e},e}function gt(){var e=Object(E.a)(["\n    position: absolute;\n    top: ","px;\n    right: ","px;\n    display: flex;\n    flex-direction: column;\n    background-color: ",";\n    border-radius: ","px;\n\n    display: none;\n    ",":hover & {\n        display: flex;\n    }\n"]);return gt=function(){return e},e}function vt(){var e=Object(E.a)(["\n    border-radius: 4.75% / 3.5%;\n    background-image: repeating-linear-gradient(-55deg, #ddd, #ddd 5px, #ccc 5px, #ccc 10px);\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    cursor: pointer;\n"]);return vt=function(){return e},e}function Et(){var e=Object(E.a)(["\n    padding-bottom: 139.344262295%;\n    width: 100%;\n    height: 0;\n    position: relative;\n"]);return Et=function(){return e},e}var Ot=Ue.div(Et()),yt=Ue.img(vt()),kt=Ue(ht)(gt(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.palette.grey[600]}),re(void 0),Ot),jt=Ue(In)(bt(),(function(e){return e.theme.spacing(7)}),(function(e){return e.theme.spacing(3)}),(function(e){return e.theme.palette.background.default})),wt=function(e){var n,t=gn(e),a=e.card;return s.a.createElement(Ot,null,s.a.createElement(yt,{src:null!==(n=ie.getImage(a,"normal"))&&void 0!==n?n:"",title:a.name}),!Object(F.isNullOrUndefined)(a.amount)&&s.a.createElement(jt,{val:a.amount,onChange:t.updateCardQuantity}),s.a.createElement(kt,e))},xt=function(e){var n=e.cards,t=(e.sortBy,e.sortOrder,e.showGroups,Object(ee.a)(e,["cards","sortBy","sortOrder","showGroups"]));return s.a.createElement($e.a,{container:!0,spacing:1,alignItems:"center"},n.length>=1?n.map((function(e){return s.a.createElement($e.a,{key:e.name,item:!0,xs:12,sm:6,lg:4,xl:3},s.a.createElement(wt,Object.assign({card:e},t)))})):s.a.createElement($e.a,{item:!0,xs:12},s.a.createElement(Hn,{color:"textSecondary"},"Empty")))},Ct=t(349),Dt=t(348),St=t(350),Nt=t(346),Wt=t(351);function zt(){var e=Object(E.a)(["\n    width: 25px;\n    height: 20px;\n    fill: url(#rarity-",");\n"]);return zt=function(){return e},e}var At=Ue.svg(zt(),(function(e){return e.rarity})),It=function(e){var n=e.set,t=e.rarity,a=s.a.useContext($),r=Object(v.a)(a,1)[0],c=s.a.useState(),i=Object(v.a)(c,2),o=i[0],l=i[1];return s.a.useEffect((function(){l(r.setList[n])}),[n,r.setList]),o?s.a.createElement(At,{rarity:t},s.a.createElement("defs",null,s.a.createElement("linearGradient",{id:"rarity-common"},s.a.createElement("stop",{offset:"0%",stopColor:"#000"})),s.a.createElement("linearGradient",{id:"rarity-uncommon",gradientTransform:"rotate(90)"},s.a.createElement("stop",{offset:"0%",stopColor:"#4d565a"}),s.a.createElement("stop",{offset:"50%",stopColor:"#a0c3d3"}),s.a.createElement("stop",{offset:"100%",stopColor:"#4d565a"})),s.a.createElement("linearGradient",{id:"rarity-rare",gradientTransform:"rotate(90)"},s.a.createElement("stop",{offset:"0%",stopColor:"#85723e"}),s.a.createElement("stop",{offset:"50%",stopColor:"#d4b975"}),s.a.createElement("stop",{offset:"100%",stopColor:"#85723e"})),s.a.createElement("linearGradient",{id:"rarity-mythic",gradientTransform:"rotate(90)"},s.a.createElement("stop",{offset:"0%",stopColor:"#b02911"}),s.a.createElement("stop",{offset:"50%",stopColor:"#e87f03"}),s.a.createElement("stop",{offset:"100%",stopColor:"#b02911"}))),s.a.createElement("svg",{dangerouslySetInnerHTML:{__html:o.icon_svg}})):s.a.createElement(s.a.Fragment,null,n)};function Tt(){var e=Object(E.a)(["\n    display: none;\n    "," {\n        & {\n            display: initial;\n        }\n    }\n"]);return Tt=function(){return e},e}function Pt(){var e=Object(E.a)(["\n                    background-color: ",";\n                    border-radius: ","px;\n                    position: absolute;\n                    transform: translateX(calc(-100% - 4px));\n                "]);return Pt=function(){return e},e}function Ut(){var e=Object(E.a)(["\n                    display: none;\n                "]);return Ut=function(){return e},e}function Mt(){var e=Object(E.a)(["\n    white-space: nowrap;\n\n    & > *:not(:last-child) {\n        margin-right: ","px;\n    }\n\n    "," {\n        & {\n            ","\n\n            ","\n        }\n    }\n"]);return Mt=function(){return e},e}function Lt(){var e=Object(E.a)(["\n    &:hover {\n        background-image: linear-gradient(\n            90deg,\n            rgba(0, 0, 0, 0),\n            "," 10%,\n            "," 90%,\n            rgba(0, 0, 0, 0)\n        );\n    }\n"]);return Lt=function(){return e},e}var _t=Ue(Nt.a)(Lt(),(function(e){return e.theme.palette.background.default}),(function(e){return e.theme.palette.background.default})),Bt=Ue(ht)(Mt(),(function(e){return e.theme.spacing(.5)}),(function(e){return e.theme.breakpoints.down("xs")}),(function(e){return!e.open&&Pe(Ut())}),(function(e){return e.open&&Pe(Pt(),(function(e){return e.theme.palette.grey[600]}),(function(e){return re("inline")}))})),Rt=Ue.div(Tt(),(function(e){return e.theme.breakpoints.down("xs")})),Gt=function(e){var n,t=gn(e),a=e.card,r=s.a.useState(!1),c=Object(v.a)(r,2),i=c[0],o=c[1];return s.a.createElement(_t,null,s.a.createElement(Qt,{width:"40px",component:"th",scope:"row",align:"center"},Object(F.isNullOrUndefined)(a.amount)?"-":s.a.createElement(In,{size:"inline",val:a.amount,onChange:t.updateCardQuantity})),s.a.createElement(Kt,null,a.name),s.a.createElement(Qt,{width:"40px",align:"center"},s.a.createElement(D.a,{href:"#",onClick:t.openScryfallSetPage,color:"inherit",title:"Open set on scryfall"},s.a.createElement(It,{set:a.set,rarity:a.rarity}))),s.a.createElement(Dt.a,null,s.a.createElement(_n,{text:null!==(n=a.mana_cost)&&void 0!==n?n:"",noWrap:!0})),s.a.createElement(Dt.a,{style:{position:"relative"}},s.a.createElement(Bt,Object.assign({},e,{open:i,size:"small"})),s.a.createElement(Rt,null,s.a.createElement(et,{title:"Actions",onClick:function(){return o((function(e){return!e}))},size:"small"},s.a.createElement(_.a,null)))))};function Ft(){var e=Object(E.a)(["\n    width: 60%;\n    max-width: 120px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n"]);return Ft=function(){return e},e}function Ht(){var e=Object(E.a)([""]);return Ht=function(){return e},e}function qt(){var e=Object(E.a)(["\n    width: 100%;\n    overflow-y: scroll;\n    & .MuiTableCell-sizeSmall {\n        padding: ",";\n    }\n"]);return qt=function(){return e},e}var Jt=Ue(Ct.a)(qt(),(function(e){return e.theme.spacing(.25,1)})),Qt=Ue(Dt.a).attrs((function(e){return{width:e.width}}))(Ht()),Kt=Ue(Dt.a)(Ft()),Xt=function(e){var n=e.cards,t=(e.sortBy,e.sortOrder,e.showGroups,Object(ee.a)(e,["cards","sortBy","sortOrder","showGroups"]));return s.a.createElement(Jt,{size:"small","aria-label":"card table"},s.a.createElement(St.a,null,s.a.createElement(Nt.a,null,s.a.createElement(Qt,{width:"40px",align:"center"},"#"),s.a.createElement(Kt,null,"Name"),s.a.createElement(Qt,{width:"40px",align:"center"},"Set"),s.a.createElement(Dt.a,null,"Cost"),s.a.createElement(Dt.a,null,"Actions"))),s.a.createElement(Wt.a,null,n.length>=1?n.map((function(e){return s.a.createElement(Gt,Object.assign({key:e.name,card:e},t))})):s.a.createElement(Nt.a,null,s.a.createElement(Dt.a,{colSpan:6},s.a.createElement(Hn,{color:"textSecondary"},"Empty")))))},$t=function(e,n,t,a){return a(n[t])<a(e[t])?-1:a(n[t])>a(e[t])?1:0},Vt=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return"Desc"===e?function(e,a){return $t(e,a,n,t)}:function(e,a){return-$t(e,a,n,t)}},Yt=function(e,n){var t=e.map((function(e,n){return[e,n]}));return t.sort((function(e,t){var a=n(e[0],t[0]);return 0!==a?a:e[1]-t[1]})),t.map((function(e){return e[0]}))},Zt=["common","uncommon","rare","mythic"],ea=function(e,n){switch(e){case"Name":return Vt(n,"name");case"Cmc":return Vt(n,"mana_cost");case"Type":return Vt(n,"type_line");case"Rarity":return Vt(n,"rarity",(function(e){return Zt.indexOf(e)}))}},na=function(e){return s.a.createElement(s.a.Fragment,null,e.sectionName!==q.Default&&s.a.createElement(C.a,{variant:"h6"},e.sectionName),function(){var n=Object(h.a)({},fn()(e,"style","cards"),{cards:Yt(e.cards,ea(e.sortBy,e.sortOrder))});switch(e.style){case"List":return s.a.createElement(Xt,n);case"Images":return s.a.createElement(xt,n);case"Compressed":return s.a.createElement(qn,n)}}())},ta=t(141),aa=t.n(ta),ra=t(140),ca=t.n(ra),ia=t(142),oa=t.n(ia);function la(){var e=Object(E.a)(["\n    display: flex;\n    align-items: center;\n    margin-bottom: ","px;\n\n    & .MuiTypography-root {\n        margin-right: ","px;\n    }\n\n    & .MuiButton-root {\n        padding-left: 0;\n        padding-right: 0;\n    }\n"]);return la=function(){return e},e}var ua=Ue.div(la(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(1)})),sa=function(e){var n=e.style,t=e.onToggle;return s.a.createElement(ua,null,s.a.createElement(C.a,{variant:"caption"},"Display:"),s.a.createElement(ve.a,{variant:"outlined",size:"small"},["Standard","List","Images"].map((function(e){return s.a.createElement(Ee.a,{key:e,onClick:function(){return t(e)},variant:n===e?"contained":void 0},s.a.createElement(S.a,{title:e},function(e){switch(e){case"Standard":return s.a.createElement(ca.a,null);case"List":return s.a.createElement(aa.a,null);case"Images":return s.a.createElement(oa.a,null)}throw Error("Style ".concat(e," does not have an icon."))}(e)))}))))},ma=t(143),da=t.n(ma);function fa(){var e=Object(E.a)(["\n    margin-bottom: ","px;\n    margin-left: ","px;\n"]);return fa=function(){return e},e}var pa=Ue.div(fa(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(1)})),ha=function(e){var n=e.show,t=e.setShow;return s.a.createElement(pa,null,s.a.createElement(et,{size:"small",title:n?"Hide groups":"Show groups",onClick:function(){return t(!n)}},s.a.createElement(da.a,null)))},ba=t(144),ga=t.n(ba);function va(){var e=Object(E.a)(["\n    margin-bottom: ","px;\n"]);return va=function(){return e},e}var Ea=Ue.div(va(),(function(e){return e.theme.spacing(1)})),Oa=function(e){var n=e.sortBy,t=e.setSortBy,a=e.sortOrder,r=e.setSortOrder,c=s.a.useState(!1),i=Object(v.a)(c,2),o=i[0],l=i[1],u=s.a.useRef(null),m=function(e){u.current&&u.current.contains(e.target)||l(!1)};return s.a.createElement(Ea,null,s.a.createElement(Ee.a,{ref:u,size:"small",onClick:function(){return l((function(e){return!e}))},startIcon:s.a.createElement(ga.a,null)},"Sort by"),s.a.createElement(vn.a,{open:o,anchorEl:u.current,role:void 0,transition:!0},(function(e){var c=e.TransitionProps,i=e.placement;return s.a.createElement(rt.a,Object.assign({},c,{style:{transformOrigin:"bottom"===i?"center top":"center bottom"}}),s.a.createElement(ze.a,{elevation:5},s.a.createElement(W.a,{onClickAway:m},s.a.createElement(ct.a,null,[["Name","Asc"],["Name","Desc"],["Cmc","Asc"],["Cmc","Desc"],["Type","Asc"],["Type","Desc"],["Rarity","Asc"],["Rarity","Desc"]].map((function(e){var c=Object(v.a)(e,2),i=c[0],o=c[1];return s.a.createElement(it.a,{key:"".concat(i," (").concat(o,")"),selected:i===n&&o===a,onClick:function(e){t(i),r(o)}},"".concat(i," (").concat(o,")"))}))))))})))},ya=t(75),ka=t(91),ja=t(145);function wa(){var e=Object(E.a)(["\n    width: 24px;\n    height: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return wa=function(){return e},e}var xa=Ue.div(wa()),Ca=function(){return s.a.createElement(xa,null,s.a.createElement(ya.a,{icon:ka.b}))},Da=function(){return s.a.createElement(xa,null,s.a.createElement(ya.a,{icon:ka.c}))},Sa=function(){return s.a.createElement(xa,null,s.a.createElement(ya.a,{icon:ja.a}))},Na=function(){return s.a.createElement(xa,null,s.a.createElement(ya.a,{icon:ka.a}))};function Wa(){var e=Object(E.a)(["\n    z-index: 0;\n    display: flex;\n    flex-direction: column;\n"]);return Wa=function(){return e},e}function za(){var e=Object(E.a)(['\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 75%;\n    z-index: 0;\n\n    & img {\n        width: 100%;\n    }\n\n    &:after {\n        content: "";\n        position: absolute;\n        top: 0;\n        right: 0;\n        width: 100%;\n        height: 100%;\n        display: inline-block;\n        background-image: radial-gradient(\n            ellipse at top 35% right 35%,\n            '," 0%,\n            "," 70%\n        );\n    }\n"]);return za=function(){return e},e}function Aa(){var e=Object(E.a)(["\n    display: flex;\n    align-items: center;\n    margin-bottom: ","px;\n\n    & .MuiDialogContentText-root {\n        flex-grow: 1;\n        margin-bottom: 0;\n    }\n"]);return Aa=function(){return e},e}function Ia(){var e=Object(E.a)(["\n            width: 100%;\n            overflow-x: auto;\n            overflow-y: hidden;\n        "]);return Ia=function(){return e},e}function Ta(){var e=Object(E.a)(["\n    margin-bottom: ","px;\n    ","\n"]);return Ta=function(){return e},e}var Pa=Ue.div(Ta(),(function(e){return e.theme.spacing(2)}),(function(e){return e.scrollable&&Pe(Ia())})),Ua=Ue(Ge)(Aa(),(function(e){return e.theme.spacing(1)})),Ma=Ue.div(za(),(function(e){return Object(Ve.c)(e.theme.palette.background.paper,.8)}),(function(e){return e.theme.palette.background.paper})),La=Ue.div(Wa()),_a=function(){var e=Object(G.h)().deckName;e=decodeURIComponent(e);var n=Object(G.f)(),t=s.a.useContext($),a=Object(v.a)(t,2),r=a[0],i=a[1],o=De($,be.deleteDeck),l=r.decks[e],u=s.a.useState(!0),m=Object(v.a)(u,2),d=m[0],f=m[1],p=s.a.useState(!1),b=Object(v.a)(p,2),g=b[0],E=b[1],O=s.a.useState("List"),y=Object(v.a)(O,2),k=y[0],j=y[1],w=s.a.useState("Cmc"),x=Object(v.a)(w,2),C=x[0],D=x[1],S=s.a.useState("Asc"),N=Object(v.a)(S,2),W=N[0],z=N[1],A=s.a.useState(!1),I=Object(v.a)(A,2),T=I[0],U=I[1];s.a.useEffect((function(){i({type:"SelectDeck",name:e})}),[e,l]);return void 0===l?s.a.createElement(mn,null):s.a.createElement(Fe,null,s.a.createElement(Ma,null,s.a.createElement("img",{src:l.previewUrl,alt:""})),s.a.createElement(La,null,s.a.createElement($e.a,{container:!0,direction:"row",justify:"space-between"},s.a.createElement($e.a,{item:!0},s.a.createElement(qe,null,J(l.name))),s.a.createElement($e.a,{item:!0},s.a.createElement(et,{title:d?"Compress":"Expand",size:"small",onClick:function(){return f((function(e){return!e}))}},d?s.a.createElement(Ca,null):s.a.createElement(Da,null)),s.a.createElement(et,{title:"Close preview",size:"small",onClick:function(){return n.push("/")}},s.a.createElement(P.a,null)))),s.a.createElement($e.a,{container:!0,justify:"space-between"},s.a.createElement(Oa,{sortBy:C,setSortBy:D,sortOrder:W,setSortOrder:z}),s.a.createElement(ha,{show:T,setShow:U}),s.a.createElement(Ge,null),d&&s.a.createElement(sa,{style:k,onToggle:j})),s.a.createElement(Ge,null,Object.entries(l.cards).map((function(n){var t=Object(v.a)(n,2),a=t[0],i=t[1];return s.a.createElement(Pa,{key:a,scrollable:d&&"List"===k},s.a.createElement(na,{cards:Object.values(i).map((function(e){var n;return Object(h.a)({},e,{},null!==(n=r.cardList[e.name])&&void 0!==n?n:{})})),style:d?k:"Compressed",actions:e===c.Wishlist?"SearchWishlist":"Deck",sortBy:C,sortOrder:W,showGroups:T,deckName:e,sectionName:a}))}))),s.a.createElement(He,null,s.a.createElement(et,{title:"Export deck",onClick:function(){return E(!0)}},s.a.createElement(nn.a,null)),e!==c.Collection&&e!==c.Wishlist&&s.a.createElement(et,{title:"Delete deck",onClick:function(){n.push("/"),o({name:e,id:r.files[e]})}},s.a.createElement(Ze.a,null)),l.isDirty&&s.a.createElement(et,{title:"Save changes",onClick:function(){return be.updateFile({id:r.files[e],fileContent:ue.deserialize(l.cards)}).then((function(){return i({type:"UpdateDeck",name:e,isDirty:!1})}))},background:"primary"},s.a.createElement(an.a,null)))),s.a.createElement(Oe.a,{open:g,onClose:function(){return E(!1)},"aria-labelledby":"export-deck-dialog",fullWidth:!0,maxWidth:"md"},s.a.createElement(ye.a,{id:"import-deck-dialog"},"Export"),s.a.createElement(ke.a,null,s.a.createElement(Ua,null,s.a.createElement(je.a,null,"Copy exported text below."),s.a.createElement(et,{title:"Copy to clipboard",onClick:function(){return cn()(ue.deserialize(l.cards))}},s.a.createElement(Na,null))),s.a.createElement(ge.a,{label:"Export",multiline:!0,rows:"15",fullWidth:!0,variant:"outlined",value:ue.deserialize(l.cards),InputProps:{readOnly:!0}}))))};function Ba(){var e=Object(E.a)(["\n    background-color: ",";\n\n    &:hover {\n        background-color: ",";\n    }\n"]);return Ba=function(){return e},e}function Ra(){var e=Object(E.a)(["\n    color: ",";\n"]);return Ra=function(){return e},e}function Ga(){var e=Object(E.a)(["\n    color: ",";\n"]);return Ga=function(){return e},e}var Fa=Ue(ye.a)(Ga(),(function(e){return e.theme.palette.error.main})),Ha=Ue(Ee.a)(Ra(),(function(e){return e.theme.palette.error.main})),qa=Ue(Ee.a)(Ba(),(function(e){return e.theme.palette.error.main}),(function(e){return e.theme.palette.error.light})),Ja=function(){var e=s.a.useContext(V).signOut,n=s.a.useContext($),t=Object(v.a)(n,2),a=t[0],r=t[1],c=s.a.useState(!1),i=Object(v.a)(c,2),o=i[0],l=i[1];return s.a.createElement(Fe,null,s.a.createElement(qe,null,"User info"),s.a.createElement("div",null,s.a.createElement(qa,{startIcon:s.a.createElement(Ze.a,null),variant:"contained",onClick:function(){return l(!0)}},"Delete saved data")),s.a.createElement(Oe.a,{open:o,onClose:function(){return l(!1)}},s.a.createElement(Fa,null,"Delete all saved data and sign out"),s.a.createElement(ke.a,null,s.a.createElement(je.a,null,"This action will delete all the data (saved decks) saved by this app in your google drive storage and sign you out. After you sign back in the app will create it's base required files again. This action is irreversible!")),s.a.createElement(we.a,null,s.a.createElement(Ee.a,{onClick:function(){return l(!1)}},"Cancel"),s.a.createElement(Ha,{onClick:function(){e(),Object.keys(a.decks).forEach((function(e){return be.deleteDeck(r)({name:e,id:a.files[e]})})),l(!1)}},"Delete"))))},Qa=t(353),Ka=t(227),Xa=t(354),$a=t(224),Va=t(65),Ya=t.n(Va),Za=t(352),er=function(e){var n=e.deck,t=e.variant;return s.a.createElement(Za.a,{invisible:!(null===n||void 0===n?void 0:n.isDirty),color:"primary",overlap:"circle",badgeContent:" ",anchorOrigin:{vertical:"bottom",horizontal:"right"}},s.a.createElement(Je,{variant:t,alt:J(null===n||void 0===n?void 0:n.name),src:null===n||void 0===n?void 0:n.previewUrl},(null===n||void 0===n?void 0:n.name)===c.Wishlist?s.a.createElement(Qn.a,null):s.a.createElement(Ce.a,null)))};function nr(){var e=Object(E.a)(["\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"]);return nr=function(){return e},e}var tr=Ue(Qa.a)(nr()),ar=function(e){var n=e.open,t=e.closeDrawer,a=Object(G.g)().pathname,r=s.a.useContext($),i=Object(v.a)(r,1)[0],o=function(e){return s.a.createElement(S.a,{key:e.name,title:n?"":(i.decks[e.name].isDirty?"*":"")+J(e.name),placement:"right"},s.a.createElement(Ka.a,{component:f.b,to:"/decks/".concat(encodeURIComponent(e.name)),onClick:t,button:!0,selected:i.selectedDeck===e.name&&!a.match("/addDeck")},s.a.createElement(Xa.a,null,s.a.createElement(er,{deck:e})),s.a.createElement(tr,{primary:J(e.name)})))};return s.a.createElement(s.a.Fragment,null,s.a.createElement($a.a,null,o(i.decks[c.Collection]),o(i.decks[c.Wishlist])),s.a.createElement(z.a,null),s.a.createElement($a.a,null,s.a.createElement(S.a,{title:"Add deck",placement:"right"},s.a.createElement(Ka.a,{component:f.b,to:"/addDeck/",onClick:t,button:!0,selected:!!a.match("/addDeck")},s.a.createElement(Xa.a,null,s.a.createElement(Je,{alt:"Add deck"},s.a.createElement(Ya.a,null))),s.a.createElement(tr,{primary:"Add deck"})))),s.a.createElement(z.a,null),s.a.createElement($a.a,null,Object.values(i.decks).filter((function(e){return e.name!==c.Collection&&e.name!==c.Wishlist})).map((function(e){return o(e)}))))},rr=t(356),cr=t(357);function ir(){var e=Object(E.a)(["\n    height: 24px;\n    width: 24px;\n    position: relative;\n\n    & > * {\n        position: absolute;\n        bottom: 0;\n        transform: translateX(-50%);\n    }\n"]);return ir=function(){return e},e}function or(){var e=Object(E.a)(["\n    flex-grow: 10;\n\n    & .MuiBottomNavigationAction-label {\n        width: 100%;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n"]);return or=function(){return e},e}function lr(){var e=Object(E.a)(["\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    background-color: ",";\n"]);return lr=function(){return e},e}var ur=Ue(rr.a)(lr(),(function(e){return e.theme.palette.secondary.dark})),sr=Ue(cr.a)(or()),mr=Ue.div(ir()),dr=function(e){var n=e.open,t=e.toggleOpen,a=Object(G.g)().pathname,r=Object(G.f)(),c=s.a.useContext($),i=Object(v.a)(c,1)[0],o=s.a.useState(0),l=Object(v.a)(o,2),u=l[0],m=l[1];s.a.useEffect((function(){return m(n?2:a.match("/addDeck")?0:1)}),[n,a]);return s.a.createElement(ur,{value:u,onChange:function(e,n){return function(e){switch(m(e),e){case 0:return void r.push("/addDeck/");case 1:return void r.push("/decks/".concat(encodeURIComponent(i.decks[i.selectedDeck].name)));case 2:return void t()}throw Error("Invalid tab number ".concat(e))}(n)},showLabels:!0},s.a.createElement(cr.a,{label:"Add deck",icon:s.a.createElement(Ya.a,null)}),s.a.createElement(sr,{label:J(i.selectedDeck),icon:s.a.createElement(mr,null,s.a.createElement(er,{deck:i.decks[i.selectedDeck]}))}),s.a.createElement(cr.a,{label:"Menu",icon:s.a.createElement(_.a,null)}))},fr=t(358),pr=t(359),hr=t(368),br=t(148),gr=t.n(br),vr=t(149),Er=t.n(vr);function Or(){var e=Object(E.a)(["\n    display: flex;\n    margin-top: ","px;\n    align-items: center;\n\n    & .MuiAutocomplete-root {\n        flex-grow: 1;\n        margin-right: ","px;\n    }\n"]);return Or=function(){return e},e}var yr=Ue.div(Or(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(1)})),kr=function(){var e=s.a.useState(""),n=Object(v.a)(e,2),t=n[0],a=n[1],r=s.a.useState([]),c=Object(v.a)(r,2),i=c[0],o=c[1],l=s.a.useState(!1),u=Object(v.a)(l,2),m=u[0],d=u[1],f=function(){return d(!1)},p=s.a.useState({colors:{R:!1,G:!1,U:!1,B:!1,W:!1},colorExactMatch:!1,cmc:0,cmcType:"="}),b=Object(v.a)(p,2),g=b[0],E=b[1],O=function(e){return function(n){var t=Object(h.a)({},g);t.colors[e]=n.target.checked,E(t)}};return s.a.createElement(Fe,null,s.a.createElement(qe,null,"Card search"),s.a.createElement(Ge,null,s.a.createElement(yr,null,s.a.createElement(Se.a,{freeSolo:!0,autoHighlight:!0,disableClearable:!0,options:i,inputValue:t,onInputChange:function(e,n){return a(n),void ie.Cards.Autocomplete(t).then((function(e){return o(e)}))},renderInput:function(e){return s.a.createElement(ge.a,Object.assign({},e,{label:"Card name",variant:"outlined",fullWidth:!0}))}}))),s.a.createElement(Oe.a,{open:m,onClose:f,"aria-labelledby":"advanced-card-search-dialog",maxWidth:"md",fullWidth:!0},s.a.createElement(ye.a,{id:"advanced-card-search-dialog"},"Advanced card search"),s.a.createElement(ke.a,null,s.a.createElement(C.a,{variant:"subtitle2"},"Filter by color"),s.a.createElement(fr.a,{row:!0},s.a.createElement(pr.a,{label:s.a.createElement(_n,{text:"{R} Red"}),control:s.a.createElement(hr.a,{checked:g.colors.R,onChange:O("R")})}),s.a.createElement(pr.a,{label:s.a.createElement(_n,{text:"{G} Green"}),control:s.a.createElement(hr.a,{checked:g.colors.G,onChange:O("G")})}),s.a.createElement(pr.a,{label:s.a.createElement(_n,{text:"{U} Blue"}),control:s.a.createElement(hr.a,{checked:g.colors.U,onChange:O("U")})}),s.a.createElement(pr.a,{label:s.a.createElement(_n,{text:"{B} Black"}),control:s.a.createElement(hr.a,{checked:g.colors.B,onChange:O("B")})}),s.a.createElement(pr.a,{label:s.a.createElement(_n,{text:"{W} White"}),control:s.a.createElement(hr.a,{checked:g.colors.W,onChange:O("W")})})),s.a.createElement(pr.a,{label:"Exact color match?",control:s.a.createElement(hr.a,{checked:g.colorExactMatch,onChange:function(e){return E(Object(h.a)({},g,{colorExactMatch:e.target.checked}))}})})),s.a.createElement(we.a,null,s.a.createElement(Ee.a,{onClick:function(){return E({colors:{R:!1,G:!1,U:!1,B:!1,W:!1},colorExactMatch:!1,cmc:0,cmcType:"="})},color:"primary"},"Reset"),s.a.createElement(Ee.a,{onClick:f,color:"primary"},"OK"))),s.a.createElement(He,null,s.a.createElement(S.a,{title:"Advanced search filter"},s.a.createElement(Ee.a,{onClick:function(){return d(!0)}},s.a.createElement(gr.a,null))),s.a.createElement(S.a,{title:"Search for results"},s.a.createElement(Ee.a,{onClick:function(){alert(JSON.stringify(g))}},s.a.createElement(Er.a,null)))))};function jr(){var e=Object(E.a)(["\n    ","\n"]);return jr=function(){return e},e}function wr(){var e=Object(E.a)(["\n    ","\n"]);return wr=function(){return e},e}function xr(){var e=Object(E.a)(["\n    ","\n"]);return xr=function(){return e},e}function Cr(){var e=Object(E.a)(["\n    width: 50%;\n    height: 50%;\n"]);return Cr=function(){return e},e}function Dr(){var e=Object(E.a)(["\n    position: absolute;\n    top: -75%;\n    right: 50%;\n    transform: translateX(50%);\n"]);return Dr=function(){return e},e}function Sr(){var e=Object(E.a)(["\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    padding: ",";\n    background-color: ",";\n    border-radius: ","px;\n\n    & .MuiTypography-root {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n"]);return Sr=function(){return e},e}function Nr(){var e=Object(E.a)(["\n    background-color: ",";\n    color: ",";\n    border-radius: ","px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n"]);return Nr=function(){return e},e}function Wr(){var e=Object(E.a)(["\n    padding-bottom: 65%;\n    width: 100%;\n    height: 0;\n    position: relative;\n"]);return Wr=function(){return e},e}var zr=Ue.div(Wr()),Ar=Ue(N.a)(Nr(),(function(e){return e.theme.palette.background.default}),(function(e){return e.theme.palette.text.secondary}),(function(e){return e.theme.spacing(4)})),Ir=Ue(ze.a)(Sr(),(function(e){return e.theme.spacing(1,2)}),(function(e){return e.theme.palette.grey[900]}),(function(e){return e.theme.spacing(4)})),Tr=Ue.div(Dr()),Pr=Pe(Cr()),Ur=Ue(Qn.a)(xr(),Pr),Mr=Ue(Ce.a)(wr(),Pr),Lr=Ue(Ya.a)(jr(),Pr),_r=function(e){var n=e.deck,t=s.a.useContext($),a=Object(v.a)(t,1)[0];return n?s.a.createElement(zr,null,s.a.createElement(f.b,{to:"/decks/".concat(encodeURIComponent(n.name))},s.a.createElement(Ar,{variant:"rounded",alt:J(n.name),src:n.previewUrl},n.name===c.Wishlist?s.a.createElement(Ur,null):s.a.createElement(Mr,null)),s.a.createElement(Ir,null,n.name!==c.Collection&&n.name!==c.Wishlist&&s.a.createElement(Tr,null,s.a.createElement(_n,{variant:"h3",text:ie.getColorIdentity.apply(ie,Object(ne.a)(Object.keys(n.cards[q.Default]).map((function(e){return a.cardList[e]}))))})),s.a.createElement(C.a,{variant:"h6"},J(n.name))))):s.a.createElement(zr,null,s.a.createElement(f.b,{to:"/addDeck/"},s.a.createElement(Ar,{variant:"rounded",alt:"Add deck"},s.a.createElement(Lr,null))))},Br=function(){var e=s.a.useContext($),n=Object(v.a)(e,1)[0];return s.a.createElement(Fe,null,s.a.createElement(qe,null,"Your decks"),s.a.createElement($e.a,{container:!0,spacing:6,direction:"column"},s.a.createElement($e.a,{item:!0,container:!0,spacing:1},s.a.createElement($e.a,{item:!0,xs:12,sm:6,lg:3},s.a.createElement(_r,{deck:n.decks[c.Collection]})),s.a.createElement($e.a,{item:!0,xs:12,sm:6,lg:3},s.a.createElement(_r,{deck:n.decks[c.Wishlist]}))),s.a.createElement($e.a,{item:!0,container:!0,spacing:1},s.a.createElement($e.a,{item:!0,xs:12,sm:6,lg:3},s.a.createElement(_r,null)),Object.values(n.decks).filter((function(e){return e.name!==c.Collection&&e.name!==c.Wishlist})).map((function(e){return s.a.createElement($e.a,{key:e.name,item:!0,xs:12,sm:6,lg:3},s.a.createElement(_r,{deck:e}))})))))},Rr=function(){return s.a.createElement($e.a,{container:!0,spacing:2},s.a.createElement($e.a,{item:!0,xs:12},s.a.createElement(kr,null)),s.a.createElement($e.a,{item:!0,xs:12},s.a.createElement(Br,null)))},Gr=function(){return s.a.createElement("div",null,"Not found")},Fr=t(150),Hr=t.n(Fr),qr=function(e){var n=e.variant,t=e.onClick;return s.a.createElement(Ee.a,{variant:n,onClick:t,startIcon:s.a.createElement(Sa,null)},s.a.createElement(C.a,{noWrap:!0},"Sign in"))},Jr=function(){return s.a.createElement(Fe,null,s.a.createElement($e.a,{container:!0,justify:"center",alignItems:"center",style:{padding:25}},s.a.createElement("img",{src:Hr.a,alt:"",width:"150px",height:"150px",draggable:!1})),s.a.createElement($e.a,{container:!0,justify:"center",alignItems:"center"},s.a.createElement(qr,{variant:"contained",onClick:be.signIn})))};function Qr(){var e=Object(E.a)(["\n    margin-right: ","px;\n"]);return Qr=function(){return e},e}function Kr(){var e=Object(E.a)(["\n            "," {\n                & {\n                    margin-left: ",";\n                    width: calc(100% - ",");\n                }\n            }\n        "]);return Kr=function(){return e},e}function Xr(){var e=Object(E.a)(["\n    flex-grow: 1;\n    padding: ","px;\n    margin-left: ",";\n    ","\n    ","\n\n    ","\n    "," {\n        & {\n            width: 100%;\n            margin-left: 0;\n            margin-bottom: ","px;\n            padding: ","px;\n        }\n    }\n"]);return Xr=function(){return e},e}function $r(){var e=Object(E.a)(["\n    "," {\n        & {\n            padding: 0;\n        }\n    }\n"]);return $r=function(){return e},e}function Vr(){var e=Object(E.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    padding: ","px;\n"]);return Vr=function(){return e},e}function Yr(){var e=Object(E.a)(["\n    flex-shrink: 0;\n    white-space: nowrap;\n    ","\n    ","\n\n    .MuiDrawer-paper {\n        ","\n        ","\n    }\n"]);return Yr=function(){return e},e}function Zr(){var e=Object(E.a)(["\n    width: ",";\n\n    "," {\n        & {\n            max-height: 0;\n        }\n    }\n"]);return Zr=function(){return e},e}function ec(){var e=Object(E.a)(["\n    width: ",";\n    overflow-x: hidden;\n    transition: ",";\n\n    "," {\n        & {\n            width: 100%;\n            height: auto;\n            max-height: 100%;\n        }\n    }\n"]);return ec=function(){return e},e}function nc(){var e=Object(E.a)(["\n            display: none;\n        "]);return nc=function(){return e},e}function tc(){var e=Object(E.a)(["\n    margin-right: 36px;\n    ","\n\n    "," {\n        & {\n            margin-right: ","px;\n            display: inline-block;\n        }\n    }\n"]);return tc=function(){return e},e}function ac(){var e=Object(E.a)(["\n            "," {\n                & {\n                    width: 100%;\n                    margin-left: 0;\n                }\n            }\n        "]);return ac=function(){return e},e}function rc(){var e=Object(E.a)(["\n    z-index: ",";\n    ","\n    ","\n    ","\n"]);return rc=function(){return e},e}function cc(){var e=Object(E.a)(["\n    transition: ",";\n"]);return cc=function(){return e},e}function ic(){var e=Object(E.a)(["\n    margin-left: ",";\n    width: calc(100% - ",");\n    transition: ",";\n"]);return ic=function(){return e},e}var oc=Pe(ic(),(function(e){return e.theme.constants.drawerWidth}),(function(e){return e.theme.constants.drawerWidth}),(function(e){return e.theme.transitions.create(["width","margin"],{easing:e.theme.transitions.easing.sharp,duration:e.theme.transitions.duration.enteringScreen})})),lc=Pe(cc(),(function(e){return e.theme.transitions.create(["width","margin"],{easing:e.theme.transitions.easing.sharp,duration:e.theme.transitions.duration.leavingScreen})})),uc=Ue(O.a)(rc(),(function(e){return e.theme.zIndex.drawer+1}),lc,(function(e){return e.open&&oc}),(function(e){return e.open&&Pe(ac(),e.theme.breakpoints.down("xs"))})),sc=Ue(y.a)(tc(),(function(e){return e.open&&Pe(nc())}),(function(e){return e.theme.breakpoints.down("xs")}),(function(e){return e.theme.spacing(1)})),mc=Pe(ec(),(function(e){return e.theme.constants.drawerWidth}),(function(e){return["width","max-height"].map((function(n){return e.theme.transitions.create(n,{easing:e.theme.transitions.easing.sharp,duration:e.theme.transitions.duration.enteringScreen})})).join(", ")}),(function(e){return e.theme.breakpoints.down("xs")})),dc=Pe(Zr(),(function(e){return e.theme.constants.drawerWidthClosed}),(function(e){return e.theme.breakpoints.down("xs")})),fc=Ue(k.a)(Yr(),mc,(function(e){return!e.open&&dc}),mc,(function(e){return!e.open&&dc})),pc=Ue(j.a)(Vr(),(function(e){return e.theme.spacing(0,1)})),hc=Ue(w.a)($r(),(function(e){return e.theme.breakpoints.down("xs")})),bc=Ue.div(Xr(),(function(e){return e.theme.spacing(2)}),(function(e){return e.theme.constants.drawerWidthClosed}),lc,(function(e){return e.open&&oc}),(function(e){return e.open&&Pe(Kr(),e.theme.breakpoints.down("sm"),(function(e){return e.theme.constants.drawerWidthClosed}),(function(e){return e.theme.constants.drawerWidthClosed}))}),(function(e){return e.theme.breakpoints.down("xs")}),(function(e){return e.theme.spacing(7)}),(function(e){return e.theme.spacing(1)})),gc=Ue.div(Qr(),(function(e){return e.theme.spacing(1)})),vc=function(){var e=Object(G.f)(),n=Object(x.a)(Te.breakpoints.down("xs")),t=s.a.useReducer(Z,X),a=Object(v.a)(t,2),r=a[0],c=a[1],i=s.a.useState(),o=Object(v.a)(i,2),l=o[0],u=o[1],m=s.a.useState(void 0),d=Object(v.a)(m,2),p=d[0],b=d[1],E=function(){be.signOut(),u(void 0)},O=s.a.useState([!1,!1]),k=Object(v.a)(O,2),w=Object(v.a)(k[0],1)[0],A=k[1],T=function(){return A((function(e){return[!e[0],!0]}))};return s.a.useEffect((function(){be.initClient((function(n){var t;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.location.pathname,n){a.next=5;break}return b(!1),e.push("/signin/"),a.abrupt("return");case 5:return t.match("/signin")&&(t="/"),e.push(t),a.next=9,g.a.awrap(be.prepareAppData(c,r)());case 9:u(be.getProfile()),b(!0);case 11:case"end":return a.stop()}}))})),ie.Symbology.All().then((function(e){var n=R.a.create({baseURL:"",responseType:"text",headers:{"Content-Type":"image/svg+xml"}});return Promise.all(e.map((function(e){return n.get(e.svg_uri,{transformResponse:function(n){return Object(h.a)({},e,{svg:n})}})})))})).then((function(e){c({type:"AddSymbols",symbols:e.map((function(e){return e.data}))})})).then(ie.Sets.All).then((function(e){var n=R.a.create({baseURL:"",responseType:"text",headers:{"Content-Type":"image/svg+xml"}});return Promise.all(e.map((function(e){return n.get(e.icon_svg_uri,{transformResponse:function(n){return Object(h.a)({},e,{icon_svg:n})}})})))})).then((function(e){c({type:"AddSets",sets:e.map((function(e){return e.data}))})}))}),[]),s.a.createElement($.Provider,{value:[r,c]},s.a.createElement(V.Provider,{value:{profile:l,signOut:E}},s.a.createElement(uc,{position:"sticky",open:w},s.a.createElement(j.a,null,!n&&s.a.createElement(sc,{color:"inherit","aria-label":"open drawer",onClick:T,edge:"start",open:w},s.a.createElement(_.a,null)),s.a.createElement(C.a,{variant:"h6",style:{overflow:"hidden"}},s.a.createElement(D.a,{variant:"inherit",color:"inherit",underline:"none",component:f.b,to:"/"},"MTGCollection")),s.a.createElement(Ge,null),p?s.a.createElement(s.a.Fragment,null,!Object(F.isNullOrUndefined)(l)&&s.a.createElement(gc,null,s.a.createElement(S.a,{title:"Signed in as ".concat(l.getGivenName()," (").concat(l.getEmail(),")")},s.a.createElement(N.a,{component:f.b,to:"/user/",alt:l.getGivenName(),src:l.getImageUrl()}))),s.a.createElement(et,{title:"SignOut",onClick:E},s.a.createElement(M.a,null))):void 0!==p&&s.a.createElement(qr,{onClick:be.signIn}))),s.a.createElement(W.a,{onClickAway:function(){return n&&A((function(e){return[!!e[1]&&e[0],!1]}))}},s.a.createElement(fc,{open:w,anchor:n?"bottom":"left",variant:"permanent"},s.a.createElement(pc,null,s.a.createElement(y.a,{onClick:function(){return A([!1,!1])}},n?s.a.createElement(P.a,null):s.a.createElement(I.a,null))),s.a.createElement(z.a,null),p&&s.a.createElement(ar,{open:w,closeDrawer:function(){return n&&w&&T()}}))),s.a.createElement(hc,{maxWidth:"xl"},s.a.createElement(bc,{open:w},void 0===p?s.a.createElement(mn,null):s.a.createElement(G.c,null,s.a.createElement(G.a,{exact:!0,path:"/",component:Rr}),s.a.createElement(G.a,{exact:!0,path:"/signin/",component:Jr}),s.a.createElement(G.a,{exact:!0,path:"/user/",component:Ja}),s.a.createElement(G.a,{exact:!0,path:"/addDeck/",component:Xe}),s.a.createElement(G.a,{path:"/decks/:deckName",component:_a}),s.a.createElement(G.a,{component:Gr})))),n&&s.a.createElement(dr,{open:w,toggleOpen:T})))},Ec=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Oc(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}d.a.render(s.a.createElement(f.a,{basename:"/MTGCollection"},s.a.createElement(o.b,{injectFirst:!0},s.a.createElement(p.a,{theme:Te},s.a.createElement(l.a,{theme:Te},s.a.createElement(i.a,null),s.a.createElement(vc,null))))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/MTGCollection",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/MTGCollection","/service-worker.js");Ec?(!function(e,n){fetch(e).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Oc(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Oc(n,e)}))}}()}},[[180,1,2]]]);
//# sourceMappingURL=main.d8e08505.chunk.js.map