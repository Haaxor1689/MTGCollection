(this["webpackJsonpmtg-collection"]=this["webpackJsonpmtg-collection"]||[]).push([[0],{163:function(e,n,t){e.exports=t.p+"static/media/logo.81aa9e7e.png"},193:function(e,n,t){e.exports=t(233)},233:function(e,n,t){"use strict";t.r(n);var a,r,c,i=t(388),o=t(350),l=t(387),u=t(0),s=t.n(u),m=t(15),d=t.n(m),f=t(36),p=t(76),h=t(10),b=t(16),g=t.n(b),v=t(8),E=t(6),y=t(382),k=t(353),O=t(383),w=t(384),j=t(385),x=t(386),C=t(49),D=t(369),S=t(364),N=t(356),W=t(365),I=t(377),A=t(165),z=t.n(A),T=t(164),U=t.n(T),P=t(45),M=t.n(P),_=t(61),L=t.n(_),B=t(23),R=t(32),G=t(9);!function(e){e.Collection="_collection",e.Wishlist="_wishlist"}(c||(c={}));var F,H=function(e){return e===c.Collection?"Collection":e===c.Wishlist?"Wishlist":e};!function(e){e.Default="_default",e.Sideboard="Sideboard",e.Maybeboard="Maybeboard"}(F||(F={}));var X,J=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.reduce((function(e,n){return Object(h.a)({},e,Object(G.a)({},n,{}))}),Object(G.a)({},F.Default,{}))},Q={files:(a={},Object(G.a)(a,c.Collection,""),Object(G.a)(a,c.Wishlist,""),a),decks:(r={},Object(G.a)(r,c.Collection,{name:c.Collection,cards:J()}),Object(G.a)(r,c.Wishlist,{name:c.Wishlist,cards:J()}),r),cardList:{},symbolList:{},setList:{},selectedDeck:c.Collection},q=s.a.createContext([Q,void 0]),K=t(48),$=(X={files:function(e,n){switch(n.type){case"CreateDeck":return Object(h.a)({},e,Object(G.a)({},n.name,n.link));case"DeleteDeck":return Object(h.a)({},Object(K.omit)(e,[n.name]))}return e},cardList:function(e,n){switch(n.type){case"AddCard":return Object(h.a)({},e,Object(G.a)({},n.card.name,n.card))}return e},symbolList:function(e,n){switch(n.type){case"AddSymbols":return n.symbols.reduce((function(e,n){return Object(h.a)({},e,Object(G.a)({},n.symbol,n))}),{})}return e},setList:function(e,n){switch(n.type){case"AddSets":return n.sets.reduce((function(e,n){return Object(h.a)({},e,Object(G.a)({},n.code,n))}),{})}return e},decks:function(e,n){switch(n.type){case"CreateDeck":return Object(h.a)({},e,Object(G.a)({},n.name,Object(h.a)({cards:J()},Object(K.omit)(n,["type","link"]))));case"UpdateDeck":return Object(h.a)({},e,Object(G.a)({},n.name,Object(h.a)({},e[n.name],{isDirty:!0},Object(K.omit)(n,["type"]))));case"UpdateDeckCard":return 0===n.card.amount?Object(h.a)({},e,Object(G.a)({},n.deckName,Object(h.a)({},e[n.deckName],{cards:Object(h.a)({},e[n.deckName].cards,Object(G.a)({},n.sectionName,Object(K.omit)(e[n.deckName].cards[n.sectionName],n.card.name))),isDirty:!0}))):Object(h.a)({},e,Object(G.a)({},n.deckName,Object(h.a)({},e[n.deckName],{cards:Object(h.a)({},e[n.deckName].cards,Object(G.a)({},n.sectionName,Object(h.a)({},e[n.deckName].cards[n.sectionName],Object(G.a)({},n.card.name,Object(h.a)({},e[n.deckName].cards[n.sectionName][n.card.name],{},n.card))))),isDirty:!0})));case"DeleteDeck":return Object(h.a)({},Object(K.omit)(e,[n.name]))}return e},selectedDeck:function(e,n){switch(n.type){case"SelectDeck":return n.name;case"DeleteDeck":return n.name===e?c.Collection:e}return e}},function(e,n){var t={};for(var a in X)t[a]=X[a](e[a],n);return t}),V=t(2),Y=t(19),Z=t(139),ee={serialize:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];return e&&""!==e?e.split("##").map((function(e,n){var t,a;if(0===n)t=F.Default,a=e.split(/\r?\n/);else{var r=e.split(/\r?\n/),c=Object(Z.a)(r);t=c[0],a=c.slice(1)}return[t,a.map((function(e){return e.match(/^(\d*) +(.*?)(?: # (.*))?$/)})).filter((function(e){return!Object(K.isNull)(e)})).map((function(e){return{amount:parseInt(e[1]),name:e[2],comment:e[3]}}))]})).reduce((function(e,n){return Object(h.a)({},e,Object(G.a)({},n[0],n[1].reduce((function(e,n){return Object(h.a)({},e,Object(G.a)({},n.name,n))}),{})))}),J.apply(void 0,t)):J.apply(void 0,t)},deserialize:function(e){return Object.entries(e).reduce((function(e,n){return"".concat(e).concat(n[0]!==F.Default?"#".concat(n[0],"\n"):"").concat(Object.values(n[1]).reduce((function(e,n){return"".concat(e).concat(n.amount," ").concat(n.name).concat(n.comment?" # ".concat(n.comment):"","\n")}),""),"\n")}),"")}},ne={apiKey:"AIzaSyBcke75SLGGCMiId3EcThDcLnbmnKasWyE",clientId:"213841300532-aqinavnoi53if8cbk6re0aa6gkf965q3.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],scope:"profile https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/drive.file"},te=function(e){var n,t,a,r,c,i,o,l,u,s,m,d,f;return g.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return r=e.name,c=e.props,i=e.fileContent,o=e.folder,l=new Blob([null!==(n=i)&&void 0!==n?n:""],{type:"text/plain"}),u={name:r,mimeType:"text/plain",appProperties:null!==(t=c)&&void 0!==t?t:{},parents:["appDataFolder"].concat(Object(Y.a)(null!==(a=o)&&void 0!==a?a:[]))},s=gapi.auth.getToken().access_token,(m=new FormData).append("metadata",new Blob([JSON.stringify(u)],{type:"application/json"})),m.append("file",l),p.next=9,g.a.awrap(fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",{method:"POST",headers:new Headers({Authorization:"Bearer "+s}),body:m}));case 9:return d=p.sent,p.next=12,g.a.awrap(d.json());case 12:return f=p.sent,p.abrupt("return",f.id);case 14:case"end":return p.stop()}}))},ae=function(e){var n,t;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.id,a.next=3,g.a.awrap(gapi.client.drive.files.get({fileId:n,alt:"media"}));case 3:return t=a.sent,a.abrupt("return",t.body);case 5:case"end":return a.stop()}}))},re=function(e){var n;return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,t.abrupt("return",gapi.client.drive.files.delete({fileId:n}));case 2:case"end":return t.stop()}}))},ce=function(e,n){var t,a,r;return g.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=n.name,a=n.fileContent,r=Object(V.a)(n,["name","fileContent"]),c.t0=e,c.t1=h.a,c.t2=t,c.next=6,g.a.awrap(te({name:"".concat(t,".txt"),props:Object(h.a)({name:t},r),fileContent:a}));case 6:c.t3=c.sent,c.t4=ee.serialize(a,F.Sideboard,F.Maybeboard),c.t5={type:"CreateDeck",name:c.t2,link:c.t3,cards:c.t4,isDirty:!1},c.t6=r,c.t7=(0,c.t1)(c.t5,c.t6),(0,c.t0)(c.t7);case 12:case"end":return c.stop()}}))},ie={initClient:function(e){gapi.load("client:auth2",(function(){gapi.client.init(ne).then((function(){gapi.auth2.getAuthInstance().isSignedIn.listen(e),e(gapi.auth2.getAuthInstance().isSignedIn.get())}),console.error)}))},getProfile:function(){return gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile()},signIn:function(){return gapi.auth2.getAuthInstance().signIn()},signOut:function(){return gapi.auth2.getAuthInstance().signOut()},prepareAppData:function(){return function(e){var n,t,a,r,i,o,l,u,s,m,d,f,p,h,b,v,E,y,k;return g.a.async((function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,g.a.awrap(gapi.client.drive.files.list({spaces:"appDataFolder",fields:"nextPageToken, files(id, name, appProperties)"}));case 2:if(l=O.sent,u=null===(n=l.result)||void 0===n?void 0:null===(t=n.files)||void 0===t?void 0:t.find((function(e){var n;return(null===(n=e.appProperties)||void 0===n?void 0:n.name)===c.Collection}))){O.next=9;break}console.info("Creating collection..."),ce(e,{name:c.Collection}),O.next=20;break;case 9:return console.info("Loading collection..."),e({type:"CreateDeck",name:c.Collection,link:u.id}),O.t0=e,O.t1=c.Collection,O.t2=ee,O.next=16,g.a.awrap(ae({id:u.id}));case 16:O.t3=O.sent,O.t4=O.t2.serialize.call(O.t2,O.t3),O.t5={type:"UpdateDeck",name:O.t1,cards:O.t4,isDirty:!1},(0,O.t0)(O.t5);case 20:if(s=null===(a=l.result)||void 0===a?void 0:null===(r=a.files)||void 0===r?void 0:r.find((function(e){var n;return(null===(n=e.appProperties)||void 0===n?void 0:n.name)===c.Wishlist}))){O.next=26;break}console.info("Creating wishlist..."),ce(e,{name:c.Wishlist}),O.next=37;break;case 26:return console.info("Loading wishlist..."),e({type:"CreateDeck",name:c.Wishlist,link:s.id}),O.t6=e,O.t7=c.Wishlist,O.t8=ee,O.next=33,g.a.awrap(ae({id:s.id}));case 33:O.t9=O.sent,O.t10=O.t8.serialize.call(O.t8,O.t9),O.t11={type:"UpdateDeck",name:O.t7,cards:O.t10,isDirty:!1},(0,O.t6)(O.t11);case 37:m=null===(i=l.result)||void 0===i?void 0:null===(o=i.files)||void 0===o?void 0:o.filter((function(e){var n,t;return(null===(n=e.appProperties)||void 0===n?void 0:n.name)!==c.Collection&&(null===(t=e.appProperties)||void 0===t?void 0:t.name)!==c.Wishlist})),d=0;case 39:if(!(d<m.length)){O.next=58;break}return y=m[d],k=null!==(f=null!==(p=null===(h=y.appProperties)||void 0===h?void 0:h.name)&&void 0!==p?p:null===(b=y.name)||void 0===b?void 0:null===(v=b.match(/(.*?)\.txt/))||void 0===v?void 0:v[0])&&void 0!==f?f:"unnamed",e({type:"CreateDeck",name:k,link:y.id}),O.t12=e,O.t13=k,O.t14=null===(E=y.appProperties)||void 0===E?void 0:E.previewUrl,O.t15=ee,O.next=49,g.a.awrap(ae({id:y.id}));case 49:O.t16=O.sent,O.t17=F.Sideboard,O.t18=F.Maybeboard,O.t19=O.t15.serialize.call(O.t15,O.t16,O.t17,O.t18),O.t20={type:"UpdateDeck",name:O.t13,previewUrl:O.t14,cards:O.t19,isDirty:!1},(0,O.t12)(O.t20);case 55:d++,O.next=39;break;case 58:case"end":return O.stop()}}))}},createNewFile:te,updateFile:function(e){var n,t,a,r,c,i,o;return g.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=e.id,t=e.fileContent,a=new Blob([t],{type:"text/plain"}),r=gapi.auth.getToken().access_token,(c=new FormData).append("file",a),l.next=7,g.a.awrap(fetch("https://www.googleapis.com/upload/drive/v3/files/".concat(n,"?uploadType=media&fields=id"),{method:"PATCH",headers:new Headers({Authorization:"Bearer "+r}),body:c}));case 7:return i=l.sent,l.next=10,g.a.awrap(i.json());case 10:return o=l.sent,l.abrupt("return",o.id);case 12:case"end":return l.stop()}}))},deleteFile:re,createNewDeck:ce,deleteDeck:function(e,n){var t,a;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=n.name,a=n.id,r.next=3,g.a.awrap(re({id:a}));case 3:e({type:"DeleteDeck",name:t});case 4:case"end":return r.stop()}}))},getFileContents:ae},oe=function(){var e=L.a.create({baseURL:"https://api.scryfall.com",responseType:"json",headers:{"Content-Type":"application/json"}});return{endpoint:e,Symbology:{All:function(){return e.get("/symbology").then((function(e){return e.data.data}))},ParseMana:function(n){return e.get("/symbology/parse-mana",{params:{cost:n}}).then((function(e){return e.data}))}},Cards:{Autocomplete:function(n){return e.get("/cards/autocomplete",{params:{q:n,include_extras:!0}}).then((function(e){return e.data.data}))},Named:function(n){return e.get("/cards/named",{params:{fuzzy:n}}).then((function(e){return e.data}))}},Sets:{All:function(){return e.get("/sets").then((function(e){return e.data.data}))}}}}(),le=Object(h.a)({},oe,{getImage:function(e,n){var t,a,r;switch(e.layout){case"transform":case"double_faced_token":r=e.card_faces[0].image_uris;break;default:r=e.image_uris}return null!==(t=null===(a=r)||void 0===a?void 0:a[n])&&void 0!==t?t:null},getPlaceholder:function(e){return"https://via.placeholder.com/146x204?text=".concat(e.replace(/\s/,"+"))},getColorIdentity:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter((function(e){return!!e})).flatMap((function(e){return e.color_identity})).filter((function(e,n,t){return t.indexOf(e)===n})).map((function(e){return"{".concat(e,"}")})).join("")}}),ue=t(354),se=t(357),me=t(247),de=t(358),fe=t(359),pe=t(360),he=t(361),be=t(362),ge=t(70),ve=t.n(ge),Ee=t(390),ye=t(355),ke=function(e){var n=e.label,t=e.onNameSelect,a=s.a.useState(""),r=Object(v.a)(a,2),c=r[0],i=r[1],o=s.a.useState(!1),l=Object(v.a)(o,2),u=l[0],m=l[1],d=s.a.useState([]),f=Object(v.a)(d,2),p=f[0],b=f[1],g=s.a.useState(!1),E=Object(v.a)(g,2),y=E[0],k=E[1],O=s.a.useState(void 0),w=Object(v.a)(O,2),j=w[0],x=w[1],C=function(e){i(e),b([]),t&&t(e)};return s.a.useEffect((function(){u||b([])}),[u]),s.a.createElement(Ee.a,{style:{width:300},open:u,value:c,onOpen:function(){return m(!0)},onClose:function(){return m(!1)},onChange:function(e,n){return C(n)},onInputChange:function(e,n,t){return function(e,n){c!==e&&"reset"!==n&&(i(e),clearTimeout(j),x(setTimeout((function(){e.length<2||(k(!0),le.Cards.Autocomplete(e).then((function(n){b(n),k(!1),1===n.length&&n[0].toLowerCase().includes(e.toLowerCase())&&(i(n[0]),C(n[0]),m(!1))})))}),500)))}(n,t)},options:p,loading:y,renderInput:function(e){return s.a.createElement(ue.a,Object.assign({},e,{label:n,fullWidth:!0,variant:"outlined",InputProps:Object(h.a)({},e.InputProps,{endAdornment:s.a.createElement(s.a.Fragment,null,y?s.a.createElement(ye.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})},Oe=t(100),we=t(167),je=t(14),xe=Object(we.a)({palette:{type:"dark",primary:{main:je.a.deepOrange[700]},secondary:{main:je.a.blueGrey[500]}}},{constants:{drawerWidth:"260px",drawerWidthClosed:"72px",appletHeight:"280px"}}),Ce=(p.a,p.b),De=p.c;function Se(){var e=Object(E.a)(["\n    background-color: ",";\n    color: ",";\n"]);return Se=function(){return e},e}function Ne(){var e=Object(E.a)([""]);return Ne=function(){return e},e}function We(){var e=Object(E.a)(["\n    align-self: flex-end;\n"]);return We=function(){return e},e}function Ie(){var e=Object(E.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    min-height: ",";\n    overflow: hidden;\n    padding: ","px;\n    "," {\n        & {\n            padding: ","px;\n        }\n    }\n"]);return Ie=function(){return e},e}function Ae(){var e=Object(E.a)(["\n    flex: 1 1 auto;\n"]);return Ae=function(){return e},e}var ze=De.div(Ae()),Te=De(Oe.a)(Ie(),(function(e){return e.theme.constants.appletHeight}),(function(e){return e.theme.spacing(4)}),(function(e){return e.theme.breakpoints.down("xs")}),(function(e){return e.theme.spacing(2)})),Ue=De.div(We()),Pe=De(C.a).attrs((function(e){return{component:"h2",variant:"h4",color:"primary",gutterBottom:!0}}))(Ne()),Me=De(N.a)(Se(),(function(e){return e.theme.palette.background.paper}),(function(e){return e.theme.palette.text.secondary}));function _e(){var e=Object(E.a)(["\n    display: flex;\n    margin-top: ","px;\n    align-items: center;\n\n    & .MuiAutocomplete-root {\n        flex-grow: 1;\n        margin-right: ","px;\n    }\n"]);return _e=function(){return e},e}var Le=De.div(_e(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(1)})),Be=function(){var e=Object(B.f)(),n=s.a.useContext(q),t=Object(v.a)(n,2),a=t[0],r=t[1],c=s.a.useState(""),i=Object(v.a)(c,2),o=i[0],l=i[1],u=s.a.useState(""),m=Object(v.a)(u,2),d=m[0],f=m[1],p=s.a.useState(!1),h=Object(v.a)(p,2),b=h[0],g=h[1],E=s.a.useState(null),y=Object(v.a)(E,2),k=y[0],O=y[1],w=s.a.useState(""),j=Object(v.a)(w,2),x=j[0],C=j[1],D=function(){return g(!1)},S=function(){ie.createNewDeck(r,{name:d,fileContent:o,previewUrl:x}),e.push("/decks/".concat(encodeURIComponent(d)))},W=function(e){f(e),""!==e?e.indexOf("%")>=0?O("Deck name can't contain '%'"):a.decks[e]?O("Deck with this name already exists"):O(null):O("Deck name can't be empty")};return s.a.useEffect((function(){return W("")}),[]),s.a.createElement(Te,null,s.a.createElement(Pe,null,"Add deck"),s.a.createElement(ze,null,s.a.createElement(ue.a,{label:"Deck name",variant:"outlined",error:!!k,helperText:k,value:d,onChange:function(e){return W(e.target.value)},fullWidth:!0}),s.a.createElement(Le,null,s.a.createElement(ke,{label:"Preview card",onNameSelect:function(e){e?le.Cards.Named(e).then((function(e){var n;C(null!==(n=le.getImage(e,"art_crop"))&&void 0!==n?n:"")})):C("")}}),s.a.createElement(N.a,{alt:"Preview icon",src:x},s.a.createElement(ve.a,null)))),s.a.createElement(Ue,null,s.a.createElement(se.a,{size:"small"},s.a.createElement(me.a,{disabled:!!k,onClick:function(){return g(!0)}},"Import"),s.a.createElement(me.a,{disabled:!!k,color:"primary",onClick:S},"Create empty"))),s.a.createElement(de.a,{open:b,onClose:D,"aria-labelledby":"import-deck-dialog",fullWidth:!0,maxWidth:"md"},s.a.createElement(fe.a,{id:"import-deck-dialog"},"Import"),s.a.createElement(pe.a,null,s.a.createElement(he.a,null,"Paste exported deck below."),s.a.createElement(ue.a,{autoFocus:!0,fullWidth:!0,label:"Import",multiline:!0,rows:"15",variant:"outlined",value:o,onChange:function(e){return l(e.target.value)}})),s.a.createElement(be.a,null,s.a.createElement(me.a,{onClick:D,color:"primary"},"Cancel"),s.a.createElement(me.a,{onClick:S,color:"primary"},"Import"))))},Re=t(363),Ge=t(11),Fe=t(97),He=t.n(Fe),Xe=t(95),Je=t.n(Xe),Qe=t(159),qe=t.n(Qe),Ke=t(160),$e=t.n(Ke),Ve=t(146),Ye=t.n(Ve),Ze=t(109),en=t(147),nn=t.n(en),tn=t(391),an=t(148);var rn=function(e,n){if(!e)throw new an.AssertionError({message:n})},cn=function(e){var n,t,a=e.card,r=e.deckName,i=e.sectionName,o=s.a.useContext(q),l=Object(v.a)(o,2),u=l[0],m=l[1],d=null!==(n=null!==(t=r)&&void 0!==t?t:u.selectedDeck)&&void 0!==n?n:null,f=function(){return void 0!==u.decks[c.Wishlist].cards[F.Default][a.name]},p=(d?Object.keys(u.decks[d].cards):[]).filter((function(e){return e!==i}));return{updateCardQuantity:function(e){var n;rn(!Object(R.isNullOrUndefined)(r),"DeckName should not be empty if the preview actions are Deck"),m({type:"UpdateDeckCard",deckName:r,sectionName:null!==(n=i)&&void 0!==n?n:F.Default,card:Object(h.a)({},a,{amount:e})})},openScryfallPage:function(){return a.scryfall_uri&&window.open(a.scryfall_uri,"_blank")},openScryfallSetPage:function(){return a.scryfall_set_uri&&window.open(a.scryfall_set_uri,"_blank")},isOnWishlist:f,toggleWishlist:function(){return f()?m({type:"UpdateDeckCard",deckName:c.Wishlist,sectionName:F.Default,card:Object(h.a)({},a,{amount:0})}):m({type:"UpdateDeckCard",deckName:c.Wishlist,sectionName:F.Default,card:Object(h.a)({},a,{amount:1})})},wishlistTooltip:function(){return f()?"Remove from wishlist":"Add to wishlist"},removeCard:function(){var e;rn(!Object(R.isNullOrUndefined)(r),"DeckName should not be empty if the preview actions are Deck"),m({type:"UpdateDeckCard",deckName:r,sectionName:null!==(e=i)&&void 0!==e?e:F.Default,card:Object(h.a)({},a,{amount:0})})},sections:p,changeSection:function(e){var n;rn(!Object(R.isNullOrUndefined)(r),"DeckName should not be empty if the preview actions are Deck"),m({type:"UpdateDeckCard",deckName:r,sectionName:null!==(n=i)&&void 0!==n?n:F.Default,card:Object(h.a)({},a,{amount:0})}),m({type:"UpdateDeckCard",deckName:r,sectionName:e,card:Object(h.a)({},a,{amount:a.amount})})},addToDeck:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.Default;rn(!Object(R.isNullOrUndefined)(d),"TargetDeck should not be empty if the preview actions are SearchDeck"),m({type:"UpdateDeckCard",deckName:d,sectionName:e,card:Object(h.a)({},a,{amount:1})})}}},on=t(150),ln=t.n(on),un=t(149),sn=t.n(un);function mn(){var e=Object(E.a)(["\n            & .MuiIconButton-label {\n                margin-top: -3px;\n            }\n\n            &:first-of-type {\n                margin-left: 5px;\n            }\n        "]);return mn=function(){return e},e}function dn(){var e=Object(E.a)(["\n    height: ","px;\n    width: ","px;\n    padding: 0;\n    ","\n\n    display: none;\n    ",":hover & {\n        display: block;\n    }\n"]);return dn=function(){return e},e}function fn(){var e=Object(E.a)(["\n    display: flex;\n"]);return fn=function(){return e},e}function pn(){var e=Object(E.a)(["\n            width: ","px;\n            height: ","px;\n            font-size: 0.875rem;\n        "]);return pn=function(){return e},e}function hn(){var e=Object(E.a)(["\n    cursor: pointer;\n    color: ",";\n\n    ","\n"]);return hn=function(){return e},e}var bn=De(N.a).attrs((function(e){return{className:"chip"===e.size?e.className+" MuiChip-avatar MuiChip-avatarSmall":e.className}}))(hn(),(function(e){return e.theme.palette.text.primary}),(function(e){return"inline"===e.size&&Ce(pn(),e.theme.spacing(3),e.theme.spacing(3))})),gn=De.div(fn()),vn=De(k.a)(dn(),(function(e){return e.s?"chip"===e.s?18:24:40}),(function(e){return e.s?"chip"===e.s?18:24:40}),(function(e){return"chip"===e.s&&Ce(mn())}),gn),En=function(e){var n=e.val,t=e.onChange,a=e.size,r=function(e){return function(a){a.stopPropagation(),t(n+e)}};return s.a.createElement(gn,null,s.a.createElement(bn,{title:"",size:a,onClick:function(e){return e.stopPropagation()}},n),s.a.createElement(vn,{s:a,onClick:r(1)},s.a.createElement(sn.a,null)),s.a.createElement(vn,{s:a,onClick:r(-1)},s.a.createElement(ln.a,null)))};function yn(){var e=Object(E.a)(["\n                .MuiTypography-"," & {\n                    height: ","px;\n                    width: ","px;\n                }\n            "]);return yn=function(){return e},e}function kn(){var e=Object(E.a)(["\n    display: inline-block;\n    height: 16px;\n    width: 16px;\n    margin: 1px 1px -2px 1px;\n\n    ","\n"]);return kn=function(){return e},e}var On=[["h1",80],["h2",51],["h3",42],["h4",30],["h5",25],["h6",20],["subtitle1",16],["subtitle2",14],["body1",16],["body2",14],["caption",12],["button",16],["overline",14]],wn=De.svg(kn(),(function(e){return On.map((function(e){var n=Object(v.a)(e,2),t=n[0],a=n[1];return Ce(yn(),t,a,a)}))})),jn=function(e){var n=e.symbol,t=s.a.useContext(q),a=Object(v.a)(t,1)[0],r=s.a.useState(),c=Object(v.a)(r,2),i=c[0],o=c[1];return s.a.useEffect((function(){var e;o(null!==(e=a.symbolList[n])&&void 0!==e?e:Object.values(a.symbolList).find((function(e){return e.loose_variant===n})))}),[n,a.symbolList]),i?s.a.createElement(wn,{dangerouslySetInnerHTML:{__html:i.svg}}):s.a.createElement(s.a.Fragment,null,n)},xn=function(e){var n=e.text,t=Object(V.a)(e,["text"]),a=s.a.useState([]),r=Object(v.a)(a,2),c=r[0],i=r[1];return s.a.useEffect((function(){var e;i((null!==(e=n.match(/({.*?})|([^{]+)/g))&&void 0!==e?e:[]).map((function(e,n){return"{"===e[0]?s.a.createElement(jn,{key:n,symbol:e}):s.a.createElement("span",{key:n},e)})))}),[n]),s.a.createElement(C.a,t,c)};function Cn(){var e=Object(E.a)(["\n    width: 100%;\n\n    & .MuiChip-label {\n        flex: 1 1 auto;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    & .MuiChip-deleteIcon {\n        width: unset;\n        height: unset;\n        flex-shrink: 0;\n        margin-left: ","px;\n        margin-top: 1px;\n    }\n"]);return Cn=function(){return e},e}var Dn=De(tn.a)(Cn(),(function(e){return e.theme.spacing(1)})),Sn=function(e){var n,t=cn(e),a=t.updateCardQuantity,r=t.openScryfallPage,c=e.card;return s.a.createElement(Dn,{size:"small",variant:"outlined",label:c.name,deleteIcon:s.a.createElement(xn,{text:null!==(n=c.mana_cost)&&void 0!==n?n:"",noWrap:!0}),avatar:s.a.createElement(En,{size:"chip",val:c.amount,onChange:a}),onDelete:r,onClick:r,title:"Open on scryfall"})};function Nn(){var e=Object(E.a)(["\n    text-indent: ","px;\n"]);return Nn=function(){return e},e}var Wn=De(C.a)(Nn(),(function(e){return e.theme.spacing(1)})),In=function(e){var n=e.cards,t=(e.sortBy,e.sortOrder,e.showGroups,Object(V.a)(e,["cards","sortBy","sortOrder","showGroups"]));return s.a.createElement(Re.a,{container:!0,direction:"column"},n.length>=1?n.map((function(e){return s.a.createElement(Re.a,{item:!0,key:e.name,xs:!0,zeroMinWidth:!0},s.a.createElement(Sn,Object.assign({card:e},t)))})):s.a.createElement(Re.a,{item:!0,xs:12},s.a.createElement(Wn,{color:"textSecondary",variant:"subtitle2"},"Empty")))},An=t(367),zn=t(151),Tn=t.n(zn);function Un(){var e=Object(E.a)(["\n                background-color: ",";\n            "]);return Un=function(){return e},e}function Pn(){var e=Object(E.a)(["\n            background-color: ",";\n            &.Mui-disabled {\n                background-color: ",";\n            }\n        "]);return Pn=function(){return e},e}function Mn(){var e=Object(E.a)(["\n    ",";\n    &:hover {\n        ",";\n    }\n"]);return Mn=function(){return e},e}var _n=De(k.a)(Mn(),(function(e){return e.background&&Ce(Pn(),e.theme.palette[e.background].main,Object(Ge.a)(e.theme.palette[e.background].main,.3))}),(function(e){return e.background&&Ce(Un(),e.theme.palette[e.background].dark)})),Ln=function(e){var n=e.onClick,t=e.title,a=e.size,r=e.background,c=e.disabled,i=e.children;return s.a.createElement(S.a,{title:t},s.a.createElement("span",null,s.a.createElement(_n,{size:a,background:r,disabled:c,onClick:n,"aria-label":t},i,s.a.createElement(C.a,{variant:"srOnly"},t))))},Bn=t(236),Rn=t(172),Gn=t(244),Fn=t(366),Hn=function(e){var n=e.actions,t=e.size,a=e.background,r=s.a.useState(!1),c=Object(v.a)(r,2),i=c[0],o=c[1],l=s.a.useRef(null),u=function(e){l.current&&l.current.contains(e.target)||o(!1)};return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{ref:l},s.a.createElement(Ln,{title:"Change section",onClick:function(){return o((function(e){return!e}))},disabled:n.sections.length<=0,background:a,size:t},s.a.createElement(Tn.a,null))),s.a.createElement(Bn.a,{open:i,anchorEl:l.current,role:void 0,transition:!0},(function(e){var t=e.TransitionProps,a=e.placement;return s.a.createElement(Rn.a,Object.assign({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),s.a.createElement(Oe.a,{elevation:5},s.a.createElement(W.a,{onClickAway:u},s.a.createElement(Gn.a,null,n.sections.map((function(e){return s.a.createElement(Fn.a,{key:e,onClick:function(){return n.changeSection(e)}},e===F.Default?"Default":e)}))))))})))},Xn=function(e){var n=e.actions,t=e.size,a=e.background;return s.a.createElement(Ln,{title:"Remove card",onClick:n.removeCard,background:a,size:t},s.a.createElement(Je.a,null))},Jn=t(71),Qn=t.n(Jn),qn=t(152),Kn=t.n(qn),$n=function(e){var n=e.actions,t=e.size,a=e.background;return s.a.createElement(Ln,{title:n.wishlistTooltip(),onClick:n.toggleWishlist,background:a,size:t},n.isOnWishlist()?s.a.createElement(Qn.a,null):s.a.createElement(Kn.a,null))};function Vn(){var e=Object(E.a)(["\n    transform: scaleX(",");\n    transition: all 0.2s ease-in-out;\n\n    & > * {\n        margin-right: ","px;\n    }\n"]);return Vn=function(){return e},e}function Yn(){var e=Object(E.a)(["\n    position: absolute;\n    bottom: ","px;\n    right: ","px;\n\n    display: flex;\n    align-items: center;\n\n    opacity: 0;\n    transition: opacity 0.2s ease-in-out;\n\n    ",":hover & {\n        opacity: 1;\n    }\n"]);return Yn=function(){return e},e}function Zn(){var e=Object(E.a)(["\n    position: absolute;\n    top: 25%;\n    left: ","px;\n"]);return Zn=function(){return e},e}function et(){var e=Object(E.a)(["\n    border-radius: 4.75% / 3.5%;\n    background-image: repeating-linear-gradient(-55deg, #ddd, #ddd 5px, #ccc 5px, #ccc 10px);\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    cursor: pointer;\n"]);return et=function(){return e},e}function nt(){var e=Object(E.a)(["\n    padding-bottom: 139.344262295%;\n    width: 100%;\n    height: 0;\n    position: relative;\n"]);return nt=function(){return e},e}var tt=De.div(nt()),at=De.img(et()),rt=De.div(Zn(),(function(e){return e.theme.spacing(2)})),ct=De.div(Yn(),(function(e){return e.theme.spacing(2)}),(function(e){return e.theme.spacing(2)}),tt),it=De.div(Vn(),(function(e){return e.open?1:0}),(function(e){return e.theme.spacing(1)})),ot=function(e){var n,t=cn(e),a=e.card,r=s.a.useState(!1),c=Object(v.a)(r,2),i=c[0],o=c[1];return s.a.createElement(tt,null,s.a.createElement(at,{src:null!==(n=le.getImage(a,"normal"))&&void 0!==n?n:"",onClick:t.openScryfallPage,title:"Open on scryfall"}),!Object(R.isNullOrUndefined)(a.amount)&&s.a.createElement(rt,null,s.a.createElement(En,{val:a.amount,onChange:t.updateCardQuantity})),s.a.createElement(ct,null,s.a.createElement(it,{open:i},s.a.createElement($n,{actions:t,background:"secondary"}),s.a.createElement(Hn,{actions:t,background:"secondary"}),s.a.createElement(Xn,{actions:t,background:"secondary"})),s.a.createElement(An.a,{color:"primary",onClick:function(){return o((function(e){return!e}))}},s.a.createElement(M.a,null))))},lt=function(e){var n=e.cards,t=(e.sortBy,e.sortOrder,e.showGroups,Object(V.a)(e,["cards","sortBy","sortOrder","showGroups"]));return s.a.createElement(Re.a,{container:!0,spacing:1,alignItems:"center"},n.length>=1?n.map((function(e){return s.a.createElement(Re.a,{key:e.name,item:!0,xs:6,lg:6,xl:4},s.a.createElement(ot,Object.assign({card:e},t)))})):s.a.createElement(Re.a,{item:!0,xs:12},s.a.createElement(Wn,{color:"textSecondary"},"Empty")))},ut=t(371),st=t(370),mt=t(372),dt=t(368),ft=t(373);function pt(){var e=Object(E.a)(["\n    width: 25px;\n    height: 20px;\n    fill: url(#rarity-",");\n"]);return pt=function(){return e},e}var ht=De.svg(pt(),(function(e){return e.rarity})),bt=function(e){var n=e.set,t=e.rarity,a=s.a.useContext(q),r=Object(v.a)(a,1)[0],c=s.a.useState(),i=Object(v.a)(c,2),o=i[0],l=i[1];return s.a.useEffect((function(){l(r.setList[n])}),[n,r.setList]),o?s.a.createElement(ht,{rarity:t},s.a.createElement("defs",null,s.a.createElement("linearGradient",{id:"rarity-common"},s.a.createElement("stop",{offset:"0%",stopColor:"#000"})),s.a.createElement("linearGradient",{id:"rarity-uncommon",gradientTransform:"rotate(90)"},s.a.createElement("stop",{offset:"0%",stopColor:"#4d565a"}),s.a.createElement("stop",{offset:"50%",stopColor:"#a0c3d3"}),s.a.createElement("stop",{offset:"100%",stopColor:"#4d565a"})),s.a.createElement("linearGradient",{id:"rarity-rare",gradientTransform:"rotate(90)"},s.a.createElement("stop",{offset:"0%",stopColor:"#85723e"}),s.a.createElement("stop",{offset:"50%",stopColor:"#d4b975"}),s.a.createElement("stop",{offset:"100%",stopColor:"#85723e"})),s.a.createElement("linearGradient",{id:"rarity-mythic",gradientTransform:"rotate(90)"},s.a.createElement("stop",{offset:"0%",stopColor:"#b02911"}),s.a.createElement("stop",{offset:"50%",stopColor:"#e87f03"}),s.a.createElement("stop",{offset:"100%",stopColor:"#b02911"}))),s.a.createElement("svg",{dangerouslySetInnerHTML:{__html:o.icon_svg}})):s.a.createElement(s.a.Fragment,null,n)};function gt(){var e=Object(E.a)(["\n    display: none;\n    "," {\n        & {\n            display: initial;\n        }\n    }\n    "," {\n        & {\n            display: initial;\n        }\n    }\n"]);return gt=function(){return e},e}function vt(){var e=Object(E.a)(["\n                    position: absolute;\n                    transform: translateX(calc(-100% - 4px));\n                "]);return vt=function(){return e},e}function Et(){var e=Object(E.a)(["\n                    display: none;\n                "]);return Et=function(){return e},e}function yt(){var e=Object(E.a)(["\n                    position: absolute;\n                    transform: translateX(calc(-100% - 4px));\n                "]);return yt=function(){return e},e}function kt(){var e=Object(E.a)(["\n                    display: none;\n                "]);return kt=function(){return e},e}function Ot(){var e=Object(E.a)(["\n    white-space: nowrap;\n    & > *:not(:last-child) {\n        margin-right: ","px;\n    }\n\n    "," {\n        & {\n            ","\n\n            ","\n        }\n    }\n\n    "," {\n        & {\n            ","\n\n            ","\n        }\n    }\n"]);return Ot=function(){return e},e}function wt(){var e=Object(E.a)(["\n    &:hover {\n        background-image: linear-gradient(\n            90deg,\n            rgba(0, 0, 0, 0),\n            "," 10%,\n            "," 90%,\n            rgba(0, 0, 0, 0)\n        );\n    }\n"]);return wt=function(){return e},e}var jt=De(dt.a)(wt(),(function(e){return e.theme.palette.background.default}),(function(e){return e.theme.palette.background.default})),xt=De.div(Ot(),(function(e){return e.theme.spacing(.5)}),(function(e){return e.theme.breakpoints.down("xs")}),(function(e){return!e.open&&Ce(kt())}),(function(e){return e.open&&Ce(yt())}),(function(e){return e.theme.breakpoints.between("md","sm")}),(function(e){return!e.open&&Ce(Et())}),(function(e){return e.open&&Ce(vt())})),Ct=De.div(gt(),(function(e){return e.theme.breakpoints.down("xs")}),(function(e){return e.theme.breakpoints.between("md","sm")})),Dt=function(e){var n,t=cn(e),a=e.card,r=s.a.useState(!1),c=Object(v.a)(r,2),i=c[0],o=c[1];return s.a.createElement(jt,null,s.a.createElement(At,{width:"40px",component:"th",scope:"row",align:"center"},Object(R.isNullOrUndefined)(a.amount)?"-":s.a.createElement(En,{size:"inline",val:a.amount,onChange:t.updateCardQuantity})),s.a.createElement(zt,null,s.a.createElement(D.a,{href:"#",onClick:t.openScryfallPage,color:"inherit",title:"Open on scryfall"},a.name)),s.a.createElement(At,{width:"40px",align:"center"},s.a.createElement(D.a,{href:"#",onClick:t.openScryfallSetPage,color:"inherit",title:"Open set on scryfall"},s.a.createElement(bt,{set:a.set,rarity:a.rarity}))),s.a.createElement(st.a,null,s.a.createElement(xn,{text:null!==(n=a.mana_cost)&&void 0!==n?n:"",noWrap:!0})),s.a.createElement(st.a,{style:{position:"relative"}},s.a.createElement(xt,{open:i},s.a.createElement($n,{actions:t,size:"small",background:i?"secondary":void 0}),s.a.createElement(Hn,{actions:t,size:"small",background:i?"secondary":void 0}),s.a.createElement(Xn,{actions:t,size:"small",background:i?"secondary":void 0})),s.a.createElement(Ct,null,s.a.createElement(Ln,{title:"Actions",onClick:function(){return o((function(e){return!e}))},size:"small"},s.a.createElement(M.a,null)))))};function St(){var e=Object(E.a)(["\n    width: 60%;\n    max-width: 120px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n"]);return St=function(){return e},e}function Nt(){var e=Object(E.a)([""]);return Nt=function(){return e},e}function Wt(){var e=Object(E.a)(["\n    width: 100%;\n    overflow-y: scroll;\n    & .MuiTableCell-sizeSmall {\n        padding: ",";\n    }\n"]);return Wt=function(){return e},e}var It=De(ut.a)(Wt(),(function(e){return e.theme.spacing(.25,1)})),At=De(st.a).attrs((function(e){return{width:e.width}}))(Nt()),zt=De(st.a)(St()),Tt=function(e){var n=e.cards,t=(e.sortBy,e.sortOrder,e.showGroups,Object(V.a)(e,["cards","sortBy","sortOrder","showGroups"]));return s.a.createElement(It,{size:"small","aria-label":"card table"},s.a.createElement(mt.a,null,s.a.createElement(dt.a,null,s.a.createElement(At,{width:"40px",align:"center"},"#"),s.a.createElement(zt,null,"Name"),s.a.createElement(At,{width:"40px",align:"center"},"Set"),s.a.createElement(st.a,null,"Cost"),s.a.createElement(st.a,null,"Actions"))),s.a.createElement(ft.a,null,n.length>=1?n.map((function(e){return s.a.createElement(Dt,Object.assign({key:e.name,card:e},t))})):s.a.createElement(dt.a,null,s.a.createElement(st.a,{colSpan:6},s.a.createElement(Wn,{color:"textSecondary"},"Empty")))))},Ut=function(e,n,t,a){return a(n[t])<a(e[t])?-1:a(n[t])>a(e[t])?1:0},Pt=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return"Desc"===e?function(e,a){return Ut(e,a,n,t)}:function(e,a){return-Ut(e,a,n,t)}},Mt=function(e,n){var t=e.map((function(e,n){return[e,n]}));return t.sort((function(e,t){var a=n(e[0],t[0]);return 0!==a?a:e[1]-t[1]})),t.map((function(e){return e[0]}))},_t=["common","uncommon","rare","mythic"],Lt=function(e,n){switch(e){case"Name":return Pt(n,"name");case"Cmc":return Pt(n,"mana_cost");case"Type":return Pt(n,"type_line");case"Rarity":return Pt(n,"rarity",(function(e){return _t.indexOf(e)}))}},Bt=function(e){return s.a.createElement(s.a.Fragment,null,e.sectionName!==F.Default&&s.a.createElement(C.a,{variant:"h6"},e.sectionName),function(){var n=Object(h.a)({},nn()(e,"style","cards"),{cards:Mt(e.cards,Lt(e.sortBy,e.sortOrder))});switch(e.style){case"List":return s.a.createElement(Tt,n);case"Images":return s.a.createElement(lt,n);case"Compressed":return s.a.createElement(In,n)}}())},Rt=t(154),Gt=t.n(Rt),Ft=t(153),Ht=t.n(Ft),Xt=t(155),Jt=t.n(Xt);function Qt(){var e=Object(E.a)(["\n    display: flex;\n    align-items: center;\n    margin-bottom: ","px;\n\n    & .MuiTypography-root {\n        margin-right: ","px;\n    }\n\n    & .MuiButton-root {\n        padding-left: 0;\n        padding-right: 0;\n    }\n"]);return Qt=function(){return e},e}var qt=De.div(Qt(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(1)})),Kt=function(e){var n=e.style,t=e.onToggle;return s.a.createElement(qt,null,s.a.createElement(C.a,{variant:"caption"},"Display:"),s.a.createElement(se.a,{variant:"outlined",size:"small"},["Standard","List","Images"].map((function(e){return s.a.createElement(me.a,{key:e,onClick:function(){return t(e)},variant:n===e?"contained":void 0},s.a.createElement(S.a,{title:e},function(e){switch(e){case"Standard":return s.a.createElement(Ht.a,null);case"List":return s.a.createElement(Gt.a,null);case"Images":return s.a.createElement(Jt.a,null)}throw Error("Style ".concat(e," does not have an icon."))}(e)))}))))},$t=t(156),Vt=t.n($t);function Yt(){var e=Object(E.a)(["\n    margin-bottom: ","px;\n    margin-left: ","px;\n"]);return Yt=function(){return e},e}var Zt=De.div(Yt(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(1)})),ea=function(e){var n=e.show,t=e.setShow;return s.a.createElement(Zt,null,s.a.createElement(Ln,{size:"small",title:n?"Hide groups":"Show groups",onClick:function(){return t(!n)}},s.a.createElement(Vt.a,null)))},na=t(157),ta=t.n(na);function aa(){var e=Object(E.a)(["\n    margin-bottom: ","px;\n"]);return aa=function(){return e},e}var ra=De.div(aa(),(function(e){return e.theme.spacing(1)})),ca=function(e){var n=e.sortBy,t=e.setSortBy,a=e.sortOrder,r=e.setSortOrder,c=s.a.useState(!1),i=Object(v.a)(c,2),o=i[0],l=i[1],u=s.a.useRef(null),m=function(e){u.current&&u.current.contains(e.target)||l(!1)};return s.a.createElement(ra,null,s.a.createElement(me.a,{ref:u,size:"small",onClick:function(){return l((function(e){return!e}))},startIcon:s.a.createElement(ta.a,null)},"Sort by"),s.a.createElement(Bn.a,{open:o,anchorEl:u.current,role:void 0,transition:!0},(function(e){var c=e.TransitionProps,i=e.placement;return s.a.createElement(Rn.a,Object.assign({},c,{style:{transformOrigin:"bottom"===i?"center top":"center bottom"}}),s.a.createElement(Oe.a,{elevation:5},s.a.createElement(W.a,{onClickAway:m},s.a.createElement(Gn.a,null,[["Name","Asc"],["Name","Desc"],["Cmc","Asc"],["Cmc","Desc"],["Type","Asc"],["Type","Desc"],["Rarity","Asc"],["Rarity","Desc"]].map((function(e){var c=Object(v.a)(e,2),i=c[0],o=c[1];return s.a.createElement(Fn.a,{key:"".concat(i," (").concat(o,")"),selected:i===n&&o===a,onClick:function(e){t(i),r(o)}},"".concat(i," (").concat(o,")"))}))))))})))},ia=t(80),oa=t(98),la=t(158);function ua(){var e=Object(E.a)(["\n    width: 24px;\n    height: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return ua=function(){return e},e}var sa=De.div(ua()),ma=function(){return s.a.createElement(sa,null,s.a.createElement(ia.a,{icon:oa.b}))},da=function(){return s.a.createElement(sa,null,s.a.createElement(ia.a,{icon:oa.c}))},fa=function(){return s.a.createElement(sa,null,s.a.createElement(ia.a,{icon:la.a}))},pa=function(){return s.a.createElement(sa,null,s.a.createElement(ia.a,{icon:oa.a}))};function ha(){var e=Object(E.a)(["\n    z-index: 0;\n    display: flex;\n    flex-direction: column;\n"]);return ha=function(){return e},e}function ba(){var e=Object(E.a)(['\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 75%;\n    z-index: 0;\n\n    & img {\n        width: 100%;\n    }\n\n    &:after {\n        content: "";\n        position: absolute;\n        top: 0;\n        right: 0;\n        width: 100%;\n        height: 100%;\n        display: inline-block;\n        background-image: radial-gradient(\n            ellipse at top 35% right 35%,\n            '," 0%,\n            "," 70%\n        );\n    }\n"]);return ba=function(){return e},e}function ga(){var e=Object(E.a)(["\n    display: flex;\n    align-items: center;\n    margin-bottom: ","px;\n\n    & .MuiDialogContentText-root {\n        flex-grow: 1;\n        margin-bottom: 0;\n    }\n"]);return ga=function(){return e},e}function va(){var e=Object(E.a)(["\n            width: 100%;\n            overflow-x: auto;\n            overflow-y: hidden;\n        "]);return va=function(){return e},e}function Ea(){var e=Object(E.a)(["\n    margin-bottom: ","px;\n    ","\n"]);return Ea=function(){return e},e}var ya=De.div(Ea(),(function(e){return e.theme.spacing(2)}),(function(e){return e.scrollable&&Ce(va())})),ka=De(ze)(ga(),(function(e){return e.theme.spacing(1)})),Oa=De.div(ba(),(function(e){return Object(Ge.c)(e.theme.palette.background.paper,.8)}),(function(e){return e.theme.palette.background.paper})),wa=De.div(ha()),ja=function(){var e=Object(B.h)().deckName;e=decodeURIComponent(e);var n=Object(B.f)(),t=s.a.useContext(q),a=Object(v.a)(t,2),r=a[0],i=a[1],o=r.decks[e],l=s.a.useState(!0),u=Object(v.a)(l,2),m=u[0],d=u[1],f=s.a.useState(!1),p=Object(v.a)(f,2),b=p[0],g=p[1],E=s.a.useState("List"),y=Object(v.a)(E,2),k=y[0],O=y[1],w=s.a.useState("Cmc"),j=Object(v.a)(w,2),x=j[0],C=j[1],D=s.a.useState("Asc"),S=Object(v.a)(D,2),N=S[0],W=S[1],I=s.a.useState(!1),A=Object(v.a)(I,2),z=A[0],T=A[1];s.a.useEffect((function(){var n,t;i({type:"SelectDeck",name:e});var a=Object.values(null!==(n=null===o||void 0===o?void 0:o.cards)&&void 0!==n?n:{}).reduce((function(e,n){return[].concat(Object(Y.a)(e),Object(Y.a)(Object.values(n)))}),[]).filter((function(e){return!r.cardList[e.name]}));(t=Ze.Cards).collection.apply(t,Object(Y.a)(a.map((function(e){return Ze.CardIdentifier.byName(e.name)})))).on("data",(function(e){return i({type:"AddCard",card:e})}))}),[e,o]);return void 0===o?s.a.createElement("div",null,"Loading..."):s.a.createElement(Te,null,s.a.createElement(Oa,null,s.a.createElement("img",{src:o.previewUrl,alt:""})),s.a.createElement(wa,null,s.a.createElement(Re.a,{container:!0,direction:"row",justify:"space-between"},s.a.createElement(Re.a,{item:!0},s.a.createElement(Pe,null,H(o.name))),s.a.createElement(Re.a,{item:!0},s.a.createElement(Ln,{title:m?"Compress":"Expand",size:"small",onClick:function(){return d((function(e){return!e}))}},m?s.a.createElement(ma,null):s.a.createElement(da,null)),s.a.createElement(Ln,{title:"Close preview",size:"small",onClick:function(){return n.push("/")}},s.a.createElement(He.a,null)))),s.a.createElement(Re.a,{container:!0,justify:"space-between"},s.a.createElement(ca,{sortBy:x,setSortBy:C,sortOrder:N,setSortOrder:W}),s.a.createElement(ea,{show:z,setShow:T}),s.a.createElement(ze,null),m&&s.a.createElement(Kt,{style:k,onToggle:O})),s.a.createElement(ze,null,Object.entries(o.cards).map((function(n){var t=Object(v.a)(n,2),a=t[0],i=t[1];return s.a.createElement(ya,{key:a,scrollable:m&&"List"===k},s.a.createElement(Bt,{cards:Object.values(i).map((function(e){var n;return Object(h.a)({},e,{},null!==(n=r.cardList[e.name])&&void 0!==n?n:{})})),style:m?k:"Compressed",actions:e===c.Wishlist?"SearchWishlist":"Deck",sortBy:x,sortOrder:N,showGroups:z,deckName:e,sectionName:a}))}))),s.a.createElement(Ue,null,s.a.createElement(Ln,{title:"Export deck",onClick:function(){return g(!0)}},s.a.createElement(qe.a,null)),e!==c.Collection&&e!==c.Wishlist&&s.a.createElement(Ln,{title:"Delete deck",onClick:function(){n.push("/"),ie.deleteDeck(i,{name:e,id:r.files[e]})}},s.a.createElement(Je.a,null)),o.isDirty&&s.a.createElement(Ln,{title:"Save changes",onClick:function(){return ie.updateFile({id:r.files[e],fileContent:ee.deserialize(o.cards)}).then((function(){return i({type:"UpdateDeck",name:e,isDirty:!1})}))},background:"primary"},s.a.createElement($e.a,null)))),s.a.createElement(de.a,{open:b,onClose:function(){return g(!1)},"aria-labelledby":"export-deck-dialog",fullWidth:!0,maxWidth:"md"},s.a.createElement(fe.a,{id:"import-deck-dialog"},"Export"),s.a.createElement(pe.a,null,s.a.createElement(ka,null,s.a.createElement(he.a,null,"Copy exported text below."),s.a.createElement(Ln,{title:"Copy to clipboard",onClick:function(){return Ye()(ee.deserialize(o.cards))}},s.a.createElement(pa,null))),s.a.createElement(ue.a,{label:"Export",multiline:!0,rows:"15",fullWidth:!0,variant:"outlined",value:ee.deserialize(o.cards),InputProps:{readOnly:!0}}))))},xa=function(){return s.a.createElement(Te,null,s.a.createElement(Pe,null,"User info"),"UserInfo paceholder.")},Ca=t(375),Da=t(248),Sa=t(376),Na=t(245),Wa=t(72),Ia=t.n(Wa),Aa=t(374),za=function(e){var n=e.deck,t=e.variant;return s.a.createElement(Aa.a,{invisible:!(null===n||void 0===n?void 0:n.isDirty),color:"primary",overlap:"circle",badgeContent:" ",anchorOrigin:{vertical:"bottom",horizontal:"right"}},s.a.createElement(Me,{variant:t,alt:H(null===n||void 0===n?void 0:n.name),src:null===n||void 0===n?void 0:n.previewUrl},(null===n||void 0===n?void 0:n.name)===c.Wishlist?s.a.createElement(Qn.a,null):s.a.createElement(ve.a,null)))};function Ta(){var e=Object(E.a)(["\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"]);return Ta=function(){return e},e}var Ua=De(Ca.a)(Ta()),Pa=function(e){var n=e.open,t=e.closeDrawer,a=Object(B.g)().pathname,r=s.a.useContext(q),i=Object(v.a)(r,1)[0],o=function(e){return s.a.createElement(S.a,{key:e.name,title:n?"":(i.decks[e.name].isDirty?"*":"")+H(e.name),placement:"right"},s.a.createElement(Da.a,{component:f.b,to:"/decks/".concat(encodeURIComponent(e.name)),onClick:t,button:!0,selected:i.selectedDeck===e.name&&!a.match("/addDeck")},s.a.createElement(Sa.a,null,s.a.createElement(za,{deck:e})),s.a.createElement(Ua,{primary:H(e.name)})))};return s.a.createElement(s.a.Fragment,null,s.a.createElement(Na.a,null,o(i.decks[c.Collection]),o(i.decks[c.Wishlist])),s.a.createElement(I.a,null),s.a.createElement(Na.a,null,s.a.createElement(S.a,{title:"Add deck",placement:"right"},s.a.createElement(Da.a,{component:f.b,to:"/addDeck/",onClick:t,button:!0,selected:!!a.match("/addDeck")},s.a.createElement(Sa.a,null,s.a.createElement(Me,{alt:"Add deck"},s.a.createElement(Ia.a,null))),s.a.createElement(Ua,{primary:"Add deck"})))),s.a.createElement(I.a,null),s.a.createElement(Na.a,null,Object.values(i.decks).filter((function(e){return e.name!==c.Collection&&e.name!==c.Wishlist})).map((function(e){return o(e)}))))},Ma=t(378),_a=t(379);function La(){var e=Object(E.a)(["\n    height: 24px;\n    width: 24px;\n    position: relative;\n\n    & > * {\n        position: absolute;\n        bottom: 0;\n        transform: translateX(-50%);\n    }\n"]);return La=function(){return e},e}function Ba(){var e=Object(E.a)(["\n    flex-grow: 10;\n\n    & .MuiBottomNavigationAction-label {\n        width: 100%;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n"]);return Ba=function(){return e},e}function Ra(){var e=Object(E.a)(["\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    background-color: ",";\n"]);return Ra=function(){return e},e}var Ga=De(Ma.a)(Ra(),(function(e){return e.theme.palette.secondary.dark})),Fa=De(_a.a)(Ba()),Ha=De.div(La()),Xa=function(e){var n=e.open,t=e.toggleOpen,a=Object(B.g)().pathname,r=Object(B.f)(),c=s.a.useContext(q),i=Object(v.a)(c,1)[0],o=s.a.useState(0),l=Object(v.a)(o,2),u=l[0],m=l[1];s.a.useEffect((function(){return m(n?2:a.match("/addDeck")?0:1)}),[n,a]);return s.a.createElement(Ga,{value:u,onChange:function(e,n){return function(e){switch(m(e),e){case 0:return void r.push("/addDeck/");case 1:return void r.push("/decks/".concat(encodeURIComponent(i.decks[i.selectedDeck].name)));case 2:return void t()}throw Error("Invalid tab number ".concat(e))}(n)},showLabels:!0},s.a.createElement(_a.a,{label:"Add deck",icon:s.a.createElement(Ia.a,null)}),s.a.createElement(Fa,{label:H(i.selectedDeck),icon:s.a.createElement(Ha,null,s.a.createElement(za,{deck:i.decks[i.selectedDeck]}))}),s.a.createElement(_a.a,{label:"Menu",icon:s.a.createElement(M.a,null)}))},Ja=t(380),Qa=t(381),qa=t(389),Ka=t(161),$a=t.n(Ka),Va=t(162),Ya=t.n(Va);function Za(){var e=Object(E.a)(["\n    display: flex;\n    margin-top: ","px;\n    align-items: center;\n\n    & .MuiAutocomplete-root {\n        flex-grow: 1;\n        margin-right: ","px;\n    }\n"]);return Za=function(){return e},e}var er=De.div(Za(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(1)})),nr=function(){var e=s.a.useState(""),n=Object(v.a)(e,2),t=n[0],a=n[1],r=s.a.useState([]),c=Object(v.a)(r,2),i=c[0],o=c[1],l=s.a.useState(!1),u=Object(v.a)(l,2),m=u[0],d=u[1],f=function(){return d(!1)},p=s.a.useState({colors:{r:!1,g:!1,u:!1,b:!1,w:!1},colorExactMatch:!1,cmc:0,cmcType:"="}),b=Object(v.a)(p,2),g=b[0],E=b[1],y=function(e){return function(n){var t=Object(h.a)({},g);t.colors[e]=n.target.checked,E(t)}};return s.a.createElement(Te,null,s.a.createElement(Pe,null,"Card search"),s.a.createElement(ze,null,s.a.createElement(er,null,s.a.createElement(Ee.a,{freeSolo:!0,autoHighlight:!0,disableClearable:!0,options:i,inputValue:t,onInputChange:function(e,n){return a(n),void le.Cards.Autocomplete(t).then((function(e){return o(e)}))},renderInput:function(e){return s.a.createElement(ue.a,Object.assign({},e,{label:"Card name",variant:"outlined",fullWidth:!0}))}}))),s.a.createElement(de.a,{open:m,onClose:f,"aria-labelledby":"advanced-card-search-dialog",maxWidth:"md",fullWidth:!0},s.a.createElement(fe.a,{id:"advanced-card-search-dialog"},"Advanced card search"),s.a.createElement(pe.a,null,s.a.createElement(C.a,{variant:"subtitle2"},"Filter by color"),s.a.createElement(Ja.a,{row:!0},s.a.createElement(Qa.a,{label:s.a.createElement(xn,{text:"{R} Red"}),control:s.a.createElement(qa.a,{checked:g.colors.r,onChange:y("r")})}),s.a.createElement(Qa.a,{label:s.a.createElement(xn,{text:"{G} Green"}),control:s.a.createElement(qa.a,{checked:g.colors.g,onChange:y("g")})}),s.a.createElement(Qa.a,{label:s.a.createElement(xn,{text:"{U} Blue"}),control:s.a.createElement(qa.a,{checked:g.colors.u,onChange:y("u")})}),s.a.createElement(Qa.a,{label:s.a.createElement(xn,{text:"{B} Black"}),control:s.a.createElement(qa.a,{checked:g.colors.b,onChange:y("b")})}),s.a.createElement(Qa.a,{label:s.a.createElement(xn,{text:"{W} White"}),control:s.a.createElement(qa.a,{checked:g.colors.w,onChange:y("w")})})),s.a.createElement(Qa.a,{label:"Exact color match?",control:s.a.createElement(qa.a,{checked:g.colorExactMatch,onChange:function(e){return E(Object(h.a)({},g,{colorExactMatch:e.target.checked}))}})})),s.a.createElement(be.a,null,s.a.createElement(me.a,{onClick:function(){return E({colors:{r:!1,g:!1,u:!1,b:!1,w:!1},colorExactMatch:!1,cmc:0,cmcType:"="})},color:"primary"},"Reset"),s.a.createElement(me.a,{onClick:f,color:"primary"},"OK"))),s.a.createElement(Ue,null,s.a.createElement(S.a,{title:"Advanced search filter"},s.a.createElement(me.a,{onClick:function(){return d(!0)}},s.a.createElement($a.a,null))),s.a.createElement(S.a,{title:"Search for results"},s.a.createElement(me.a,{onClick:function(){alert(JSON.stringify(g))}},s.a.createElement(Ya.a,null)))))};function tr(){var e=Object(E.a)(["\n    ","\n"]);return tr=function(){return e},e}function ar(){var e=Object(E.a)(["\n    ","\n"]);return ar=function(){return e},e}function rr(){var e=Object(E.a)(["\n    ","\n"]);return rr=function(){return e},e}function cr(){var e=Object(E.a)(["\n    width: 50%;\n    height: 50%;\n"]);return cr=function(){return e},e}function ir(){var e=Object(E.a)(["\n    position: absolute;\n    top: -75%;\n    right: 50%;\n    transform: translateX(50%);\n"]);return ir=function(){return e},e}function or(){var e=Object(E.a)(["\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    padding: ",";\n    background-color: ",";\n    border-radius: ","px;\n\n    & .MuiTypography-root {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n"]);return or=function(){return e},e}function lr(){var e=Object(E.a)(["\n    background-color: ",";\n    color: ",";\n    border-radius: ","px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n"]);return lr=function(){return e},e}function ur(){var e=Object(E.a)(["\n    padding-bottom: 65%;\n    width: 100%;\n    height: 0;\n    position: relative;\n"]);return ur=function(){return e},e}var sr=De.div(ur()),mr=De(N.a)(lr(),(function(e){return e.theme.palette.background.default}),(function(e){return e.theme.palette.text.secondary}),(function(e){return e.theme.spacing(4)})),dr=De(Oe.a)(or(),(function(e){return e.theme.spacing(1,2)}),(function(e){return e.theme.palette.grey[900]}),(function(e){return e.theme.spacing(4)})),fr=De.div(ir()),pr=Ce(cr()),hr=De(Qn.a)(rr(),pr),br=De(ve.a)(ar(),pr),gr=De(Ia.a)(tr(),pr),vr=function(e){var n=e.deck,t=s.a.useContext(q),a=Object(v.a)(t,1)[0];return n?s.a.createElement(sr,null,s.a.createElement(f.b,{to:"/decks/".concat(encodeURIComponent(n.name))},s.a.createElement(mr,{variant:"rounded",alt:H(n.name),src:n.previewUrl},n.name===c.Wishlist?s.a.createElement(hr,null):s.a.createElement(br,null)),s.a.createElement(dr,null,s.a.createElement(fr,null,s.a.createElement(xn,{variant:"h3",text:le.getColorIdentity.apply(le,Object(Y.a)(Object.keys(n.cards[F.Default]).map((function(e){return a.cardList[e]}))))})),s.a.createElement(C.a,{variant:"h6"},H(n.name))))):s.a.createElement(sr,null,s.a.createElement(f.b,{to:"/addDeck/"},s.a.createElement(mr,{variant:"rounded",alt:"Add deck"},s.a.createElement(gr,null))))},Er=function(){var e=s.a.useContext(q),n=Object(v.a)(e,1)[0];return s.a.createElement(Te,null,s.a.createElement(Pe,null,"Your decks"),s.a.createElement(Re.a,{container:!0,spacing:6,direction:"column"},s.a.createElement(Re.a,{item:!0,container:!0,spacing:1},s.a.createElement(Re.a,{item:!0,xs:12,sm:6,lg:3},s.a.createElement(vr,{deck:n.decks[c.Collection]})),s.a.createElement(Re.a,{item:!0,xs:12,sm:6,lg:3},s.a.createElement(vr,{deck:n.decks[c.Wishlist]}))),s.a.createElement(Re.a,{item:!0,container:!0,spacing:1},s.a.createElement(Re.a,{item:!0,xs:12,sm:6,lg:3},s.a.createElement(vr,null)),Object.values(n.decks).filter((function(e){return e.name!==c.Collection&&e.name!==c.Wishlist})).map((function(e){return s.a.createElement(Re.a,{key:e.name,item:!0,xs:12,sm:6,lg:3},s.a.createElement(vr,{deck:e}))})))))},yr=function(){return s.a.createElement(Re.a,{container:!0,spacing:2},s.a.createElement(Re.a,{item:!0,xs:12},s.a.createElement(nr,null)),s.a.createElement(Re.a,{item:!0,xs:12},s.a.createElement(Er,null)))},kr=function(){return s.a.createElement("div",null,"Not found")},Or=t(163),wr=t.n(Or),jr=function(e){var n=e.variant,t=e.onClick;return s.a.createElement(me.a,{variant:n,onClick:t,startIcon:s.a.createElement(fa,null)},s.a.createElement(C.a,{noWrap:!0},"Sign in"))},xr=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Re.a,{container:!0,justify:"center",alignItems:"center",style:{padding:25}},s.a.createElement("img",{src:wr.a,alt:"",width:"150px",height:"150px",draggable:!1})),s.a.createElement(Re.a,{container:!0,justify:"center",alignItems:"center"},s.a.createElement(jr,{variant:"contained",onClick:ie.signIn})))};function Cr(){var e=Object(E.a)(["\n    margin-right: ","px;\n"]);return Cr=function(){return e},e}function Dr(){var e=Object(E.a)(["\n            "," {\n                & {\n                    margin-left: ",";\n                    width: calc(100% - ",");\n                }\n            }\n        "]);return Dr=function(){return e},e}function Sr(){var e=Object(E.a)(["\n    flex-grow: 1;\n    padding: ","px;\n    margin-left: ",";\n    ","\n    ","\n\n    ","\n    "," {\n        & {\n            width: 100%;\n            margin-left: 0;\n            margin-bottom: ","px;\n            padding: ","px;\n        }\n    }\n"]);return Sr=function(){return e},e}function Nr(){var e=Object(E.a)(["\n    "," {\n        & {\n            padding: 0;\n        }\n    }\n"]);return Nr=function(){return e},e}function Wr(){var e=Object(E.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    padding: ","px;\n"]);return Wr=function(){return e},e}function Ir(){var e=Object(E.a)(["\n    flex-shrink: 0;\n    white-space: nowrap;\n    ","\n    ","\n\n    .MuiDrawer-paper {\n        ","\n        ","\n    }\n"]);return Ir=function(){return e},e}function Ar(){var e=Object(E.a)(["\n    width: ",";\n\n    "," {\n        & {\n            max-height: 0;\n        }\n    }\n"]);return Ar=function(){return e},e}function zr(){var e=Object(E.a)(["\n    width: ",";\n    overflow-x: hidden;\n    transition: ",";\n\n    "," {\n        & {\n            width: 100%;\n            height: auto;\n            max-height: 100%;\n        }\n    }\n"]);return zr=function(){return e},e}function Tr(){var e=Object(E.a)(["\n            display: none;\n        "]);return Tr=function(){return e},e}function Ur(){var e=Object(E.a)(["\n    margin-right: 36px;\n    ","\n\n    "," {\n        & {\n            margin-right: ","px;\n            display: inline-block;\n        }\n    }\n"]);return Ur=function(){return e},e}function Pr(){var e=Object(E.a)(["\n            "," {\n                & {\n                    width: 100%;\n                    margin-left: 0;\n                }\n            }\n        "]);return Pr=function(){return e},e}function Mr(){var e=Object(E.a)(["\n    z-index: ",";\n    ","\n    ","\n    ","\n"]);return Mr=function(){return e},e}function _r(){var e=Object(E.a)(["\n    transition: ",";\n"]);return _r=function(){return e},e}function Lr(){var e=Object(E.a)(["\n    margin-left: ",";\n    width: calc(100% - ",");\n    transition: ",";\n"]);return Lr=function(){return e},e}var Br=Ce(Lr(),(function(e){return e.theme.constants.drawerWidth}),(function(e){return e.theme.constants.drawerWidth}),(function(e){return e.theme.transitions.create(["width","margin"],{easing:e.theme.transitions.easing.sharp,duration:e.theme.transitions.duration.enteringScreen})})),Rr=Ce(_r(),(function(e){return e.theme.transitions.create(["width","margin"],{easing:e.theme.transitions.easing.sharp,duration:e.theme.transitions.duration.leavingScreen})})),Gr=De(y.a)(Mr(),(function(e){return e.theme.zIndex.drawer+1}),Rr,(function(e){return e.open&&Br}),(function(e){return e.open&&Ce(Pr(),e.theme.breakpoints.down("xs"))})),Fr=De(k.a)(Ur(),(function(e){return e.open&&Ce(Tr())}),(function(e){return e.theme.breakpoints.down("xs")}),(function(e){return e.theme.spacing(1)})),Hr=Ce(zr(),(function(e){return e.theme.constants.drawerWidth}),(function(e){return["width","max-height"].map((function(n){return e.theme.transitions.create(n,{easing:e.theme.transitions.easing.sharp,duration:e.theme.transitions.duration.enteringScreen})})).join(", ")}),(function(e){return e.theme.breakpoints.down("xs")})),Xr=Ce(Ar(),(function(e){return e.theme.constants.drawerWidthClosed}),(function(e){return e.theme.breakpoints.down("xs")})),Jr=De(O.a)(Ir(),Hr,(function(e){return!e.open&&Xr}),Hr,(function(e){return!e.open&&Xr})),Qr=De(w.a)(Wr(),(function(e){return e.theme.spacing(0,1)})),qr=De(j.a)(Nr(),(function(e){return e.theme.breakpoints.down("xs")})),Kr=De.div(Sr(),(function(e){return e.theme.spacing(2)}),(function(e){return e.theme.constants.drawerWidthClosed}),Rr,(function(e){return e.open&&Br}),(function(e){return e.open&&Ce(Dr(),e.theme.breakpoints.down("sm"),(function(e){return e.theme.constants.drawerWidthClosed}),(function(e){return e.theme.constants.drawerWidthClosed}))}),(function(e){return e.theme.breakpoints.down("xs")}),(function(e){return e.theme.spacing(7)}),(function(e){return e.theme.spacing(1)})),$r=De.div(Cr(),(function(e){return e.theme.spacing(1)})),Vr=function(){var e=Object(B.f)(),n=Object(x.a)(xe.breakpoints.down("xs")),t=s.a.useReducer($,Q),a=Object(v.a)(t,2),r=a[0],c=a[1],i=s.a.useState(),o=Object(v.a)(i,2),l=o[0],u=o[1],m=s.a.useState(void 0),d=Object(v.a)(m,2),p=d[0],b=d[1],E=s.a.useState([!1,!1]),y=Object(v.a)(E,2),O=Object(v.a)(y[0],1)[0],j=y[1],A=function(){return j((function(e){return[!e[0],!0]}))};return s.a.useEffect((function(){ie.initClient((function(n){var t;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.location.pathname,b(n),n){a.next=5;break}return e.push("/signin/"),a.abrupt("return");case 5:t.match("/signin")&&(t="/"),e.push(t),u(ie.getProfile()),ie.prepareAppData()(c);case 9:case"end":return a.stop()}}))})),le.Symbology.All().then((function(e){var n=L.a.create({baseURL:"",responseType:"text",headers:{"Content-Type":"image/svg+xml"}});return Promise.all(e.map((function(e){return n.get(e.svg_uri,{transformResponse:function(n){return Object(h.a)({},e,{svg:n})}})})))})).then((function(e){c({type:"AddSymbols",symbols:e.map((function(e){return e.data}))})})).then(le.Sets.All).then((function(e){var n=L.a.create({baseURL:"",responseType:"text",headers:{"Content-Type":"image/svg+xml"}});return Promise.all(e.map((function(e){return n.get(e.icon_svg_uri,{transformResponse:function(n){return Object(h.a)({},e,{icon_svg:n})}})})))})).then((function(e){c({type:"AddSets",sets:e.map((function(e){return e.data}))})}))}),[]),s.a.createElement(q.Provider,{value:[r,c]},s.a.createElement(Gr,{position:"sticky",open:O},s.a.createElement(w.a,null,!n&&s.a.createElement(Fr,{color:"inherit","aria-label":"open drawer",onClick:A,edge:"start",open:O},s.a.createElement(M.a,null)),s.a.createElement(C.a,{variant:"h6",style:{overflow:"hidden"}},s.a.createElement(D.a,{variant:"inherit",color:"inherit",underline:"none",component:f.b,to:"/"},"MTGCollection")),s.a.createElement(ze,null),p?s.a.createElement(s.a.Fragment,null,!Object(R.isNullOrUndefined)(l)&&s.a.createElement($r,null,s.a.createElement(S.a,{title:"Signed in as ".concat(l.getGivenName()," (").concat(l.getEmail(),")")},s.a.createElement(N.a,{component:f.b,to:"/user/",alt:l.getGivenName(),src:l.getImageUrl()}))),s.a.createElement(Ln,{title:"SignOut",onClick:function(){ie.signOut(),u(void 0)}},s.a.createElement(U.a,null))):s.a.createElement(jr,{onClick:ie.signIn}))),s.a.createElement(W.a,{onClickAway:function(){return n&&j((function(e){return[!!e[1]&&e[0],!1]}))}},s.a.createElement(Jr,{open:O,anchor:n?"bottom":"left",variant:"permanent"},s.a.createElement(Qr,null,s.a.createElement(k.a,{onClick:function(){return j([!1,!1])}},n?s.a.createElement(He.a,null):s.a.createElement(z.a,null))),s.a.createElement(I.a,null),p&&s.a.createElement(Pa,{open:O,closeDrawer:function(){return n&&O&&A()}}))),s.a.createElement(qr,{maxWidth:"xl"},s.a.createElement(Kr,{open:O},s.a.createElement(B.c,null,s.a.createElement(B.a,{exact:!0,path:"/",component:yr}),s.a.createElement(B.a,{exact:!0,path:"/signin/",component:xr}),s.a.createElement(B.a,{exact:!0,path:"/user/",component:xa}),s.a.createElement(B.a,{exact:!0,path:"/addDeck/",component:Be}),s.a.createElement(B.a,{path:"/decks/:deckName",component:ja}),s.a.createElement(B.a,{component:kr})))),n&&s.a.createElement(Xa,{open:O,toggleOpen:A}))},Yr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Zr(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}d.a.render(s.a.createElement(f.a,{basename:"/MTGCollection"},s.a.createElement(o.b,{injectFirst:!0},s.a.createElement(p.a,{theme:xe},s.a.createElement(l.a,{theme:xe},s.a.createElement(i.a,null),s.a.createElement(Vr,null))))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/MTGCollection",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/MTGCollection","/service-worker.js");Yr?(!function(e,n){fetch(e).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Zr(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Zr(n,e)}))}}()}},[[193,1,2]]]);
//# sourceMappingURL=main.6193f773.chunk.js.map