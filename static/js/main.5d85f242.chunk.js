(this["webpackJsonpmtg-collection"]=this["webpackJsonpmtg-collection"]||[]).push([[0],{162:function(e,t,n){e.exports=n(200)},200:function(e,t,n){"use strict";n.r(t);var a,r,i,c=n(340),l=n(317),o=n(339),u=n(0),s=n.n(u),m=n(10),d=n.n(m),p=n(61),f=n(9),h=n.n(f),v=n(13),g=n(15),E=n(335),b=n(333),w=n(336),k=n(337),y=n(62),C=n(338),x=n(324),O=n(323),j=n(136),D=n.n(j),I=n(135),S=n.n(I),W=n(134),A=n.n(W),F=n(132),P=n.n(F),T=n(137),L=n(41),U=n(22),M=n(85),N=n.n(M),_=function(){var e=N.a.create({baseURL:"https://api.scryfall.com",responseType:"json",headers:{"Content-Type":"application/json"}});return{endpoint:e,Symbology:{All:function(){return e.get("/symbology").then((function(e){return e.data.data}))},ParseMana:function(t){return e.get("/symbology/parse-mana",{params:{cost:t}})}}}}(),B=function(e){return"https://via.placeholder.com/146x204?text=".concat(e.replace(/\s/,"+"))},G=Object(U.a)({},_,{getImage:function(e,t){var n,a,r;switch(e.layout){case"transform":case"double_faced_token":r=e.card_faces[0].image_uris;break;default:r=e.image_uris}return null!==(n=null===(a=r)||void 0===a?void 0:a[t])&&void 0!==n?n:B(e.name)},getPlaceholder:B}),z=n(122),H=n(7);!function(e){e.Collection="_collection",e.Wishlist="_wishlist"}(i||(i={}));var R,J={files:(a={},Object(H.a)(a,i.Collection,""),Object(H.a)(a,i.Wishlist,""),a),decks:(r={},Object(H.a)(r,i.Collection,{name:i.Collection,cards:[]}),Object(H.a)(r,i.Wishlist,{name:i.Wishlist,cards:[]}),r),cardList:{},symbolList:{},selectedDeck:null},$=s.a.createContext([J,void 0]),q=n(48),K=(R={files:function(e,t){switch(t.type){case"CreateDeck":return Object(U.a)({},e,Object(H.a)({},t.name,t.link));case"DeleteDeck":return Object(U.a)({},Object(q.omit)(e,[t.name]))}return e},cardList:function(e,t){switch(t.type){case"AddCard":return Object(U.a)({},e,Object(H.a)({},t.card.name,t.card))}return e},symbolList:function(e,t){switch(t.type){case"AddSymbols":return t.symbols.reduce((function(e,t){return Object(U.a)({},e,Object(H.a)({},t.symbol,t))}),{})}return e},decks:function(e,t){switch(t.type){case"CreateDeck":return Object(U.a)({},e,Object(H.a)({},t.name,Object(U.a)({cards:[]},Object(q.omit)(t,["type","link"]))));case"UpdateDeck":return Object(U.a)({},e,Object(H.a)({},t.name,Object(U.a)({},e[t.name],{},Object(q.omit)(t,["type"]))));case"DeleteDeck":return Object(U.a)({},Object(q.omit)(e,[t.name]))}return e},selectedDeck:function(e,t){switch(t.type){case"SelectDeck":return t.name;case"DeleteDeck":return t.name===e?null:e}return e}},function(e,t){var n={};for(var a in R)n[a]=R[a](e[a],t);return n}),Q=n(2),V=n(26),X=n(124),Y=n.n(X),Z=function(e){return e.split("\n").filter((function(e){return!e.match(/^\s*$/)&&!e.startsWith("//")})).map((function(e){return e.match(/^(\d*) (?:\[(.*)\] )?(.*)$/)})).filter((function(e){return!Object(q.isNull)(e)})).map((function(e){return{amount:parseInt(e[1]),name:e[3],set:e[2]}}))},ee=function(e){var t,n=Y.a.parse(e,{header:!0,dynamicTyping:!0,skipEmptyLines:"greedy"});return(null===(t=n.errors)||void 0===t?void 0:t.length)>0&&n.errors.forEach(console.error),n.data.map((function(e){var t,n,a;return{amount:e.amount,name:null!==(t=e.name)&&void 0!==t?t:e.card_name,isFoil:null!==(n=e.isFoil)&&void 0!==n?n:1===e.is_foil,set:null!==(a=e.set)&&void 0!==a?a:e.set_code,comment:e.comment}}))},te={parse:function(e){return e&&""!==e?e.match(/^([\D_]+,?)+/)?ee(e):Z(e):[]}},ne={apiKey:"AIzaSyBcke75SLGGCMiId3EcThDcLnbmnKasWyE",clientId:"213841300532-aqinavnoi53if8cbk6re0aa6gkf965q3.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],scope:"profile https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/drive.file"},ae=function(e){var t,n,a,r,i,c,l,o,u,s,m,d,p;return h.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return r=e.name,i=e.props,c=e.fileContent,l=e.folder,o=new Blob([null!==(t=c)&&void 0!==t?t:""],{type:"text/plain"}),u={name:r,mimeType:"text/plain",appProperties:null!==(n=i)&&void 0!==n?n:{},parents:["appDataFolder"].concat(Object(V.a)(null!==(a=l)&&void 0!==a?a:[]))},s=gapi.auth.getToken().access_token,(m=new FormData).append("metadata",new Blob([JSON.stringify(u)],{type:"application/json"})),m.append("file",o),f.next=9,h.a.awrap(fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",{method:"POST",headers:new Headers({Authorization:"Bearer "+s}),body:m}));case 9:return d=f.sent,f.next=12,h.a.awrap(d.json());case 12:return p=f.sent,f.abrupt("return",p.id);case 14:case"end":return f.stop()}}))},re=function(e){var t,n;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.id,a.next=3,h.a.awrap(gapi.client.drive.files.get({fileId:t,alt:"media"}));case 3:return n=a.sent,a.abrupt("return",n.body);case 5:case"end":return a.stop()}}))},ie=function(e){var t;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.id,n.abrupt("return",gapi.client.drive.files.delete({fileId:t}));case 2:case"end":return n.stop()}}))},ce=function(e,t){var n,a,r;return h.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.name,a=t.fileContent,r=Object(Q.a)(t,["name","fileContent"]),i.t0=e,i.t1=n,i.next=5,h.a.awrap(ae({name:"".concat(n,".txt"),props:Object(U.a)({name:n},r),fileContent:a}));case 5:i.t2=i.sent,i.t3=te.parse(a),i.t4={type:"CreateDeck",name:i.t1,link:i.t2,cards:i.t3},(0,i.t0)(i.t4);case 9:case"end":return i.stop()}}))},le={initClient:function(e){gapi.load("client:auth2",(function(){gapi.client.init(ne).then((function(){gapi.auth2.getAuthInstance().isSignedIn.listen(e),e(gapi.auth2.getAuthInstance().isSignedIn.get())}),console.error)}))},getProfile:function(){return gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile()},signIn:function(){return gapi.auth2.getAuthInstance().signIn()},signOut:function(){return gapi.auth2.getAuthInstance().signOut()},prepareAppData:function(){return function(e){var t,n,a,r,c,l,o,u,s,m,d,p,f,v,g,E,b,w,k;return h.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,h.a.awrap(gapi.client.drive.files.list({spaces:"appDataFolder",fields:"nextPageToken, files(id, name, appProperties)"}));case 2:if(o=y.sent,u=null===(t=o.result)||void 0===t?void 0:null===(n=t.files)||void 0===n?void 0:n.find((function(e){var t;return(null===(t=e.appProperties)||void 0===t?void 0:t.name)===i.Collection}))){y.next=9;break}console.info("Creating collection..."),ce(e,{name:i.Collection}),y.next=20;break;case 9:return console.info("Loading collection..."),e({type:"CreateDeck",name:i.Collection,link:u.id}),y.t0=e,y.t1=i.Collection,y.t2=te,y.next=16,h.a.awrap(re({id:u.id}));case 16:y.t3=y.sent,y.t4=y.t2.parse.call(y.t2,y.t3),y.t5={type:"UpdateDeck",name:y.t1,cards:y.t4},(0,y.t0)(y.t5);case 20:if(s=null===(a=o.result)||void 0===a?void 0:null===(r=a.files)||void 0===r?void 0:r.find((function(e){var t;return(null===(t=e.appProperties)||void 0===t?void 0:t.name)===i.Wishlist}))){y.next=26;break}console.info("Creating wishlist..."),ce(e,{name:i.Wishlist}),y.next=37;break;case 26:return console.info("Loading wishlist..."),e({type:"CreateDeck",name:i.Wishlist,link:s.id}),y.t6=e,y.t7=i.Wishlist,y.t8=te,y.next=33,h.a.awrap(re({id:s.id}));case 33:y.t9=y.sent,y.t10=y.t8.parse.call(y.t8,y.t9),y.t11={type:"UpdateDeck",name:y.t7,cards:y.t10},(0,y.t6)(y.t11);case 37:m=null===(c=o.result)||void 0===c?void 0:null===(l=c.files)||void 0===l?void 0:l.filter((function(e){var t,n;return(null===(t=e.appProperties)||void 0===t?void 0:t.name)!==i.Collection&&(null===(n=e.appProperties)||void 0===n?void 0:n.name)!==i.Wishlist})),d=0;case 39:if(!(d<m.length)){y.next=56;break}return w=m[d],k=null!==(p=null!==(f=null===(v=w.appProperties)||void 0===v?void 0:v.name)&&void 0!==f?f:null===(g=w.name)||void 0===g?void 0:null===(E=g.match(/(.*?)\.txt/))||void 0===E?void 0:E[0])&&void 0!==p?p:"unnamed",e({type:"CreateDeck",name:k,link:w.id}),y.t12=e,y.t13=k,y.t14=null===(b=w.appProperties)||void 0===b?void 0:b.previewUrl,y.t15=te,y.next=49,h.a.awrap(re({id:w.id}));case 49:y.t16=y.sent,y.t17=y.t15.parse.call(y.t15,y.t16),y.t18={type:"UpdateDeck",name:y.t13,previewUrl:y.t14,cards:y.t17},(0,y.t12)(y.t18);case 53:d++,y.next=39;break;case 56:case"end":return y.stop()}}))}},createNewFile:ae,updateFile:function(e){var t,n,a,r,i,c,l;return h.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.id,n=e.fileContent,a=new Blob([n],{type:"text/plain"}),r=gapi.auth.getToken().access_token,(i=new FormData).append("file",a),o.next=7,h.a.awrap(fetch("https://www.googleapis.com/upload/drive/v3/files/".concat(t,"?uploadType=media&fields=id"),{method:"PATCH",headers:new Headers({Authorization:"Bearer "+r}),body:i}));case 7:return c=o.sent,o.next=10,h.a.awrap(c.json());case 10:return l=o.sent,o.abrupt("return",l.id);case 12:case"end":return o.stop()}}))},deleteFile:ie,createNewDeck:ce,deleteDeck:function(e,t){var n,a;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.name,a=t.id,r.next=3,h.a.awrap(ie({id:a}));case 3:e({type:"DeleteDeck",name:n});case 4:case"end":return r.stop()}}))},getFileContents:re},oe=n(201),ue=n(319),se=n(321),me=n(322),de=n(86),pe=n.n(de),fe=n(125),he=n.n(fe),ve=function(){var e=s.a.useContext($),t=Object(v.a)(e,2),n=t[0],a=t[1],r=function(e){return function(){a({type:"SelectDeck",name:e})}};return s.a.createElement(s.a.Fragment,null,s.a.createElement(oe.a,null,s.a.createElement(ue.a,{button:!0,onClick:r(i.Collection)},s.a.createElement(se.a,null,s.a.createElement(pe.a,null)),s.a.createElement(me.a,{primary:"Collection"})),s.a.createElement(ue.a,{button:!0,onClick:r(i.Wishlist)},s.a.createElement(se.a,null,s.a.createElement(he.a,null)),s.a.createElement(me.a,{primary:"Wishlist"}))),s.a.createElement(O.a,null),s.a.createElement(oe.a,null,Object.values(n.decks).filter((function(e){return e.name!==i.Collection&&e.name!==i.Wishlist})).map((function(e){return s.a.createElement(ue.a,{button:!0,key:e.name,onClick:r(e.name)},s.a.createElement(se.a,null,e.previewUrl?s.a.createElement(x.a,{alt:e.name,src:e.previewUrl}):s.a.createElement(pe.a,null)),s.a.createElement(me.a,{primary:e.name}))}))))},ge=n(334),Ee=n(325),be=n(326),we=n(327),ke=n(212),ye=n(328),Ce=n(329),xe=n(330),Oe=n(331),je=n(332),De=n(76),Ie=n(140),Se=n(18),We=Object(Ie.a)({palette:{type:"dark",primary:{main:Se.a.deepOrange[700]},secondary:{main:Se.a.blueGrey[500]}}},{constants:{drawerWidth:"240px",appletHeight:"240px"}}),Ae=(p.a,p.b),Fe=p.c;function Pe(){var e=Object(g.a)([""]);return Pe=function(){return e},e}function Te(){var e=Object(g.a)(["\n    align-self: flex-end;\n"]);return Te=function(){return e},e}function Le(){var e=Object(g.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    min-height: ",";\n    padding: ","px;\n"]);return Le=function(){return e},e}function Ue(){var e=Object(g.a)(["\n    flex: 1 1 auto;\n"]);return Ue=function(){return e},e}var Me=Fe.div(Ue()),Ne=Fe(De.a)(Le(),(function(e){return e.theme.constants.appletHeight}),(function(e){return e.theme.spacing(2)})),_e=Fe.div(Te()),Be=Fe(y.a).attrs((function(e){return{component:"h2",variant:"h6",color:"primary",gutterBottom:!0}}))(Pe()),Ge=function(){var e=s.a.useContext($),t=Object(v.a)(e,2),n=t[0],a=t[1],r=s.a.useState(""),i=Object(v.a)(r,2),c=i[0],l=i[1],o=s.a.useState(""),u=Object(v.a)(o,2),m=u[0],d=u[1],p=s.a.useState(!1),f=Object(v.a)(p,2),h=f[0],g=f[1],E=s.a.useState(!1),b=Object(v.a)(E,2),w=b[0],k=b[1],y=function(){return g(!1)},C=function(){g(!1),""===m||Object.keys(n.decks).find((function(e){return e===m}))?k(!0):(le.createNewDeck(a,{name:m,fileContent:c}),l(""),d(""),k(!1))};return s.a.createElement(Ee.a,{item:!0,xs:12,md:3},s.a.createElement(Ne,null,s.a.createElement(Be,null,"Add deck"),s.a.createElement(Me,null,s.a.createElement(be.a,{label:"Deck name",variant:"outlined",error:w,helperText:""===m?"Deck name can't be empty":Object.keys(n.decks).find((function(e){return e===m}))?"Deck with this name already exists":"",value:m,onChange:function(e){return d(e.target.value)}})),s.a.createElement(_e,null,s.a.createElement(we.a,{size:"small"},s.a.createElement(ke.a,{onClick:function(){return g(!0)}},"Import"),s.a.createElement(ke.a,{color:"primary",onClick:C},"Create"))),s.a.createElement(ye.a,{open:h,onClose:y,"aria-labelledby":"import-deck-dialog",fullWidth:!0,maxWidth:"md"},s.a.createElement(Ce.a,{id:"import-deck-dialog"},"Import"),s.a.createElement(xe.a,null,s.a.createElement(Oe.a,null,"Paste exported deck below."),s.a.createElement(be.a,{autoFocus:!0,fullWidth:!0,label:"Import",multiline:!0,rows:"15",variant:"outlined",value:c,onChange:function(e){return l(e.target.value)}})),s.a.createElement(je.a,null,s.a.createElement(ke.a,{onClick:y,color:"primary"},"Cancel"),s.a.createElement(ke.a,{onClick:C,color:"primary"},"Import")))))},ze=n(130),He=n.n(ze),Re=n(131),Je=n.n(Re),$e=n(75),qe=function(e){var t,n=e.style,a=Object(Q.a)(e,["style"]),r=s.a.useContext($),i=Object(v.a)(r,1)[0].cardList[a.name];switch(n){case"Minimal":return s.a.createElement("tr",{title:a.comment},s.a.createElement("td",null,a.amount,"x"),s.a.createElement("td",null,a.isFoil&&s.a.createElement("div",null,"(Foil)"),a.name),s.a.createElement("td",null,null!==(t=a.set)&&void 0!==t?t:"-"));case"Checklist":return s.a.createElement("tr",null,s.a.createElement("td",null,a.amount,"x"),s.a.createElement("td",null,a.isFoil&&s.a.createElement("div",null,"(Foil)"),a.name),s.a.createElement("td",null,i?i.mana_cost:"???"),s.a.createElement("td",null,a.set));case"Images":return s.a.createElement("img",{title:a.name,alt:a.name,src:i?G.getImage(i,"small"):G.getPlaceholder(a.name)});case"Full":return s.a.createElement("div",null,"PLACEHOLDER")}},Ke=function(e){var t=e.deckName,n=s.a.useContext($),a=Object(v.a)(n,2),r=a[0],c=a[1],l=r.decks[t],o=s.a.useState("Minimal"),u=Object(v.a)(o,2),m=u[0],d=u[1];s.a.useEffect((function(){var e,t=l.cards.filter((function(e){return!r.cardList[e.name]}));(e=$e.Cards).collection.apply(e,Object(V.a)(t.map((function(e){return e.set?$e.CardIdentifier.byName(e.name,e.set):$e.CardIdentifier.byName(e.name)})))).on("data",(function(e){return c({type:"AddCard",card:e})}))}),[l,c,r.cardList]);return s.a.createElement(Ee.a,{item:!0,xs:12,md:6},s.a.createElement(Ne,null,s.a.createElement(Ee.a,{container:!0,direction:"row",justify:"space-between"},s.a.createElement(Ee.a,{item:!0},s.a.createElement(Be,null,"Deck preview")),s.a.createElement(Ee.a,{item:!0},s.a.createElement(b.a,{size:"small",onClick:function(){c({type:"SelectDeck",name:null})}},s.a.createElement(He.a,null),s.a.createElement(y.a,{variant:"srOnly"},"Close preview")))),s.a.createElement(Me,null,s.a.createElement("div",null,"Deck: ",t),s.a.createElement("button",{onClick:function(){return h.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,h.a.awrap(le.getFileContents({id:r.files.collection}));case 3:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 5:case"end":return e.stop()}}))}},"Export collection"),s.a.createElement("div",null,s.a.createElement("div",null,"Style:"),s.a.createElement("button",{disabled:"Minimal"===m,onClick:function(){return d("Minimal")}},"Minimal"),s.a.createElement("button",{disabled:"Checklist"===m,onClick:function(){return d("Checklist")}},"Checklist"),s.a.createElement("button",{disabled:"Images"===m,onClick:function(){return d("Images")}},"Images"),s.a.createElement("button",{disabled:"Full"===m,onClick:function(){return d("Full")}},"Full")),"Minimal"===m||"Checklist"===m?s.a.createElement("table",null,"Minimal"===m&&s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"#"),s.a.createElement("th",null,"Card name"),s.a.createElement("th",null,"Set"))),"Checklist"===m&&s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"#"),s.a.createElement("th",null,"Card name"),s.a.createElement("th",null,"Mana cost"),s.a.createElement("th",null,"Set"))),s.a.createElement("tbody",null,l.cards.map((function(e,t){return s.a.createElement(qe,Object.assign({style:m,key:t},e))})))):s.a.createElement("div",null,l.cards.map((function(e,t){return s.a.createElement(qe,Object.assign({style:m,key:t},e))})))),s.a.createElement(_e,null,t!==i.Collection&&t!==i.Wishlist&&s.a.createElement(b.a,{"aria-label":"delete",onClick:function(){le.deleteDeck(c,{name:t,id:r.files[t]})}},s.a.createElement(Je.a,null)))))},Qe=function(){return s.a.createElement(Ee.a,{item:!0,xs:12,md:!0},s.a.createElement(Ne,null,s.a.createElement(Be,null,"Card search")))},Ve=function(){return s.a.createElement(Ee.a,{item:!0,xs:12,md:9},s.a.createElement(Ne,null,s.a.createElement(Be,null,"User info"),"UserInfo paceholder"))},Xe=function(){var e=s.a.useContext($),t=Object(v.a)(e,1)[0];return s.a.createElement(ge.a,{maxWidth:"lg"},s.a.createElement(Ee.a,{container:!0,spacing:3},s.a.createElement(Ve,null),s.a.createElement(Ge,null),s.a.createElement(Qe,null),null!==t.selectedDeck&&s.a.createElement(Ke,{deckName:t.selectedDeck})))},Ye=function(){return s.a.createElement("div",null,"Not found")},Ze=function(e){var t=e.variant,n=e.onClick;return s.a.createElement(ke.a,{variant:t,onClick:n},s.a.createElement(y.a,{noWrap:!0},"Sign in with Google"))},et=function(){return s.a.createElement(Ee.a,{container:!0,justify:"center",alignItems:"center"},s.a.createElement(Ze,{variant:"contained",onClick:le.signIn}))};function tt(){var e=Object(g.a)(["\n    margin-right: ","px;\n"]);return tt=function(){return e},e}function nt(){var e=Object(g.a)(["\n    flex-grow: 1;\n    padding: ","px;\n    margin-left: ","px;\n    ","\n    ","\n"]);return nt=function(){return e},e}function at(){var e=Object(g.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    padding: ","px;\n"]);return at=function(){return e},e}function rt(){var e=Object(g.a)(["\n    width: ",";\n    flex-shrink: 0;\n    white-space: nowrap;\n    ","\n\n    .MuiDrawer-paper {\n        ","\n    }\n"]);return rt=function(){return e},e}function it(){var e=Object(g.a)(["\n    transition: ",";\n    overflow-x: hidden;\n    width: ","px;\n"]);return it=function(){return e},e}function ct(){var e=Object(g.a)(["\n    width: ",";\n    transition: ",";\n"]);return ct=function(){return e},e}function lt(){var e=Object(g.a)(["\n            display: none;\n        "]);return lt=function(){return e},e}function ot(){var e=Object(g.a)(["\n    margin-right: 36px;\n    ","\n"]);return ot=function(){return e},e}function ut(){var e=Object(g.a)(["\n    z-index: ",";\n    ","\n    ","\n"]);return ut=function(){return e},e}function st(){var e=Object(g.a)(["\n    transition: ",";\n"]);return st=function(){return e},e}function mt(){var e=Object(g.a)(["\n    margin-left: ",";\n    width: calc(100% - ",");\n    transition: ",";\n"]);return mt=function(){return e},e}var dt=Ae(mt(),(function(e){return e.theme.constants.drawerWidth}),(function(e){return e.theme.constants.drawerWidth}),(function(e){return e.theme.transitions.create(["width","margin"],{easing:e.theme.transitions.easing.sharp,duration:e.theme.transitions.duration.enteringScreen})})),pt=Ae(st(),(function(e){return e.theme.transitions.create(["width","margin"],{easing:e.theme.transitions.easing.sharp,duration:e.theme.transitions.duration.leavingScreen})})),ft=Fe(E.a)(ut(),(function(e){return e.theme.zIndex.drawer+1}),pt,(function(e){return e.open&&dt})),ht=Fe(b.a)(ot(),(function(e){return e.open&&Ae(lt())})),vt=Ae(ct(),(function(e){return e.theme.constants.drawerWidth}),(function(e){return e.theme.transitions.create("width",{easing:e.theme.transitions.easing.sharp,duration:e.theme.transitions.duration.enteringScreen})})),gt=Ae(it(),(function(e){return e.theme.transitions.create("width",{easing:e.theme.transitions.easing.sharp,duration:e.theme.transitions.duration.leavingScreen})}),(function(e){return e.theme.spacing(7)+1})),Et=Fe(w.a).attrs((function(){return{variant:"permanent"}}))(rt(),(function(e){return e.theme.constants.drawerWidth}),(function(e){return e.open?vt:gt}),(function(e){return e.open?vt:gt})),bt=Fe(k.a)(at(),(function(e){return e.theme.spacing(0,1)})),wt=Fe.div(nt(),(function(e){return e.theme.spacing(3)}),(function(e){return e.theme.spacing(7)+1}),pt,(function(e){return e.open&&dt})),kt=Fe.div(tt(),(function(e){return e.theme.spacing(1)})),yt=function(){var e=s.a.useReducer(K,J),t=Object(v.a)(e,2),n=t[0],a=t[1],r=s.a.useState(),i=Object(v.a)(r,2),c=i[0],l=i[1],o=s.a.useState(!1),u=Object(v.a)(o,2),m=u[0],d=u[1],p=s.a.useState(!1),f=Object(v.a)(p,2),g=f[0],E=f[1];return s.a.useEffect((function(){le.initClient((function(e){return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(d(e),e){t.next=3;break}return t.abrupt("return");case 3:l(le.getProfile()),le.prepareAppData()(a);case 5:case"end":return t.stop()}}))})),G.Symbology.All().then((function(e){return a({type:"AddSymbols",symbols:e})}))}),[]),s.a.createElement($.Provider,{value:[n,a]},s.a.createElement(ft,{position:"sticky",open:g},s.a.createElement(k.a,null,s.a.createElement(ht,{color:"inherit","aria-label":"open drawer",onClick:function(){return E(!0)},edge:"start",open:g},s.a.createElement(P.a,null)),s.a.createElement(y.a,{variant:"h6"},"MTGCollection"),s.a.createElement(Me,null),m?s.a.createElement(s.a.Fragment,null,!Object(z.isNullOrUndefined)(c)&&s.a.createElement(kt,null,s.a.createElement(C.a,{title:"Signed in as ".concat(c.getGivenName()," (").concat(c.getEmail(),")")},s.a.createElement(x.a,{alt:c.getGivenName(),src:c.getImageUrl()}))),s.a.createElement(b.a,{onClick:function(){le.signOut(),l(void 0)}},s.a.createElement(A.a,null),s.a.createElement(y.a,{variant:"srOnly"},"SignOut"))):s.a.createElement(Ze,{onClick:le.signIn}))),s.a.createElement(Et,{open:g},s.a.createElement(bt,null,s.a.createElement(b.a,{onClick:function(){return E(!1)}},"rtl"===We.direction?s.a.createElement(S.a,null):s.a.createElement(D.a,null))),s.a.createElement(O.a,null),s.a.createElement(ve,null)),s.a.createElement(wt,{open:g},s.a.createElement(T.a,{basename:"/MTGCollection"},s.a.createElement(L.a,{to:m?"/":"/signin/"}),s.a.createElement(L.d,null,s.a.createElement(L.b,{exact:!0,path:"/",component:Xe}),s.a.createElement(L.b,{exact:!0,path:"/signin/",component:et}),s.a.createElement(L.b,{component:Ye})))))},Ct=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function xt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}d.a.render(s.a.createElement(l.b,{injectFirst:!0},s.a.createElement(p.a,{theme:We},s.a.createElement(o.a,{theme:We},s.a.createElement(c.a,null),s.a.createElement(yt,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/MTGCollection",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/MTGCollection","/service-worker.js");Ct?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):xt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):xt(t,e)}))}}()}},[[162,1,2]]]);
//# sourceMappingURL=main.5d85f242.chunk.js.map